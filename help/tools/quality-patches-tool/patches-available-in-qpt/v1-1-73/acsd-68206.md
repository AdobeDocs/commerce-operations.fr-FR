---
title: 'ACSD-68206: [!DNL GraphQL] server échoue avec limitation de débit et extension PHP Redis'
description: Appliquez le patch ACSD-68206 pour résoudre le problème d'Adobe Commerce où une erreur se produit lorsque le serveur [!DNL GraphQL] Application est utilisé avec la fonction de limitation de débit et l'extension PHP Redis, entraînant la rupture de la fonctionnalité de limitation de débit.
feature: GraphQL, Cache
role: Admin, Developer
type: Troubleshooting
source-git-commit: bf58792ef41d1b4f3b471c655b6b4c96aa28b758
workflow-type: tm+mt
source-wordcount: '378'
ht-degree: 0%

---


# ACSD-68206 : échec [!DNL GraphQL] serveur avec limitation de débit et extension PHP Redis

Le correctif ACSD-68206 corrige le problème où le serveur d&#39;applications GraphQL génère une erreur lors de l&#39;utilisation de la fonction de limitation de débit et de l&#39;extension PHP Redis, ce qui perturbe la fonctionnalité de limitation de débit. Ce correctif est disponible lorsque la version 1.1.73 de [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) est installée. L’ID du correctif est ACSD-68206. Notez que ce problème doit être résolu dans Adobe Commerce 2.4.9.

## Produits et versions concernés

**Le correctif est créé pour la version Adobe Commerce :**

* Adobe Commerce (toutes les méthodes de déploiement) 2.4.8-p2

**Compatible avec les versions d’Adobe Commerce :**

* Adobe Commerce (toutes les méthodes de déploiement) 2.4.7 - 2.4.8-p3

>[!NOTE]
>
>Le correctif peut s’appliquer à d’autres versions avec de nouvelles versions de [!DNL Quality Patches Tool]. Pour vérifier si le correctif est compatible avec votre version d’Adobe Commerce, mettez à jour le package `magento/quality-patches` vers la dernière version et vérifiez la compatibilité sur la page [[!DNL Quality Patches Tool] : Rechercher des correctifs](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html). Utilisez l’ID du correctif comme mot-clé de recherche pour localiser le correctif.

## Problème

Le problème se produit lorsque le serveur d’applications GraphQL utilise la fonction de limitation de débit avec l’extension PHP Redis installée, ce qui rompt la fonctionnalité de limitation de débit.

<u>Procédure à suivre </u> :

1. Installez l’extension PHP Redis.
1. Configurez Redis pour l’application.
1. Configurez le limiteur de débit pour autoriser une commande par client toutes les minutes.
1. Démarrez le serveur d’applications [!DNL GraphQL].
1. En tant que client, envoyez une commande à l’aide de la mutation `PlaceOrder` [!DNL GraphQL].
1. Dans la minute qui suit, envoyez une deuxième commande à l’aide de la mutation `PlaceOrder` [!DNL GraphQL] pour le même client.

<u>Résultats attendus</u> :

La requête `PlaceOrder` [!DNL GraphQL] renvoie un message limitant les tentatives de commande.

<u>Résultats réels</u> :

Le serveur renvoie une erreur 500 pour la deuxième requête GraphQL PlaceOrder. Le journal des exceptions enregistre :

```
report.CRITICAL: Error: Call to a member function exec() on null in vendor/colinmollenhour/credis/Client.php:1336
```

## Application du correctif

Pour appliquer des correctifs individuels, utilisez les liens suivants en fonction de votre méthode de déploiement :

* Adobe Commerce ou Magento Open Source On-premise : [[!DNL Quality Patches Tool] > Utilisation](/help/tools/quality-patches-tool/usage.md) dans le guide de [!DNL Quality Patches Tool].
* Adobe Commerce sur les infrastructures cloud : [Mises à niveau et correctifs > Appliquer des correctifs](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html) dans le guide Commerce sur les infrastructures cloud .

## Lecture connexe

Pour en savoir plus sur [!DNL Quality Patches Tool], consultez :

* [[!DNL Quality Patches Tool] : un outil en libre-service pour les correctifs de qualité](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) dans le guide Outils .
