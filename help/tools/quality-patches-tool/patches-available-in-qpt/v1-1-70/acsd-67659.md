---
title: 'ACSD-67659 : les messages d’erreur traduits renvoient un code d’erreur UNDEFINED'
description: Appliquez le correctif ACSD-67659  [!DNL GraphQL]  pour résoudre le problème d’Adobe Commerce où le message d’exception traduit est utilisé pour mapper le code d’erreur pour les requêtes, ce qui fait que les erreurs connues renvoient un code d’erreur UNDEFINED au lieu du code correct.
feature: GraphQL
role: Admin, Developer
type: Troubleshooting
source-git-commit: 7c42b69524bfae5fcd606596f6737a204bae39cc
workflow-type: tm+mt
source-wordcount: '363'
ht-degree: 0%

---


# ACSD-67659 : les messages d’erreur traduits renvoient un code d’erreur *UNDEFINED*

Le correctif ACSD-67659 corrige le problème où le message d’exception traduit est utilisé pour mapper le code d’erreur pour les requêtes [!DNL GraphQL], ce qui fait que les erreurs connues renvoient un code d’erreur *UNDEFINED* au lieu du code correct. Ce correctif est disponible lorsque la version 1.1.70 de [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) est installée. L’ID du correctif est ACSD-67659. Notez que ce problème doit être résolu dans Adobe Commerce 2.4.9.

## Produits et versions concernés

**Le correctif est créé pour la version Adobe Commerce :**

* Adobe Commerce (toutes les méthodes de déploiement) 2.4.8-p2

**Compatible avec les versions d’Adobe Commerce :**

* Adobe Commerce (toutes les méthodes de déploiement) 2.4.8 - 2.4.8-p2

>[!NOTE]
>
>Le correctif peut s’appliquer à d’autres versions avec de nouvelles versions de [!DNL Quality Patches Tool]. Pour vérifier si le correctif est compatible avec votre version d’Adobe Commerce, mettez à jour le package `magento/quality-patches` vers la dernière version et vérifiez la compatibilité sur la page [[!DNL Quality Patches Tool] : Rechercher des correctifs](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html?lang=fr). Utilisez l’ID du correctif comme mot-clé de recherche pour localiser le correctif.

## Problème

Le message d’exception traduit est utilisé pour mapper le code d’erreur pour les requêtes [!DNL GraphQL], ce qui fait que les erreurs connues renvoient un code d’erreur *UNDEFINED* au lieu du code correct.

<u>Procédure à suivre </u> :

1. Ajoutez des `app/i18n/Magento/de_DE/de_DE.csv` de fichier avec une traduction pour la chaîne d’erreur, par exemple :

   ```
   "Could not find a cart with ID ""%masked_cart_id""","we have an
   UNDEFINED issue",module,Magento_QuoteGraphQl
   ```

2. Dans le panneau d’administration, accédez à **[!UICONTROL Stores]** > **[!UICONTROL Settings]** > **[!UICONTROL All Stores]** > **[!UICONTROL Create Store View]** pour créer une vue de magasin.
3. Définissez **[!UICONTROL Code]** sur *test*.
4. Attribuez `german` langue à la vue de magasin nouvellement créée.
5. Exécutez les commandes `setup:upgrade` et `setup:static-content:deploy -f`.
6. Exécutez la requête GraphQL suivante avec les `Store:test` d’en-tête :

   ```
   mutation {
       placeOrder(input: { cart_id: "test" }) {
           orderV2 {
               id
               number
           }
       }
   }
   ```

<u>Résultats attendus</u> :

La réponse d’erreur renvoie le code d’erreur correct :

```
{
    "errors": [
        {
            "message": "we have an UNDEFINED issue",
            "locations": [
                {
                    "line": 2,
                    "column": 2
                }
            ],
            "path": [
                "placeOrder"
            ],
            "extensions": {
                "category": "graphql-input",
                "error_code": "CART_NOT_FOUND"
            }
        }
    ],
    "data": {
        "placeOrder": null
    }
}
```

<u>Résultats réels</u> :

La `error_code` renvoyée est *UNDEFINED* :

```
{
    "errors": [
        {
            "message": "Oh noo, we have an UNDEFINED issue, see!",
            "locations": [
                {
                    "line": 2,
                    "column": 2
                }
            ],
            "path": [
                "placeOrder"
            ],
            "extensions": {
                "category": "graphql-input",
                "error_code": "UNDEFINED"
            }
        }
    ],
    "data": {
        "placeOrder": null
    }
}
```

## Application du correctif

Pour appliquer des correctifs individuels, utilisez les liens suivants en fonction de votre méthode de déploiement :

* Adobe Commerce ou Magento Open Source On-premise : [[!DNL Quality Patches Tool] > Utilisation](/help/tools/quality-patches-tool/usage.md) dans le guide de [!DNL Quality Patches Tool].
* Adobe Commerce sur les infrastructures cloud : [Mises à niveau et correctifs > Appliquer des correctifs](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html?lang=fr) dans le guide Commerce sur les infrastructures cloud .

## Lecture connexe

Pour en savoir plus sur [!DNL Quality Patches Tool], consultez :

* [[!DNL Quality Patches Tool] : un outil en libre-service pour les correctifs de qualité](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) dans le guide Outils .
