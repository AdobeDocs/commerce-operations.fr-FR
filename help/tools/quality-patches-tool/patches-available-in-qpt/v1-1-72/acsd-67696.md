---
title: 'ACSD-67696 : les entrées media_gallery ne sont pas renvoyées dans le nœud de produit GraphQL du panier après un vidage du cache'
description: Appliquez le correctif ACSD-67696 pour résoudre le problème d’Adobe Commerce en raison duquel les entrées media_gallery ne sont pas renvoyées dans le nœud de produit GraphQL du panier après un vidage du cache.
feature: Cache, Media
role: Admin, Developer
type: Troubleshooting
source-git-commit: 1f92a8ca3413ff56670d1df4108dc32234376021
workflow-type: tm+mt
source-wordcount: '379'
ht-degree: 0%

---


# ACSD-67696 : les entrées `media_gallery` ne sont pas renvoyées dans le nœud de produit GraphQL du panier après un vidage du cache

Le correctif ACSD-67696 corrige le problème en raison duquel les entrées `media_gallery` ne sont pas renvoyées dans le nœud de produit GraphQL du panier après un vidage du cache. Ce correctif est disponible lorsque la version 1.1.72 de [[!DNL Quality Patches Tool (QPT)]](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) est installée. L’ID du correctif est ACSD-67696. Notez que ce problème doit être résolu dans Adobe Commerce 2.4.9.

## Produits et versions concernés

**Le correctif est créé pour la version Adobe Commerce :**

* Adobe Commerce (toutes les méthodes de déploiement) 2.4.7-p6

**Compatible avec les versions d’Adobe Commerce :**

* Adobe Commerce (toutes les méthodes de déploiement) 2.4.4 - 2.4.8-p2

>[!NOTE]
>
>Le correctif peut s’appliquer à d’autres versions avec de nouvelles versions de [!DNL Quality Patches Tool]. Pour vérifier si le correctif est compatible avec votre version d’Adobe Commerce, mettez à jour le package `magento/quality-patches` vers la dernière version et vérifiez la compatibilité sur la page [[!DNL Quality Patches Tool] : Rechercher des correctifs](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html?lang=fr). Utilisez l’ID du correctif comme mot-clé de recherche pour localiser le correctif.

## Problème

`media_gallery` entrées ne sont pas renvoyées dans le nœud de produit GraphQL du panier après un vidage du cache.

<u>Procédure à suivre </u> :

1. Ajoutez des images à un exemple de produit. `product_dynamic_23` SKU (il n’est pas nécessaire de sélectionner des options telles que Image de base, Petite image ou Miniature).
1. Exécutez la GraphQL du produit pour afficher les images du produit dans l’entrée `media_gallery` de la réponse du produit.

```
{
  products(filter: { sku: { eq: "product_dynamic_23" } }) {
    items {
      name
      sku
      url_key
      stock_status
			  media_gallery {
          url
          label
			  }
      price_range {
        minimum_price {
          regular_price {
            value
            currency
          }
        }
      }
    }
    total_count
    page_info {
      page_size
    }
  }
}
```

1. Ajoutez un produit au panier et vérifiez `getCart` requête. `media_gallery` se trouve à l’intérieur du nœud product dans le nœud éléments du panier .
1. Videz le cache de l’administrateur. `media_gallery` est vide dans le nœud product de la requête getCart.
1. Exécutez la requête GraphQL de produit, puis exécutez la requête `getCart` pour afficher les entrées `media_gallery` dans la réponse getCart.

<u>Résultats attendus</u> :

`getCart` GraphQL doit renvoyer des valeurs `media_gallery` même après le vidage du cache.

<u>Résultats réels</u> :

`media_gallery` est vide après le vidage du cache, ce qui entraîne des incohérences.

## Application du correctif

Pour appliquer des correctifs individuels, utilisez les liens suivants en fonction de votre méthode de déploiement :

* Adobe Commerce ou Magento Open Source On-premise : [[!DNL Quality Patches Tool] > Utilisation](/help/tools/quality-patches-tool/usage.md) dans le guide de [!DNL Quality Patches Tool].
* Adobe Commerce sur les infrastructures cloud : [Mises à niveau et correctifs > Appliquer des correctifs](https://experienceleague.adobe.com/docs/commerce-cloud-service/user-guide/develop/upgrade/apply-patches.html?lang=fr) dans le guide Commerce sur les infrastructures cloud .

## Lecture connexe

Pour en savoir plus sur [!DNL Quality Patches Tool], consultez :

* [[!DNL Quality Patches Tool] : un outil en libre-service pour les correctifs de qualité](/help/tools/quality-patches-tool/quality-patches-tool-to-self-serve-quality-patches.md) dans le guide Outils .
