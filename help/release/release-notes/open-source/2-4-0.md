---
title: Notes de mise à jour de Magento Open Source 2.4.0
description: Découvrez les nouvelles fonctionnalités, les améliorations, les correctifs de bogues et les problèmes connus de la version 2.4.5 du Magento Open Source.
recommendations: noCatalog
exl-id: 058f9dfe-7b03-405b-96cc-3904c910e0f6
source-git-commit: 987d65b52437fbd21f41600bb5741b3cc43d01f3
workflow-type: tm+mt
source-wordcount: '17553'
ht-degree: 0%

---

# Notes de mise à jour de Magento Open Source 2.4.0

Magento Open Source 2.4.0 prend désormais en charge PHP 7.4, Elasticsearch 7.6.x et MySQL 8.0. Les modifications de sécurité substantielles incluent l’activation par défaut de l’authentification à deux facteurs dans l’administrateur.

**Avec cette version, l’intégration de la méthode Authorize.Net a été supprimée du code principal. Les commerçants doivent migrer vers l’extension officielle disponible sur le Commerce Marketplace**.

>[!NOTE]
>
>**Intégration des paiements de Braintree** : avant la version 2.4.0, il était recommandé aux vendeurs d’installer et de configurer l’extension officielle d’intégration des paiements de Braintree à partir du Commerce Marketplace pour remplacer l’intégration principale. Avec cette version (2.4.0), l’extension est désormais incluse dans la version. Les commerçants doivent suivre d’autres étapes pour s’assurer que Braintree fonctionne correctement dans un déploiement 2.4.0. Voir [Braintree](https://experienceleague.adobe.com/en/docs/commerce-admin/stores-sales/payments/braintree) pour plus d’informations sur la migration vers la version 2.4.0.

Cette version comprend toutes les améliorations de la qualité de base incluses dans la version 2.3.5-p1, plus de 100 nouveaux correctifs de code principal et 30 améliorations de la sécurité. Elle comprend la résolution de 226 problèmes GitHub par les membres de notre communauté. Ces contributions de la communauté vont du nettoyage mineur du code principal à des améliorations significatives dans Inventory management et GraphQL.

>[!NOTE]
>
>Les mises à jour mineures apportent des améliorations importantes au code. Avant la mise à niveau vers la version 2.4.0, vérifiez que votre environnement respecte les [exigences techniques de pile](../../../installation/system-requirements.md) minimales.

{{bics}}

>[!NOTE]
>
>Les noms de modules des versions de sécurité sont généralement ajoutés avec -p1. Cependant, nous n’avons pas pu éviter de nous écarter de ces conventions de nommage avec la version 2.3.5, ce qui a eu un effet d’entraînement temporaire sur les noms de paquets de sécurité ultérieurs. Plus précisément, la version complète 2.3.5 est 2.3.5-p1. La version de sécurité que nous publierons lorsque les GA 2.4.0 seront 2.3.5-p2. Nous espérons revenir aux conventions de nommage habituelles dans les prochaines versions.

## Postulez `AC-3022.patch` pour continuer à offrir DHL en tant que transporteur maritime

DHL a introduit la version 6.2 du schéma et désapprouvera la version 6.0 du schéma dans un avenir proche. Adobe Commerce 2.4.4 et les versions antérieures prenant en charge l’intégration DHL prennent uniquement en charge la version 6.0. Les commerçants qui déploient ces versions doivent s’appliquer `AC-3022.patch` dès que possible pour continuer à offrir DHL en tant que transporteur maritime. Pour plus d’informations sur le téléchargement et l’installation du correctif, reportez-vous à l’article [Appliquer un correctif pour continuer à proposer DHL comme opérateur de transport](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier) de la base de connaissances.

## Correctif de sécurité disponible

Les vendeurs peuvent désormais installer des correctifs de sécurité sensibles au temps sans appliquer les centaines de correctifs fonctionnels et d’améliorations apportés par une version trimestrielle complète (par exemple, 2.3.5-p2). Le correctif 2.3.5.2 (module du compositeur 2.3.5-p2) est un correctif de sécurité qui fournit des correctifs pour les vulnérabilités identifiées dans notre version trimestrielle précédente, 2.3.5-p1. Tous les correctifs qui ont été appliqués à la version 2.3.5 sont inclus dans ce correctif de sécurité. (Un *correctif* fournit un correctif à une version publiée qui résout un problème ou un bogue spécifique.)

Pour obtenir des informations générales sur les correctifs de sécurité, consultez [Présentation de la nouvelle version](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287) du correctif de sécurité. Pour obtenir des instructions sur le téléchargement et l’application des correctifs de sécurité (y compris le correctif 2.3.5-p2), voir [Installation rapide sur site](../../../installation/composer.md). Les correctifs de sécurité incluent uniquement des correctifs de bogues de sécurité, et non les améliorations de sécurité supplémentaires incluses dans le correctif complet.

## Autres informations sur les versions

Bien que le code de ces fonctionnalités soit fourni avec des versions trimestrielles, plusieurs de ces projets (par exemple, Gestion des stocks et Applications Web progressives (PWA) Studio) sont également publiés indépendamment. Les correctifs de bogues pour ces projets sont documentés dans les informations de mise à jour distinctes et spécifiques au projet disponibles dans la documentation de chaque projet.

## Tons clairs

Dans cette version, recherchez les points forts suivants :

### Améliorations substantielles de la sécurité

Cette version inclut plus de 30 correctifs de sécurité et améliorations de la sécurité de la plateforme.

#### Plus de 30 améliorations de sécurité permettant de fermer les vulnérabilités d’exécution de code distant (RCE) et de script de site à site (XSS)

Aucune attaque confirmée liée à ces problèmes n&#39;a été survenue à ce jour. Cependant, certaines vulnérabilités peuvent être exploitées pour accéder aux informations sur les clients ou prendre le contrôle des sessions d’administrateur. La plupart de ces problèmes nécessitent qu’un attaquant obtienne d’abord l’accès à l’administrateur. Par conséquent, nous vous rappelons de prendre toutes les mesures nécessaires pour protéger votre administrateur, y compris, mais sans s’y limiter, les efforts suivants : placé sur la liste autorisée IP, [authentification à deux facteurs](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), utilisation d’un VPN, utilisation d’un emplacement unique plutôt que `/admin`, et bonne hygiène du mot de passe. Voir [Mises à jour de sécurité disponibles pour Magento](https://helpx.adobe.com/security/products/magento/apsb20-47.html) pour une discussion sur ces problèmes résolus. pour une discussion sur ces problèmes résolus.

#### Autres améliorations de la sécurité

* **Implémentation de 2FA pour les comptes administrateurs, les comptes d’utilisateurs magento.com et l’accès Cloud SSH**

   * **Sécurisation de votre compte** administrateur. L’authentification à deux facteurs (2FA) est maintenant requise pour l’administrateur. Les utilisateurs administrateurs doivent d’abord configurer leur 2FA avant de se connecter à l’administrateur via l’interface utilisateur ou une API Web. 2FA est activé par défaut. Il est vivement déconseillé de désactiver le module 2FA.  Cette étape supplémentaire d’authentification rend plus difficile pour les utilisateurs malveillants de se connecter à l’administrateur sans autorisation. Voir [Authentification à deux facteurs (2FA)](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/). <!-- MC-22631-->

   * **Sécurisation de votre compte**. L’authentification à deux facteurs (2FA) offre une couche de sécurité supplémentaire facultative afin de mieux protéger votre compte magento.com contre les utilisateurs non autorisés qui souhaitent utiliser votre compte d’une manière que vous ne souhaitez pas. Voir [Sécurisation de votre compte](https://experienceleague.adobe.com/en/docs/commerce-admin/start/commerce-account/commerce-account-secure).

* **Sécurisation de l’accès SSH Cloud**. L’Adobe sur l’infrastructure cloud permet l’application de l’authentification multifactorielle (MFA) pour gérer les exigences d’authentification pour l’accès SSH aux environnements cloud. L’authentification multifactorielle pour 2FA n’est pas activée par défaut sur un projet.  Adobe recommande vivement d’activer cette fonctionnalité. Contactez l’assistance technique pour obtenir de l’aide. Voir [ Activation de l’authentification multifactorielle pour l’accès SSH ](https://experienceleague.adobe.com/en/docs/commerce-cloud-service/user-guide/project/multi-factor-authentication).

* **Le mode strict du filtre de modèle est désormais activé par défaut**. Les composants (y compris les pages et les blocs CMS) qui utilisent le filtre de modèle en mode hérité peuvent être vulnérables à l’exécution de code distant (RCE). L’activation du mode strict par défaut garantit que les attaques RCE ne peuvent pas être délibérément activées. <!-- MC-22982-->

* **Le rendu des données pour les fournisseurs de données de l’interface utilisateur est désormais désactivé par défaut**. Cela supprime l’opportunité pour les utilisateurs malveillants d’exécuter des JavaScript arbitraires. <!-- MC-17356-->

* **Nouvelle classe `\Magento\Framework\Escaper`**. Cette classe est fournie pour les modèles `.phtml` et les classes PHP responsables de la génération de l’HTML. Cette classe contient des méthodes d’assainissement d’HTML adaptées à plusieurs contextes. La variable locale `$escaper` est disponible dans les modèles `.phtml` et doit être utilisée à la place de la variable `$block->escape{method}` obsolète. Utilisez `$escaper` plutôt que `$block`, car l’utilisation de `$block->escape{method}` a été abandonnée.

* **Prise en charge du nouveau fichier security.txt**. Ce fichier est un fichier standard du secteur sur le serveur qui aide les chercheurs en sécurité à signaler les problèmes de sécurité potentiels aux administrateurs du site.

* **Améliorations de la prise en charge des stratégies de sécurité du contenu (CSP)**. `SecureHtmlRenderer` a été ajouté à la structure et est disponible dans les modèles `.phtml` pour whitelister les balises intégrées `style` et `script`. Les scripts et les styles intégrés ne sont pas autorisés avec la configuration CSP par défaut, qui peut être remplacée par des fichiers XML. <!-- MC-34433-->

{{cve-notice}}

### Mises à niveau de la plateforme

Les mises à niveau suivantes de la plateforme permettent d’améliorer la sécurité et les performances du site web. Les versions prises en charge de PHP et PHPUnit, Elasticsearch, MySQL et d’autres dépendances sont répertoriées dans la [configuration requise pour la pile de technologies](../../../installation/system-requirements.md).

* **Prise en charge de PHP 7.4 introduite et de PHP 7.1 et 7.2 obsolète**. 2.4.0 introduit la prise en charge de PHP 7.4.

* **Prise en charge de PHPUnit 9.x et abandon de PHPUnit 6.5**. PHP 7.4 nécessite l’utilisation de la dernière structure de test PHPUnit, qui est PHPUnit 9.x. Les fournisseurs d’extensions Commerce Marketplace doivent confirmer que toutes les nouvelles versions d’extension sont compatibles avec PHP 7.4 et que tous les tests d’unité et d’intégration ont été configurés pour être exécutés avec PHPUnit 9.

* **Prise en charge d’Elasticsearch 7.6.x**. Elasticsearch 7.6.x est désormais le moteur de recherche de catalogue par défaut pour Adobe Commerce et Adobe Commerce. Vous ne pouvez pas installer ni mettre à niveau vers la version 2.4.0 sans installer également Elasticsearch 7.6.x. Le code de la version 2.x de l’Elasticsearch a été supprimé. Les versions 5.x et 6.x des Elasticsearch ont été abandonnées et ne sont plus prises en charge. Voir [Conditions préalables pour le moteur de recherche](../../../installation/prerequisites/search-engine/overview.md).

* **Prise en charge de MySQL 8.0**. La version 2.4.x prend en charge MySQL 8.x. (La version 2.4.0 a été testée avec MySQL 8.0.20.) Les commerçants sont encouragés à migrer leurs déploiements vers MySQL 8.x afin de tirer parti de ses performances, sécurité et fiabilité améliorées. Bien que MySQL 5.7 soit toujours pris en charge pour Magento 2.4.x, MySQL 5.6 ne l’est plus. Vous ne pouvez pas héberger la version 2.4.x avec une base de données MySQL 5.6. Voir [MySQL.](../../../installation/prerequisites/database/mysql.md)

* **Suppression du moteur de recherche de catalogue MySQL**. Le moteur de recherche MySQL a été supprimé de la version 2.4.0 et remplacé en tant que moteur de recherche par défaut par Elasticsearch. Elasticsearch offre des fonctionnalités de recherche supérieures ainsi que des optimisations des performances du catalogue.  Tous les commerçants doivent disposer d’un Elasticsearch pour installer et déployer la version 2.4.0. Voir [Vérifiez que l’Elasticsearch est installé](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/prepare/prerequisites.html).

* **Prise en charge de MariaDB 10.4**. La prise en charge de MySQL 8.0 permet aux commerçants de déployer MariaDB 10.4 avec Magento Open Source. Bien que les commerçants puissent encore utiliser MariaDB 10.2 avec la version 2.4.0, nous vous recommandons de passer à MariaDB 10.4 pour améliorer les performances et la fiabilité. MariaDB 10.0 et 10.1 ne sont plus prises en charge (en raison de la suppression de la prise en charge de MySQL 5.6 dans cette version).

* **Migration des dépendances sur Zend Framework vers le [projet Laminas](https://getlaminas.org/about/foundation)** pour refléter la transition de Zend Framework vers le projet Laminas de la Fondation Linux. Zend Framework est obsolète. Voir la publication DevBlog [Migration de Zend Framework vers le projet Laminas](https://community.magento.com/t5/Magento-DevBlog/Migration-of-Zend-Framework-to-the-Laminas-Project/ba-p/443251) .

* **La décomposition des contrôleurs** permet aux développeurs d’extensions de mettre en oeuvre ActionInterface directement sans classes &quot;supertype de couche&quot;. Voir le billet de DevBlog sur la [décomposition des contrôleurs](https://community.magento.com/t5/Magento-DevBlog/Decomposition-of-Magento-Controllers/ba-p/430883) . _Amélioration lancée par Vinai Kopp dans la requête de tirage [16268](https://github.com/magento/magento2/pull/16268) et finalisée par Lukasz Bajsarowicz dans la requête de tirage [26778](https://github.com/magento/magento2/pull/26778)_. [GitHub-9582](https://github.com/magento/magento2/issues/9582)

* **Suppression de l’intégration principale du code** de protection contre la fraude Signifyd. Cette fonctionnalité principale n’est plus prise en charge. Les commerçants doivent migrer vers l’[extension Signifyd Fraud &amp; Chargeback Protection](https://marketplace.magento.com/signifyd-module-connect.html) disponible sur le Commerce Marketplace.

* Le module de Braintree principal **a été supprimé de la base de code**. Le module Paiements du Braintree fournit désormais le même ensemble de fonctionnalités. Voir [Paiements de Braintree](https://marketplace.magento.com/paypal-module-braintree.html).

* Le navigateur Internet Explorer 11.x n’est plus pris en charge.

### Améliorations des infrastructures

Cette version contient des améliorations de la qualité de base, qui améliorent la qualité du framework et ces modules : compte client, catalogue, CMS, importation, panier et passage en caisse, et B2B.

* **Suppression de l’intégration principale des méthodes de paiement tierces**. Avec cette version, l’intégration du mode de paiement Authorize.Net a été supprimée du code principal. Les commerçants doivent migrer vers l’extension officielle disponible sur le Commerce Marketplace. Voir l’article de devblog [Abandon des intégrations de paiement](https://community.magento.com/t5/Magento-DevBlog/Deprecation-of-Magento-core-payment-integrations/ba-p/426445) . <!-- MC-29029-->

* **Prise en charge de la recherche de mots partiels pour Elasticsearch (nouveau moteur de recherche par défaut)**. Elasticsearch prend désormais en charge l’utilisation de mots partiels dans les termes de recherche pour les noms de produits et les SKU lors de l’utilisation de la recherche rapide. Cette fonctionnalité a été prise en charge par le moteur de recherche MySQL, qui a été abandonné et remplacé par Elasticsearch dans cette version.

* **Mise à niveau du SDK PayPal JavaScript**. Nous avons migré l’intégration du paiement express PayPal vers le dernier SDK JavaScript PayPal, un SDK qui collecte et transmet automatiquement les paramètres de risque nécessaires à PayPal. Le comportement du mode de paiement PayPal Express Checkout reste inchangé. Cependant, la mise à niveau de ce SDK vers la dernière version permet aux commerçants d’accéder aux dernières fonctionnalités et améliorations de sécurité. <!-- MC-30962-->

* **Abandon et suppression de l’assistant de configuration web**. Vous devez utiliser la ligne de commande pour installer ou mettre à niveau la version 2.4.0. Voir [Installation du Magento](../../../installation/advanced.md).

* **Module externe de mise à jour du compositeur**. Le plugin Composer rationalise le processus de mise à niveau en résolvant les modifications qui doivent être apportées au fichier de projet `composer.json` racine avant la mise à jour vers une nouvelle version. Ce module externe protège contre les personnalisations remplacées. Voir [Mise à niveau à l’aide du module externe racine du compositeur](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html).

* **Achat assisté par le vendeur**. Cette fonctionnalité permet aux marchands de voir le storefront pour le compte de leurs clients. Les clients choisissent d’autoriser le storefront à accéder à leurs comptes. Cette fonctionnalité développée par la communauté comprend une extension d’origine développée par [MAGEFAN](https://magefan.com/). Voir [Seller Assisted Shopping](https://experienceleague.adobe.com/en/docs/commerce-admin/config/customers/login-as-customer). Les fonctionnalités incluent :

   * Liste de contrôle d’accès pour contrôler quels administrateurs peuvent se connecter aux comptes clients sur une base de site web
   * Compatibilité avec plusieurs sites Web et étendues de comptes clients
   * Les commandes passées au nom des clients sont enregistrées dans la vitrine et dans l’administration.
   * Toutes les sessions sont détruites après la déconnexion de l’administrateur et les administrateurs ne peuvent pas accéder aux mots de passe des clients.

### Améliorations des performances

* **Amélioration de la logique d’invalidation de la section** Données client. Cette version introduit une nouvelle façon d’invalider toutes les données des sections client qui évite un problème connu avec le stockage local lorsque les invalidations personnalisées `sections.xml` sont actives.  (Auparavant, le contenu privé (stockage local) n’était pas correctement rempli lorsque vous aviez une sections.xml *personnalisée* etc/frontend/avec des invalidations d’action.) Voir [Contenu](https://developer.adobe.com/commerce/php/development/cache/page/private-content/) privé.

* **Plusieurs optimisations des performances** Redis. Ces améliorations réduisent le nombre de requêtes à Redis exécutées sur chaque requête. Ces optimisations incluent :

   * Diminution de la taille des transferts de données réseau entre Redis et Magento

   * Réduction de la consommation de cycles CPU de Redis en améliorant la capacité de l’adaptateur à déterminer automatiquement ce qui doit être chargé

   * Réduction des conditions de concurrence sur les opérations d’écriture Redis

  Voir [Utiliser des Redis pour la page et le cache par défaut](../../../configuration/cache/redis-pg-cache.md) et [Configurer la mise en cache](../../../configuration/cache/caching-overview.md).

* **Amélioration de la mise en cache des résultats des requêtes SQL dans les tables d’inventaire**. Ces améliorations incluent :

   * Mise en cache des requêtes SQL vers la table `inventory_stock_sales_channel` (1 requête au lieu de 16)

   * Mise en cache des résultats des requêtes dans la table `inventory_stock` (1 requête au lieu de 16)

* **Amélioration de 25 à 30 % des performances du module complémentaire de panier de commande rapide**.

* Les vendeurs peuvent désormais utiliser le [chargement différé](https://en.wikipedia.org/wiki/Lazy_loading) pour charger les images.

### Intégration Adobe Stock v2.0

**Possibilité d’obtenir une licence pour les aperçus d’images de stock à partir de la galerie de médias**. Les vendeurs peuvent désormais trouver n’importe quelle image d’aperçu Adobe Stock dans la galerie de médias, ce qui réduit le nombre d’étapes requises pour obtenir une licence de l’image d’aperçu du stock.

### New Media Gallery

Ce remplacement de l’ancienne galerie de médias offre une nouvelle interface pouvant faire l’objet de recherches pour les ressources multimédia. Les administrateurs peuvent désormais rechercher, filtrer et trier les images jusqu’à 30 fois plus rapidement qu’avec la version précédente de cette fonctionnalité. Les vendeurs peuvent utiliser cet outil pour évaluer l’utilisation des images du storefront. Les développeurs d’extensions doivent savoir que les extensions développées pour la galerie de médias ne fonctionneront pas comme prévu avec la nouvelle galerie de médias.

### Inventory management

Les améliorations apportées à Inventory management dans cette version incluent la prise en charge de la récupération en magasin et de la prise en charge des produits par lots. Voir les [notes de mise à jour d’Inventory management](https://experienceleague.adobe.com/docs/commerce-admin/inventory/release-notes.html) pour une discussion plus détaillée sur les correctifs de bogues Inventory management récents.

### GraphQL

Les améliorations apportées à GraphQL incluent :

* `pickupLocations` La requête prend en charge la fonction de ramassage de l’inventaire en magasin
* `categories` La requête renvoie une liste de catégories correspondant à un filtre spécifié. Cette requête diffère de la requête en ce qu’elle prend en charge la `categoryList` pagination.
* `reorderItems` La mutation permet à un utilisateur connecté d’ajouter tous les produits d’une commande précédente dans son panier.

Consultez le Guide](https://developer.adobe.com/commerce/webapi/graphql/) du [développeur GraphQL pour plus de détails sur cette amélioration et d’autres. Voir [Notes](https://developer.adobe.com/commerce/webapi/graphql/release-notes.html) de mise à jour pour une discussion détaillée des correctifs récents de bogues GraphQL.

### PWA Studio

Voir [compatibilité](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) pour obtenir la liste des versions de PWA Studio et leurs versions compatibles. Pour plus d’informations sur les améliorations et les corrections de bogues, voir [PWA Studio versions](https://github.com/magento/pwa-studio/releases).

### Cadre de test fonctionnel (MFTF)

MFTF v3.0.0 inclut ces nouvelles fonctionnalités et inclut le support de PHP 7.4 et PHPUnit 9 :

* Les assistants MFTF, qui peuvent créer des actions personnalisées en dehors de l’infrastructure de test
* mises à jour des schémas pour les entités de test
* sous-dossiers dans les modules de test
* syntaxe d’assertion imbriquée
* vérification statique qui vérifie et signale les références aux entités de test obsolètes

Cette version supprime également les actions obsolètes et les scripts de mise à niveau qui ont été ajoutés pour mettre à niveau les tests de mise à niveau vers les exigences de version majeure MFTF.

### Améliorations de l’extension développées par les fournisseurs

Cette version de inclut des extensions développées par des fournisseurs tiers. Il introduit à la fois des améliorations de qualité et d’UX à ces extensions et une extension de la couverture MFTF.

Les fournisseurs d’extensions Commerce Marketplace doivent confirmer que leurs extensions sont compatibles avec PHP 7.4 lors de la publication d’une nouvelle version de leur extension pour la version 2.4.0.

#### Amazon Pay

Cette version comprend les éléments suivants :

* Mises à jour des listes d’autorisation des stratégies de sécurité du contenu
* Possibilité d’effectuer plusieurs autorisations pour un ordre de plusieurs éléments
* Prise en charge des adresses japonaises

#### Paiements Braintree

Cette extension remplace notre intégration de Braintree principal. Il fournit les mêmes fonctionnalités que l’intégration principale de Braintree. Voir [Paiements de Braintree](https://marketplace.magento.com/paypal-module-braintree.html).

#### Klarna

Cette version comprend de nouvelles options de messagerie sur site pour aider les acheteurs à comprendre les options de crédit et de financement disponibles. Elle comprend également des améliorations visant à :

* Restitutions
* Efficacité de l’API
* Cookies et tests unitaires
* remises
* Les paramètres de configuration contiennent désormais la section Messagerie sur site pour le contrôle de l’affichage de la vitrine de la messagerie promotionnelle Klarna

#### Sommet

Cette version de Vertex inclut les nouvelles fonctionnalités et améliorations suivantes :

* Améliorations de l’expérience utilisateur de la configuration de l’administrateur
* Remplacement des scripts d’installation et de mise à niveau par des fichiers de schéma XML et des correctifs
* Suppression du code obsolète (`ApiClient` et `ClientInterface`)

#### Yotpo

Les évaluations et les révisions de Yotpo sont intégrées au créateur de pages.

## Problèmes résolus

Nous avons corrigé des centaines de problèmes dans le code principal 2.4.0.

### Installation, mise à niveau, déploiement

<!-- MC-23940-->

* Vous pouvez désormais supprimer un site web avec les paramètres de configuration spécifiques à la portée du site web dans `app/etc/config.php` comme prévu. Auparavant, lorsque vous tentiez de supprimer le site web, l’opération échouait et l’application affichait cette erreur : `The website with code xxx that was requested wasn't found. Verify the website and try again`. En outre, l’application a affiché cette erreur sur le storefront : `Config files have changed. Run app:config:import or setup:upgrade command to synchronize configuration`. [GitHub-24061](https://github.com/magento/magento2/issues/24061)

<!-- MC-30140-->

* Les paramètres de configuration désactivés dans `index.php` ne sont plus modifiables à partir de l’administrateur.

<!-- MC-32405-->

Magento Open Source’installation se termine maintenant correctement et les magasins sont créés comme prévu, lorsque la configuration de magasin est prédéfinie dans `config.php`.

<!-- MC-33151-->

* `\Magento\Store\App\Config\Source\RuntimeConfigSource::getEntities` a été restructuré pour diminuer le nombre de requêtes `SHOW TABLE STATUS` qu’il crée. (Cette modification rétablit le comportement de cette fonction affiché dans la version 2.3.3.)

<!-- MC-23890-->

* Les scripts de données ne sont plus exécutés lorsque vous tentez de mettre à niveau la base de données en exécutant `bin/magento setup:upgrade`. Auparavant, les scripts de mise à niveau étaient réexécutés inutilement, ce qui affectait les performances. [GitHub-19469](https://github.com/magento/magento2/issues/19469)

<!-- MC-30397-->

* L’application affiche désormais les comportements suivants lorsque votre connexion à Redis est interrompue. Auparavant, l’application ne rechargeait pas la page active et affichait cette erreur : `An error has happened during application run. See exception log for details`.

   * Les sessions d’administration et de storefront expirent
   * Les administrateurs et les utilisateurs de storefront doivent se reconnecter.
   * Les données de session sont enregistrées dans `var/session/`
   * Aucune erreur ou exception n’est consignée.

<!-- ENGCOM-6686-->

* La commande `bin/magento setup:di:compile` n’échoue plus avec les classes anonymes. _Correctif soumis par Yevhen Sentiabov dans la demande d’extraction [26533](https://github.com/magento/magento2/pull/26533)_. [GitHub-26532](https://github.com/magento/magento2/issues/26532), [GitHub-21555](https://github.com/magento/magento2/issues/21555)

<!-- ENGCOM-5546-->

* Les problèmes de compilation LESS dans le thème Luma de Magento lors de l’utilisation d’un compilateur LESS alternatif à celui fourni avec l’application par défaut ont été résolus. _Correctif soumis par Pieter Hoste dans la demande d’extraction [24003](https://github.com/magento/magento2/pull/24003)_. [GitHub-23619](https://github.com/magento/magento2/issues/23619)

<!-- ENGCOM-6367-->

* Vous n’avez plus besoin d’avoir un fichier `env.php` modifiable lors du passage en mode de maintenance. À la place, l’application définit les en-têtes `no-cache` pour toutes les requêtes frontales en mode de maintenance (`Cache-Control`). Auparavant, vous ne pouviez pas activer le mode de maintenance lorsque `env.php` était en lecture seule et l’application tentait de désactiver le FPC lors du passage en mode de maintenance. _Correctif soumis par Marco K̦ pcke dans la demande d&#39;extraction [25790](https://github.com/magento/magento2/pull/25790)_. [GitHub-24229](https://github.com/magento/magento2/issues/24229)

<!-- ENGCOM-7236-->

* `db-ssl-verify` ne génère plus d’erreur d’index non définie lors d’une configuration de `ddev`. _Correctif soumis par Daniel Ruf dans la demande d’extraction [26763](https://github.com/magento/magento2/pull/26763)_. [GitHub-26762](https://github.com/magento/magento2/issues/26762)

<!-- ENGCOM-6247-->

* Les dépendances du compositeur ont été mises à jour afin de mettre en oeuvre l’expiration de la clé Redis, ce qui a amélioré les performances de Redis. _Correctif soumis par une toxix dans la demande d’extraction [25488](https://github.com/magento/magento2/pull/25488)_. [GitHub-25487](https://github.com/magento/magento2/issues/25487)

### Intégration Adobe Stock

<!-- ENGCOM-6507-->

* Des styles CSS ont été ajoutés à l’affichage de l’image Adobe Stock pour prendre en charge la mise en surbrillance de l’image sélectionnée.  _Correctif soumis par Serhiy Zhovnir dans la demande d’extraction [25864](https://github.com/magento/magento2/pull/25864)_. [GitHub-761](https://github.com/magento/adobe-stock-integration/issues/761)

<!-- ENGCOM-7021-->

* La navigation par le biais des images d’aperçu Adobe Stock n’est plus déclenchée par le déplacement du curseur du champ de saisie à l’aide des touches fléchées.  _Correctif soumis par Adarsh Manickam dans la demande d&#39;extraction [27138](https://github.com/magento/magento2/pull/27138)_. [GitHub-973](https://github.com/magento/adobe-stock-integration/issues/973)

<!-- ENGCOM-6840-->

* L’application met désormais en cache les messages d’erreur qui se produisent lorsqu’un client tente d’appliquer un filtre aux images Adobe Stock. _Correctif soumis par Shankar Konar dans la demande d&#39;extraction [26502](https://github.com/magento/magento2/pull/26502)_. [GitHub-863](https://github.com/magento/adobe-stock-integration/issues/863)

<!-- ENGCOM-7195-->

* L’application n’enregistre plus l’aperçu d’une image Adobe Stock lorsque vous déplacez le curseur vers la barre de défilement verticale gauche de la fenêtre après avoir cliqué sur **Enregistrer l’aperçu** mais sans confirmer l’opération d’enregistrement. _Correctif soumis par Serhiy Zhovnir dans la demande d’extraction [27399](https://github.com/magento/magento2/pull/27399)_. [GitHub-1002](https://github.com/magento/adobe-stock-integration/issues/1002)

### Serveur principal

<!-- MC-25036-->

* Les modèles de courrier électronique (**Admin** > **Marketing** > **Communications** > **Modèles de courrier électronique**) peuvent désormais être prévisualisés à partir de l’administrateur lorsque la minification JavaScript est activée. Auparavant, lorsque vous tentiez de prévisualiser un modèle d’email, la fenêtre contextuelle Aperçu d’un email était vide. [GitHub-25068](https://github.com/magento/magento2/issues/25068)

<!-- ENGCOM-6433-->

* Les administrateurs peuvent désormais se connecter à l’administrateur comme prévu après la création d’un compte administrateur disposant de privilèges limités. Auparavant, l’administrateur n’était pas accessible. Les utilisateurs disposant de ces autorisations étaient redirigés vers le storefront avec une erreur 404. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [25909](https://github.com/magento/magento2/pull/25909)_. [GitHub-25881](https://github.com/magento/magento2/issues/25881)

<!-- ENGCOM-6785-->

* L’application ne duplique plus les données d’optimisation pour les moteurs de recherche telles que la clé d’URL, le méta-titre, les méta-mots-clés et la méta-description lorsque vous dupliquez un produit.  _Correctif soumis par le modèle Dasharth dans la demande d’extraction [26659](https://github.com/magento/magento2/pull/26659)_. [GitHub-26054](https://github.com/magento/magento2/issues/26054)

<!-- ENGCOM-6442-->

* L’application ne renvoie plus d’erreur lorsque vous supprimez une image d’une page lors de sa création à partir de **Admin** > **Contenu** > **Pages** >  **Ajouter une nouvelle page**. Auparavant, l’application renvoyait cette erreur dans la console du développeur : `500 (Internal Server Error)`. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [25924](https://github.com/magento/magento2/pull/25924)_. [GitHub-25893](https://github.com/magento/magento2/issues/25893)

### Lot de produits

<!-- MC-25251-->

* Les performances de l’opération de réindexation `catalog_product_price` pour les produits de lot ont été améliorées.

<!-- MC-29633-->

* Les administrateurs ne peuvent plus entrer manuellement une classe de taxe dans l’Admin d’un produit en bundle lorsque les paramètres **Tax Class** et **Dynamic Price** du bundle sont désactivés pour la vue de magasin par défaut. Auparavant, lorsqu’un administrateur décochait l’option Utiliser la **valeur** par défaut en regard de **Classe** fiscale, l’application activait l’option, permettant à un administrateur d’entrer une autre valeur et d’enregistrer le produit.

<!-- MC-30257-->

* Les prix des produits groupés sont désormais calculés correctement sur les pages de produits.

<!-- MC-29745-->

* Vous pouvez désormais ajouter n’importe quel nombre de produits groupés à votre panier sans erreur. Auparavant, lorsque vous ajoutiez un produit groupé à votre panier, puis que vous accédiez au panier, l’application affichait cette erreur : `Please correct the quantity for some products`.

### Cache

<!-- ENGCOM-7114-->

* Le schéma `cache.xsd` de `Magento\Framework\Cache` a été restructuré de sorte qu’un type de cache sans attribut `instance` ne provoque plus d’exceptions lorsque vous désactivez un module par le biais de la gestion du cache d’administration. Auparavant, lorsque vous créiez un type de cache à l’aide de `cache.xml` sans l’argument `instance`, l’application envoyait une exception lorsque vous tentiez de le désactiver.  _Correctif soumis par Andrii Beziazychnyi dans la demande d&#39;extraction [27307](https://github.com/magento/magento2/pull/27307)_. [GitHub-26224](https://github.com/magento/magento2/issues/26224)

<!-- ENGCOM-6834-->

* `health_check.php` n’échoue plus si un moteur de cache de base de données est configuré dans votre déploiement. _Correctif soumis par Andrii Beziazychnyi dans la demande d&#39;extraction [25722](https://github.com/magento/magento2/pull/25722)_. [GitHub-25669](https://github.com/magento/magento2/issues/25669)

### Panier et passage en caisse

<!-- MC-23870-->

* L’application ne renvoie plus d’erreur lors de l’extraction lorsque le paramètre de configuration **Synchroniser avec le serveur principal** est activé. [GitHub-23833](https://github.com/magento/magento2/issues/23833)

<!-- MC-29786-->

* Les boutons radio des méthodes d’expédition sont désormais activés comme prévu dans le workflow de passage en caisse.

<!-- MC-30258-->

* La page de révision des commandes du workflow de passage en caisse se charge désormais correctement pour une commande envoyée à plusieurs adresses lorsque les conditions générales avec le paramètre **Appliqué manuellement** sont activées. Auparavant, la page Révision n’était pas validée et l’application affichait une erreur 404.

<!-- MC-32330-->

* L’application affiche désormais l’icône de rotation lorsque les prix sont mis à jour sur le panier.

<!-- MC-33230-->

* L’application affiche désormais un message informatif lorsqu’un produit du mini panier est en rupture de stock avant le passage en caisse. Une fois que vous avez supprimé l’article en rupture de stock, l’application affiche le bouton **Passez en caisse** . Auparavant, l’application n’affichait pas ce bouton.

<!-- MC-31391-->

* L’application affiche désormais un message d’erreur informatif lorsque vous essayez d’ajouter un produit en cliquant sur **Commander par SKU** lorsque le fichier à charger est corrompu. Auparavant, l’application affichait une page vierge.

<!-- MC-32962-->

* L’application applique désormais les règles de prix de panier uniquement aux produits enfants de produit groupé qui correspondent aux critères de règle. Auparavant, l’application appliquait la règle de prix du panier à tous les produits enfants appartenant au produit du lot.

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection` a été remplacé par`StorefrontMinicartSection` dans les tests MFTF.   _Correctif soumis par Andrii Kalinich dans la demande d&#39;extraction [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-6389-->

* Les références codées en dur au composant de sélecteur de pays sur le formulaire d’adresse de livraison ont été supprimées.  _Correctif soumis par Mateusz Krzeszowiak dans la demande d&#39;extraction [25541](https://github.com/magento/magento2/pull/25541)_. [GitHub-22416](https://github.com/magento/magento2/issues/22416)

<!-- ENGCOM-6522-->

* L’application ne souligne plus l’icône Supprimer dans le panier lorsque le curseur survole l’icône lors de l’affichage de la vitrine dans Internet Explorer.  _Correctif soumis par divyajyothi5321 dans la demande d&#39;extraction [26173](https://github.com/magento/magento2/pull/26173)_. [GitHub-26164](https://github.com/magento/magento2/issues/26164)

<!-- ENGCOM-6615-->

* Le changement de la rue de facturation ne modifie plus l’adresse de livraison d’un client lorsqu’une seule adresse a été sélectionnée pour les adresses de facturation et de livraison. _Correctif soumis par Yurii Tvardyi dans la demande d&#39;extraction [26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

<!-- ENGCOM-6251-->

* La région de promotion du mini-panier est désormais rendue comme prévu. _Correctif soumis par Matti Vapa dans la demande d’extraction [25375](https://github.com/magento/magento2/pull/25375)_. [GitHub-25373](https://github.com/magento/magento2/issues/25373)

### Règle du prix du panier

<!-- MC-23986-->

* Les règles de prix du panier basées sur les modes de paiement sont désormais appliquées lors du processus de paiement. [GitHub-24206](https://github.com/magento/magento2/issues/24206)

<!-- ENGCOM-6550-->

* Correction du comportement de l’élément de page Sélecteur de date sur **Admin** > **Marketing** > **Promotions** > **Règle** de prix catalogue. _Correctif envoyé par Hitesh dans la demande [de tirage 26290](https://github.com/magento/magento2/pull/26290)_. [GitHub-26289](https://github.com/magento/magento2/issues/26289)

<!-- ENGCOM-7485-->

* `StorefrontMiniCartSection` a été remplacé par `StorefrontMinicartSection` dans les tests MFTF.   _Correctif soumis par Andrii Kalinich dans la demande d&#39;extraction [27955](https://github.com/magento/magento2/pull/27955)_. [GitHub-27897](https://github.com/magento/magento2/issues/27897)

<!-- ENGCOM-5822-->

* La grille de bons inutilisée du workflow Créer une règle de prix de panier a été désactivée. _Correctif envoyé par Eden Duong dans la demande [d’extraction 24471](https://github.com/magento/magento2/pull/24471)_. [GitHub-24468](https://github.com/magento/magento2/issues/24468)

<!-- ENGCOM-6615-->

* La modification de la rue de facturation ne modifie plus l’adresse de livraison d’un client lorsqu’une seule adresse a été sélectionnée pour les adresses de facturation et d’expédition. _Correctif envoyé par Yurii Tvardyi dans la demande [de tirage 26279](https://github.com/magento/magento2/pull/26279)_. [GitHub-26276](https://github.com/magento/magento2/issues/26276)

### Catalogue

<!-- MC-25235-->

* L’application ne renvoie plus d’erreur lorsque vous modifiez le nom d’un produit intermédiaire inclus dans une mise à jour planifiée. Auparavant, lorsque vous tentiez d’enregistrer le produit sous un nouveau nom, l’application affichait cette erreur : `SQLSTATE[23000]: Integrity constraint violation: 1062 Duplicate entry '3-0-0-2.0000-0' for key 'UNQ_EBC6A54F44DFA66FA9024CAD97FED6C7', query was: INSERT INTO catalog_product_entity_tier_price (all_groups, customer_group_id, qty, value, website_id, percentage_value, row_id) VALUES (?, ?, ?, ?, ?, ?, ?)`

<!-- MC-29023-->

* Les valeurs d’attribut personnalisées peuvent désormais être enregistrées comme prévu depuis l’administrateur.

<!-- MC-29775-->

* La fonction Afficher les produits récemment affiche désormais les produits associés uniquement à la vue de magasin actuelle dans les déploiements multi-magasins lorsque **Magasins** > **Configurations** > **Catalogue** > **Produits récemment consultés/comparés** > **Afficher pour actuel** est défini sur **vue de magasin**. Auparavant, l’application affichait les produits récemment consultés de tous les sites web, quel que soit le site web auquel le produit était affecté.

<!-- MC-29896-->

* L’application affiche désormais les images du produit dans le mini panier sans distorsion. Auparavant, l’application étirait l’image dans le mini panier pour remplir l’intégralité de la largeur et de la hauteur du conteneur d’images.

<!-- MC-29866-->

* La `getBasePrice` fonction renvoie désormais une valeur flottante comme prévu plutôt qu’une chaîne.

<!-- MC-30229-->

* La fonction de comparaison des produits fonctionne désormais comme prévu. Elle affiche désormais uniquement les produits figurant dans la liste de comparaison de l’utilisateur actuel.

<!-- MC-30234-->

* Vous pouvez désormais attribuer un filigrane par défaut à un thème. Auparavant, après avoir attribué le filigrane, l’application entraînait une erreur fatale.

<!-- MC-30540-->

* Vous pouvez désormais éditer un produit configurable avec de nombreuses variantes (environ 5 000) depuis l’administrateur. Auparavant, lorsque vous tentiez de modifier un produit configurable avec de nombreux sous-produits, l’application affichait cette erreur : `Warning: DOMDocumentFragment::appendXML(): Entity: line 1: parser error : CData section too big found in /vendor/magento/framework/View/TemplateEngine/Xhtml/Template.php on line 60`

<!-- MC-30734-->

* Le tri sur les ensembles d’attributs sur **Admin** > **Catalogue** > **Produits** est désormais basé sur l’ordre alphabétique comme prévu.

<!-- MC-30794-->

* La fonction Produits récemment consultés fonctionne désormais comme prévu dans les déploiements multi-magasins.

<!-- MC-31838-->

* La case à cocher **Produit sur les sites web** de la nouvelle page de produit est désormais activée par défaut pour les administrateurs à accès limité dans les déploiements de sites multiples. Auparavant, la case à cocher du site web autre que celui par défaut n’était pas présélectionnée et si l’administrateur laissait la case désélectionnée, l’application affichait un message d’erreur.

<!-- MC-32772-->

* Les événements `addToCart` sont désormais suivis comme prévu dans la couche de données. Auparavant, après avoir modifié les options configurables d’un produit, puis cliqué sur **Ajouter au panier**, le nouvel événement `addToCart` n’était pas ajouté à la couche de données.

<!-- MC-29449-->

* Le mini panier et le panier d’achat Admin (**Admin** > **Clients** > **Gérer le panier d’achat**) affichent désormais les prix corrects lorsqu’une règle de prix catalogue est appliquée. Auparavant, le panier de la vitrine affichait le prix correct du produit, mais le mini panier et le panier d’administration affichaient le prix d’origine du produit.

<!-- MC-30777-->

* Le filtrage sur la colonne Admin grille de produit du site web fonctionne désormais comme prévu. Auparavant, les résultats du filtre n’affichaient pas le nombre correct de produits, mais affichaient systématiquement le nombre total de produits sous la forme 1.

<!-- MC-31432-->

* La condition de prix utilise `catalog_product_entity_decimal` pour filtrer par prix. Cependant, cette table ne contient aucun enregistrement pour les produits configurables, dynamiques et groupés, car ces produits n&#39;ont pas de prix fixe. La table correcte à utiliser pour le filtrage par prix est `catalog_product_index_price`.

<!-- ENGCOM-7104-->

* Le catalogue d’administration et les listes de produits affichent désormais des symboles de devise dans les colonnes MSRP, Coût et Prix spécial. _Correctif envoyé par Sergiy Vasiutynskyi dans la demande [de tirage 27261](https://github.com/magento/magento2/pull/27261)_. [GitHub-21910](https://github.com/magento/magento2/issues/21910), [GitHub-20906](https://github.com/magento/magento2/issues/20906), [GitHub-20472](https://github.com/magento/magento2/issues/20472)

<!-- ENGCOM-6375-->

* La fenêtre contextuelle Ajouter pour le prix du groupe de clients (**Admin** > Catalogue **>****Produits** > **Nouveau produit** > **Tarification** avancée) se ferme comme prévu lorsque vous cliquez sur l’icône Fermer. _Correctif envoyé par Ashna-Jahan dans la demande [de tirage 25759](https://github.com/magento/magento2/pull/25759)_. [GitHub-25433](https://github.com/magento/magento2/issues/25433)

<!-- ENGCOM-6300-->

* L’exemple de description fourni pour la description et le titre d’un nouveau produit ne contient plus de guillemets doubles.  _Correctif soumis par Nathan Morgan dans la demande d&#39;extraction [25655](https://github.com/magento/magento2/pull/25655)_. [GitHub-25654](https://github.com/magento/magento2/issues/25654)

<!-- ENGCOM-6424-->

* L’application ne renvoie plus d’erreur lorsque vous essayez de filtrer les produits sur la page Catégorie à l’aide d’un prix non valide. L’application enregistrait auparavant cette erreur dans le journal système. _Correctif envoyé par Ihor Sviziev dans la demande [de tirage 25912](https://github.com/magento/magento2/pull/25912)_. [GitHub-25911](https://github.com/magento/magento2/issues/25911)

<!-- ENGCOM-6455-->

* Vous pouvez désormais naviguer dans les résultats de recherche de catégorie multi-pages. Auparavant, l’application créait des pages de résultats de recherche en double lorsque vous tentiez d’utiliser le bouton Précédent pour revenir à la première page des résultats. _Correctif soumis par Douglas Radburn dans la demande d&#39;extraction [25337](https://github.com/magento/magento2/pull/25337)_. [GitHub-14971](https://github.com/magento/magento2/issues/14971)

<!-- ENGCOM-6194-->

* Correction du type de retour en `string|null` pour la `getSourceModel` méthode de la `Eav\Attribute.php` classe. _Correctif soumis par Mychailo dans la demande d&#39;extraction [2533](https://github.com/magento/magento2/pull/25333)_. [GitHub-25278](https://github.com/magento/magento2/issues/25278)

<!-- ENGCOM-6625-->

* L’enregistrement d’un nouveau produit (dupliqué) n’entraîne plus la duplication des images du produit plusieurs centaines de fois. _Correctif soumis par Jeroen dans la demande d’extraction [25875](https://github.com/magento/magento2/pull/25875)_. [GitHub-9466](https://github.com/magento/magento2/issues/9466)

<!-- ENGCOM-6818-->

* L’application ne renvoie plus d’erreur JavaScript lorsque vous supprimez un produit avec une option personnalisée de type `file` lors de la création d’une commande à partir de l’administrateur.  _Correctif envoyé par adrian-martinez-interactiv4 dans la demande [de tirage 24843](https://github.com/magento/magento2/pull/24843)_. [GitHub-24842](https://github.com/magento/magento2/issues/24842)

<!-- ENGCOM-6959-->

* Si vous créez un produit sans image en utilisant `product_page_image_large` dans votre mise en page, une image d’espace réservé s’affiche comme prévu. Auparavant, l’application générait cette erreur : `Fatal error: PHP Fatal error: Uncaught TypeError: Argument 1 passed to Magento\Catalog\Block\Product\ImageFactory::getRatio() must be of the type integer, null given`. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [26974](https://github.com/magento/magento2/pull/26974)_. [GitHub-26973](https://github.com/magento/magento2/issues/26973)

<!-- ENGCOM-6983-->

* Vous pouvez utiliser le point d’entrée `POST /V1/:sku/links` pour définir des liens de produit avec un tableau vide de produits lorsque le produit comporte des liens existants. Auparavant, l’application entraînait une erreur. _Correctif soumis par Sathish Subramanian dans la demande d&#39;extraction [26979](https://github.com/magento/magento2/pull/26979)_. [GitHub-26800](https://github.com/magento/magento2/issues/26800)

<!-- ENGCOM-7151-->

* Vous pouvez désormais utiliser le menu déroulant Actions de la grille Produits pour indiquer si un produit a un poids lorsque vous mettez à jour plusieurs attributs de produits depuis l’administrateur.  _Correctif soumis par Bartomiej Szubert dans la demande d&#39;extraction [26075](https://github.com/magento/magento2/pull/26075)_. [GitHub-6310](https://github.com/magento/magento2/issues/6310)

<!-- ENGCOM-7453-->

* La logique de validation a été ajoutée aux champs **Produits par page sur les valeurs autorisées de la grille** et **Produits par page sur la valeur par défaut de la grille** de la page de configuration du magasin. Auparavant, les administrateurs de magasin pouvaient saisir des valeurs indisponibles dans ces champs.  _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [27093](https://github.com/magento/magento2/pull/27093)_. [GitHub-27089](https://github.com/magento/magento2/issues/27089)_

### Widget de catalogue

<!-- MC-29167-->

* La `CatalogWidget` liste des produits fonctionne désormais comme prévu avec les catégories d’ancrage, et les produits des catégories d’ancrage sont maintenant mis en correspondance et affichés. Auparavant, lorsque vous sélectionniez une catégorie parente qui était une ancre, mais qui ne contenait pas de produits attribués, les produits n’étaient pas visibles dans le widget.

<!-- MC-30260-->

* L’application affiche désormais tous les enfants d’une catégorie parente sélectionnée comme prévu. Auparavant, si vous sélectionniez une catégorie parente qui était une ancre, mais qui ne contenait pas de produits attribués, l’application n’affichait pas tous les produits imbriqués.

<!-- MC-31171-->

* Le widget Produits récemment consultés fonctionne désormais correctement lorsque **Magasins** > **Configuration** > **Catalogue** > **Catalogue** > **Récemment consultés/Comparés** > **Synchroniser les produits de widget avec stockage principal** est défini sur **Oui**.

### Nettoyage

<!-- ENGCOM-6573-->

* Suppression d’une balise de fermeture supplémentaire du code XML du module. _Correctif soumis par Tejash Kumbhare dans la demande d&#39;extraction [26339](https://github.com/magento/magento2/pull/26339)_. [GitHub-26338](https://github.com/magento/magento2/issues/26338)

<!-- ENGCOM-6521-->

* Correction d’un mauvais alignement de **Mon adresse de facturation et de livraison est la même** dans la section de la page Révision et paiements du workflow de passage en caisse.  _Correctif soumis par divyajyothi5321 dans la demande d&#39;extraction [26169](https://github.com/magento/magento2/pull/26169)_. [GitHub-26168](https://github.com/magento/magento2/issues/26168)

<!-- ENGCOM-6581-->

* Suppression de l’espace blanc superflu entre les libellés de champ et les astérisques dans la section Adresse d’expédition du workflow de passage en caisse.  _Correctif soumis par Daniel Ruf dans la demande d’extraction [26285](https://github.com/magento/magento2/pull/26285)_. [GitHub-26275](https://github.com/magento/magento2/issues/26275)

<!-- ENGCOM-6480-->

* Correction d’un désalignement des boutons radio dans la section Méthodes d’expédition du workflow de passage en caisse.  _Correctif soumis par Hitesh dans la demande d&#39;extraction [25966](https://github.com/magento/magento2/pull/25966)_. [GitHub-25962](https://github.com/magento/magento2/issues/25962)

<!-- ENGCOM-6579-->

* Correction de l’espacement incohérent des menus dans la vue mobile. _Correctif soumis par Hitesh dans la demande d&#39;extraction [26238](https://github.com/magento/magento2/pull/26238)_. [GitHub-26235](https://github.com/magento/magento2/issues/26235)

<!-- ENGCOM-7225-->

* Correction du désalignement des icônes Modifier et Supprimer du mini panier dans la vue mobile.  _Correctif soumis par Vasilii Burlacu dans la demande d&#39;extraction [27493](https://github.com/magento/magento2/pull/27493)_. [GitHub-26652](https://github.com/magento/magento2/issues/26652)

<!-- ENGCOM-6967-->

* Correction d’un désalignement de la plage de codes postaux du taux de taxe et de la case à cocher sur la page Ajouter un nouveau taux de taxe/code postal (**Admin** > **Magasin** > **Taxes** > **Zones et taux de taxe**). _Correctif soumis par Sathish Subramanian dans la demande d’extraction [26932](https://github.com/magento/magento2/pull/26932)_. [GitHub-26917](https://github.com/magento/magento2/issues/26917)

<!-- ENGCOM-7237-->

* Le lien de l’assistant de configuration vers l’administrateur fonctionne désormais comme prévu. _Correctif soumis par Oleh Usik dans la demande d&#39;extraction [26100](https://github.com/magento/magento2/pull/26100)_. [GitHub-24990](https://github.com/magento/magento2/issues/24990)

<!-- ENGCOM-6531-->

* Le tri a été désactivé dans la colonne d’état de la grille Gestion du cache dans l’Admin. _Correctif soumis par Sathish Subramanian dans la demande d&#39;extraction [26215](https://github.com/magento/magento2/pull/26215)_. [GitHub-26208](https://github.com/magento/magento2/issues/26208)

<!-- ENGCOM-7015-->

* Correction d’un mauvais alignement des éléments de page sur la boîte de dialogue **Admin** > **Magasins** > **Attributs** > **Évaluations** > **Ajouter de nouvelles évaluations**. _Correctif soumis par Sathish Subramanian dans la demande d&#39;extraction [27014](https://github.com/magento/magento2/pull/27014)_. [GitHub-26992](https://github.com/magento/magento2/issues/26992)

<!-- ENGCOM-6485-->

* Correction du décalage de l’icône du calendrier sur la page Ajouter un changement de conception . _Correctif soumis par Eduard Chitoraga dans la demande d&#39;extraction [26063](https://github.com/magento/magento2/pull/26063)_. [GitHub-20379](https://github.com/magento/magento2/issues/20379)

<!-- ENGCOM-6447-->

* Suppression de l’espace superflu dans le sous-menu de l’affichage dans le menu de survol de la page d’accueil. _Correctif soumis par Hitesh dans la demande d&#39;extraction [25973](https://github.com/magento/magento2/pull/25973)_. [GitHub-25972](https://github.com/magento/magento2/issues/25972)

<!-- ENGCOM-6534-->

* Correction du désalignement des étiquettes de prix sur la page des détails du produit storefront. _Correctif soumis par divyajyothi5321 dans la demande d&#39;extraction [26237](https://github.com/magento/magento2/pull/26237)_. [GitHub-25936](https://github.com/magento/magento2/issues/25936)

<!-- ENGCOM-6536-->

* Correction du désalignement du texte en rupture de stock par rapport  **au bouton Ajouter au panier** sur la page de liste des produits en mode mobile.  _Correctif envoyé par divyajyothi5321 dans la demande [de tirage 26183](https://github.com/magento/magento2/pull/26183)_. [GitHub-26181](https://github.com/magento/magento2/issues/26181)

<!-- ENGCOM-6458-->

* Le message de réussite de l’intégration affiché sur **Admin** > **Système** > **Extensions** > **Intégrations** s’affiche désormais correctement. _Correctif soumis par divyajyothi5321 dans la demande d’extraction [26011](https://github.com/magento/magento2/pull/26011)_. [GitHub-25930](https://github.com/magento/magento2/issues/25930)

### Contenu CMS

<!-- MC-29619-->

* Vous pouvez désormais enregistrer et dupliquer toutes les pages CMS. Auparavant, l’application renvoyait cette exception lorsque vous tentiez de dupliquer certaines pages : `Unique constraint violation found`.

<!-- MC-30963-->

* L’application permet désormais de créer des blocs CMS portant des noms identiques si les blocs sont attribués à des vues de magasin différentes.

<!-- MC-30103-->

* Les miniatures d’image de la galerie sont désormais mises en cache comme prévu. Auparavant, ces images étaient redimensionnées à la volée.

<!-- MC-32275-->

* L’application ne renvoie plus d’erreur lorsque vous enregistrez une page CMS qui a été affectée à plusieurs magasins. Auparavant, lorsque vous créiez ou modifiez une page CMS, l’application enregistrait la page, mais envoyait également cette erreur : `Item (Magento\VersionsCms\Model\Hierarchy\Node) with the same ID "PAGE_ID" already exists`.

<!-- MC-32452-->

* De nouvelles pages CMS sont désormais ajoutées comme prévu à la hiérarchie des pages de magasin d’un site web.

<!-- ENGCOM-7033-->

* La logique de mise à jour de la mise en page personnalisée de la page CMS a été améliorée. L’application applique désormais des modifications de mise en page spécifiques à partir de `cms_page_view_selectable_home_somechanges.xml`. _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27131](https://github.com/magento/magento2/pull/27131)_. [GitHub-26758](https://github.com/magento/magento2/issues/26758)

### Produits configurables

<!-- MC-23546-->

* Les produits enfants d’un produit configurable peuvent désormais être désactivés avec succès via l’API.

<!-- MC-30391-->

* Les règles de prix du panier avec une **condition définie comme Catégorie (parent uniquement)** fonctionnent désormais de manière cohérente comme prévu.

<!-- MC-30989-->

* Vous pouvez maintenant ajouter un produit configurable au panier à partir de l’onglet Ventes croisées . Lorsque vous sélectionnez un produit et cliquez sur **Ajouter au panier** dans cet onglet, vous accédez maintenant à la page des détails du produit, où vous pouvez sélectionner des options de produit spécifiques. Auparavant, l’application vous redirigeait vers une page d’erreur 404.

<!-- MC-32411-->

* L’application ne lie plus un produit simple à un produit configurable lorsque l’appel API pour lier ces produits échoue.

<!-- ENGCOM-6483-->

* Correction du rendu des SKU dans la liste Variations actuelles pour un produit configurable. _Correctif soumis par KaushikChavda dans la demande d’extraction [26007](https://github.com/magento/magento2/pull/26007)_. [GitHub-25591](https://github.com/magento/magento2/issues/25591)

<!-- ENGCOM-6460-->

* Vous pouvez désormais enregistrer les `system.xml` informations de configuration en entrant des valeurs dans  **Admin** > **System** > **Configuration** dans les champs auxquels aucune étiquette n’est associée. _Correctif envoyé par Andrii Chorniy dans la demande [de tirage 25985](https://github.com/magento/magento2/pull/25985)_. [GitHub-23899](https://github.com/magento/magento2/issues/23899)

<!-- ENGCOM-6689-->

* Les performances ont `\Magento\ConfigurableProduct\Model\Product\Type\Configurable::isSalable` été optimisées.  _Correctif soumis par Stanislav Ilnytskyi dans la demande [de tirage 26071](https://github.com/magento/magento2/pull/26071)_. [GitHub-26065](https://github.com/magento/magento2/issues/26065)

<!-- ENGCOM-6992-->

* La logique responsable de la mise à jour des images configurables des produits a été améliorée. Auparavant, les produits simples associés à un produit configurable affichaient uniquement l’image par défaut associée au produit configurable, et l’application affichait parfois une image principale incorrecte pour le produit. _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [26560](https://github.com/magento/magento2/pull/26560)_. [GitHub-26473](https://github.com/magento/magento2/issues/26473), [GitHub-26856](https://github.com/magento/magento2/issues/26856), [GitHub-26858](https://github.com/magento/magento2/issues/26858)

<!-- ENGCOM-6520-->

* L’application affiche désormais le prix spécial d’un produit, comme prévu, lorsque vous sélectionnez une option de réduction pour un produit configurable. Auparavant, `class="normal-price"` n’était pas remplacé par `class="special-price"` lorsqu’une option de réduction était sélectionnée. _Correctif soumis par Ravi Chandra dans la demande d’extraction [26170](https://github.com/magento/magento2/pull/26170)_. [GitHub-24972](https://github.com/magento/magento2/issues/24972)

### Cookies

<!-- MC-24182-->

* Les fonctions `setRedirectCookie` et `clearRedirectCookie` fonctionnent désormais comme prévu. Auparavant, ces fonctions envoyaient des cookies au navigateur, mais tous les paramètres de cookie manquaient. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

<!-- ENGCOM-6891-->

* Des métadonnées ont été ajoutées aux fonctions `setRedirectCookie` et `clearRedirectCookie` .  _Correctif soumis par Alexander Lukyanov dans la demande d&#39;extraction [24612](https://github.com/magento/magento2/pull/24612)_. [GitHub-24547](https://github.com/magento/magento2/issues/24547)

### Attributs du client personnalisés

<!-- MC-32301-->

* L’application ne renvoie plus d’erreur lorsque vous incluez un champ d’attribut client vide dans le **champ Forms à utiliser dans** lors de la création d’un compte d’entreprise sur la vitrine. Auparavant, l’application générait cette erreur : `PHP Fatal error: Uncaught TypeError: Argument 2 passed to Magento\Eav\Model\Attribute\Data\Text::validateLength() must be of the type string, null given`.

### Client

<!-- MC-29102-->

* Les clients qui sont abonnés à des newsletters en tant qu’invité ne sont plus désinscrits après l’enregistrement d’un nouveau compte.

<!-- MC-29841-->

* L’application utilise désormais un nouveau `PHPSession` mot de passe pour chaque changement de mot de passe.

<!-- MC-30650-->

* Vous pouvez désormais créer un client et l’associer à un site web particulier à l’aide du menu déroulant Associer au site web sur **Clients** > **Tous les clients** > **Ajouter un nouveau client**. Auparavant, lorsque vous tentiez d’associer un nouveau client au site web autre que le site par défaut dans un déploiement multi-site, l’application affichait cette erreur : `The store view is not in the associated website`.

<!-- MC-29946-->

* L’application enregistre désormais les informations qu’un client saisit dans les champs de facturation et d’expédition par défaut lors du passage en caisse, lorsque la transaction est initialement refusée en raison d’une carte de crédit non valide, mais que la transaction s’est terminée avec succès. Auparavant, bien que l’application ait créé la commande lorsque le client a saisi des informations de paiement valides, elle n’avait pas mis à jour les adresses de facturation ou de livraison par défaut dans la section Mon compte du workflow de passage en caisse.

<!-- MC-32325-->

* L’application respecte désormais les paramètres du groupe de clients lorsque vous créez un client à partir de l’administrateur dans un déploiement multisite.

<!-- MC-31481-->

* L’application importe désormais correctement les données client à l’aide de l’option **Client et adresses (fichier unique)** lorsque `cron` est activé et que l’indexeur de grille client est défini sur **Mettre à jour par planification**. Une fois que `cron` s’exécute, les informations client importées sont disponibles dans l’administrateur comme prévu. Auparavant, l’application importait les données du client, mais ne mettait pas à jour la grille du client avec les enregistrements de client nouvellement importés.

<!-- MC-31117-->

* Vous pouvez maintenant créer un client à partir du storefront lorsque la date de naissance est requise. Auparavant, vous ne pouviez pas créer de client lorsque ce champ était obligatoire, même lorsque vous avez saisi des valeurs DOB valides. [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* La création de client à partir de l’administrateur respecte désormais le paramètre de groupe de clients par défaut comme prévu.

<!-- MC-31425-->

* L’élément `PHPSessionId` est désormais modifié comme prévu une fois qu’un client s’est déconnecté, puis s’est reconnecté.

<!-- MC-32152-->

* La vue Admin d’un panier client affiche désormais tous les produits qui ont été ajoutés au panier à partir de plusieurs sites web dans un déploiement multisite. Auparavant, lorsqu’un client ajoutait un produit à son panier à partir d’un site web autre que celui par défaut, le produit ne s’affichait pas dans l’administrateur même si l’option **Partager le compte client** était définie sur **Global**.

<!-- ENGCOM-6667-->

* L’application affiche désormais uniquement les produits que le client a placés dans son panier lorsque le panier est consulté à partir de l’administrateur. Auparavant, le panier d’un client affichait tous les produits du catalogue lorsqu’il les affichait à partir de l’administrateur. _Correctif soumis par Ravinder dans la demande d’extraction [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-7036-->

* La validation fonctionne désormais comme prévu pour le champ **Date de naissance** lors de la modification d’un client à partir de l’administrateur. Auparavant, l’application n’avait pas tenu compte des paramètres régionaux de l’utilisateur et, pour certaines dates de naissance, cette erreur s’affichait : `The Date of Birth should not be greater than today`.   _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* Le champ de courrier électronique n’est plus nécessaire lorsque vous passez une commande à partir de l’administrateur.  _Correctif soumis par solwininfotech dans la demande d’extraction [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6423-->

* Le tableau de bord Mon compte affiche désormais correctement les valeurs des adresses électroniques dans la vue mobile. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* Cliquer plusieurs fois sur le bouton **Créer un compte** du formulaire d’enregistrement d’un client n’envoie plus la demande d’enregistrement plusieurs fois. _Correctif soumis par princeCB dans la demande d&#39;extraction [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

<!-- MC-29102-->

* Les clients qui sont abonnés à des newsletters en tant qu’invité ne sont plus désinscrits après l’enregistrement d’un nouveau compte.

<!-- MC-29841-->

* L’application utilise désormais un nouveau `PHPSession` mot de passe pour chaque changement de mot de passe.

<!-- MC-30650-->

* Vous pouvez désormais créer un client avec succès et l’associer à un site Web particulier à l’aide du menu déroulant Associer au site Web sur **Clients > Tous les clients** > **** Ajouter un nouveau client ****. Auparavant, lorsque vous tentiez d’associer un nouveau client au site web autre que le site par défaut dans un déploiement multi-site, l’application affichait cette erreur : `The store view is not in the associated website`.

<!-- MC-29946-->

* L’application enregistre désormais les informations qu’un client entre dans les champs de facturation et d’expédition par défaut lors du passage en caisse lorsque la transaction est initialement refusée en raison d’une carte de crédit non valide, mais terminée avec succès. Auparavant, bien que l’application ait créé la commande lorsque le client a entré des informations de paiement valides, elle n’a pas mis à jour les adresses de facturation ou d’expédition par défaut dans la section Mon compte du processus de paiement.

<!-- MC-32325-->

* L’application respecte désormais les paramètres de groupe de clients lorsque vous créez un client à partir de l’administrateur dans un déploiement multisite.

<!-- MC-31481-->

* L’application importe désormais avec succès les données client à l’aide de l’option **Client et adresses (fichier unique)** lorsque `cron` cette option est activée et que l’indexeur Customer Grid est défini sur Mettre à **jour par planification**. Une fois que `cron` s’exécute, les informations client importées sont disponibles dans l’administrateur comme prévu. Auparavant, l’application importait les données du client, mais ne mettait pas à jour la grille du client avec les enregistrements de client nouvellement importés.

<!-- MC-31117-->

* Vous pouvez maintenant créer un client à partir du storefront lorsque la date de naissance est requise. Auparavant, vous ne pouviez pas créer de client lorsque ce champ était obligatoire, même lorsque vous avez saisi des valeurs DOB valides. [GitHub-26700](https://github.com/magento/magento2/issues/26700)

<!-- MC-31945-->

* La création de client à partir de l’administrateur respecte désormais le paramètre de groupe de clients par défaut comme prévu.

<!-- MC-31435-->

* L’élément `PHPSessionId` est désormais modifié comme prévu une fois qu’un client s’est déconnecté, puis s’est reconnecté.

<!-- MC-32152-->

* La vue Admin d’un panier client affiche désormais tous les produits qui ont été ajoutés au panier à partir de plusieurs sites web dans un déploiement multisite. Auparavant, lorsqu’un client ajoutait un produit à son panier à partir d’un site web autre que celui par défaut, le produit ne s’affichait pas dans l’administrateur même si l’option **Partager le compte client** était définie sur **Global**.

<!-- ENGCOM-7036-->

* La validation fonctionne désormais comme prévu pour le champ **Date de naissance** lors de la modification d’un client à partir de l’administrateur. Auparavant, l’application n’avait pas tenu compte des paramètres régionaux de l’utilisateur et, pour certaines dates de naissance, cette erreur s’affichait : `The Date of Birth should not be greater than today`.   _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27149](https://github.com/magento/magento2/pull/27149)_. [GitHub-27027](https://github.com/magento/magento2/issues/27027)

<!-- ENGCOM-6208-->

* Le champ de courrier électronique n’est plus nécessaire lorsque vous passez une commande à partir de l’administrateur.  _Correctif soumis par solwininfotech dans la demande d’extraction [24479](https://github.com/magento/magento2/pull/24479)_. [GitHub-22251](https://github.com/magento/magento2/issues/22251)

<!-- ENGCOM-6667-->

* L’application affiche désormais uniquement les produits que le client a placés dans son panier lorsque le panier est consulté à partir de l’administrateur. Auparavant, le panier d’un client affichait tous les produits du catalogue lorsqu’il les affichait à partir de l’administrateur. _Correctif soumis par Ravinder dans la demande d’extraction [26489](https://github.com/magento/magento2/pull/26489)_. [GitHub-26437](https://github.com/magento/magento2/issues/26437)

<!-- ENGCOM-6423-->

* Le tableau de bord Mon compte affiche désormais correctement les valeurs des adresses électroniques dans la vue mobile. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [25942](https://github.com/magento/magento2/pull/25942)_. [GitHub-25935](https://github.com/magento/magento2/issues/25935)

<!-- ENGCOM-7034-->

* Cliquer plusieurs fois sur le bouton **Créer un compte** du formulaire d’enregistrement d’un client n’envoie plus la demande d’enregistrement plusieurs fois. _Correctif soumis par princeCB dans la demande d&#39;extraction [26642](https://github.com/magento/magento2/pull/26642)_. [GitHub-26590](https://github.com/magento/magento2/issues/26590)

### Répertoire

<!-- MC-33168-->

* Le menu déroulant État par défaut est désormais renseigné par des données basées sur les pays autorisés qui ont été affectés au site web sélectionné lorsque vous configurez une valeur pour le champ **Calcul de la destination fiscale par défaut**. Auparavant, cette liste déroulante répertorie les pays affectés au site web par défaut.

### Téléchargeable

<!-- MC-32306-->

* Vous pouvez désormais utiliser un fichier d’importation pour mettre à jour les produits téléchargeables en bloc par SKU et par description. Auparavant, des erreurs de validation se produisaient et l’importation échouait.

### EAV

<!-- MC-29999-->

* L’application respecte désormais les paramètres propres au magasin qui déterminent si le champ du numéro de téléphone du workflow de passage en caisse est requis dans un déploiement multisite. Auparavant, dans les déploiements où un magasin nécessitait ce champ dans le workflow de passage en caisse et où un autre magasin ne l’avait pas renseigné, les clients qui n’ont pas renseigné ce champ lors de l’extraction du magasin qui ne le nécessitait pas rencontraient cette erreur : `Please check the shipping address information. "telephone" is required. Enter and try again`.

<!-- ENGCOM-6489-->

* L’ordre de tri des fichiers EAV par `attribute option_id` fonctionne désormais comme prévu. _Correctif soumis par Tan Sezer dans la demande d’extraction [24360](https://github.com/magento/magento2/pull/24360)_. [GitHub-24357](https://github.com/magento/magento2/issues/24357)

<!-- ENGCOM-7082-->

* Vous pouvez désormais créer un produit après avoir ajouté un nouvel attribut via REST et l’avoir affecté à un ensemble d’attributs à partir de l’administrateur. Auparavant, l’application générait une erreur 500.  _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27191](https://github.com/magento/magento2/pull/27191)_. [GitHub-26827](https://github.com/magento/magento2/issues/26827)

### Email

<!-- MC-32842-->

* Les courriers électroniques d’autorisation envoyés à un client lorsqu’il demande un retour contiennent désormais le statut RMA attendu. Auparavant, ce courrier électronique affichait une chaîne vide au lieu de l’état de retour attendu.

<!-- MC-32864-->

* Les clients ne sont plus redirigés à partir du site web actuel lorsqu’ils signalent un mot de passe oublié dans les déploiements multisites où les comptes clients sont partagés à l’échelle mondiale. Auparavant, les clients étaient redirigés vers le site web sur lequel le compte était créé.

<!-- MC-31544-->

* Les emails de confirmation de commande envoyés aux clients incluent désormais la liste des articles commandés, comme prévu. Auparavant, lorsque vous créez un modèle d’email dans l’administrateur en chargeant et en enregistrant le modèle par défaut, les emails générés à partir de ce modèle n’incluaient pas la liste des éléments commandés. [GitHub-26882](https://github.com/magento/magento2/issues/26882)

### Frameworks

* Les dépendances de Zend Framework ont été migrées vers le [projet Laminas](https://getlaminas.org/about/foundation) pour refléter la transition de Zend Framework vers le projet Laminas de la Fondation Linux. Zend Framework est obsolète. _Correctif soumis par Ihor Sviziev dans la demande d&#39;extraction [26436](https://github.com/magento/magento2/pull/26436)_. [GitHub-26335](https://github.com/magento/magento2/issues/26335)

<!-- MC-25257-->

* Les paramètres de plage de prix spéciaux (dates de début et de fin) fonctionnent désormais correctement pour les comptes d’administrateur utilisant un paramètre régional néerlandais.

<!-- MC-29388-->

* `php bin/magento cron:run` ne traite plus les éléments de la table du journal des modifications plusieurs fois. Auparavant, lorsque vous aviez plus de 100000 nouvelles versions dans la table du journal des modifications, les actions pouvaient être appelées plusieurs fois pour le même `entity id`.

* La commande `php bin/magento setup:cron:run` a maintenant été supprimée. Les références à ce paramètre dans les onglets doivent être supprimées lors de la mise à niveau.

* Le fichier `update/cron.php` a été supprimé dans la version 2.4.0. S’il existe dans votre installation, il peut être supprimé en toute sécurité. Supprimez également les références à ce fichier dans les onglets lors de la mise à niveau.

<!-- MC-30544-->

* L’action Mettre à jour l’attribut met désormais correctement à jour l’horodatage de `updated_at column` d’un produit à partir de `catalog_product_entity` lorsque vous mettez à jour le produit à partir de la page Modifier le produit de l’administrateur.

<!-- MC-30834-->

* La définition de `'persistent' => '1'` dans `env.php` ne renvoie plus d&#39;erreur lorsque vous exécutez `setup:upgrade`.

<!-- MC-32243-->

* La **Clé de formulaire non valide. Actualisez la chaîne de texte de page** sur la page de connexion est maintenant traduite comme prévu.

<!-- MC-33278-->

* Nous avons amélioré les performances de la fonction `Magento\Framework\App\DeploymentConfig\Reader::load`. Auparavant, lorsqu’une demande était envoyée à Magento, cette fonction était appelée de manière répétitive, ce qui entraînait le chargement des fichiers `config.php` et `env.php config` chaque fois que la méthode était appelée.

<!-- MC-31728-->

* L’application ne télécharge plus de page `blank.html` lorsqu’un administrateur clique sur un produit lors de la création d’une commande à partir de l’administrateur.

<!-- MC-31729-->

* Les blocs non pouvant être mis en cache ajoutés à la disposition par défaut dans les instructions de référence pour les composants inexistants (non déclarés) sur la page n’affectent plus la mise en cache de la page. L’ajout de blocs ne pouvant pas être mis en cache aux gestionnaires de mise en page par défaut rend toutes les pages impossibles à mettre en cache. Cela résulte du processus de génération de la mise en page : lors de la génération de la mise en page, l’application collecte toutes les poignées de mise en page disponibles pour une page donnée et fusionne les instructions à partir de ces poignées dans la structure de mise en page finale de la page. La poignée de mise en page par défaut est utilisée comme poignée de base pour chaque page. Par conséquent, les mises à jour de mise en page déclarées pour le gestionnaire par défaut apparaissent sur chaque page. [GitHub-9041](https://github.com/magento/magento2/issues/9041)

<!-- MC-31920-->

* Le gestionnaire de verrouillage MySQL est désormais le gestionnaire principal de verrouillage. Par conséquent, la version minimale requise de MySQL est 5.7.9.

<!-- ENGCOM-6431-->

* `queue_consumer.xml` autorise désormais les nombres dans la classe `handler`. Auparavant, lorsqu’un gestionnaire contenait un nombre dans son chemin d’accès, la validation XSD échouait. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [25952](https://github.com/magento/magento2/pull/25952)_. [GitHub-25731](https://github.com/magento/magento2/issues/25731)

<!-- ENGCOM-6902-->

* Une référence `@var` incorrecte dans le bloc `doc` de la variable de membre de classe `$queueIterator` dans la classe `\Magento\Framework\MessageQueue\Topology\Config` a été corrigée. _Correctif soumis par Artem Voloznov dans la demande d’extraction [24976](https://github.com/magento/magento2/pull/24976)_. [GitHub-24971](https://github.com/magento/magento2/issues/24971)

<!-- ENGCOM-5305 6684-->

* Les écouteurs de chargement de page JavaScript sont désormais déclenchés pour se déclencher lorsqu’un document n’est plus `loading` au lieu d’attendre qu’il soit marqué comme `complete` comme étant en attente jusqu’à ce que le document soit marqué comme `complete`, ce qui peut entraîner de graves délais dans le rendu du contenu JavaScript. _Correctif soumis par John Hughes dans la demande d’extraction [23313](https://github.com/magento/magento2/pull/23313) et la demande d’extraction [50](https://github.com/magento/partners-magento2ee/pull/50)_}. [GitHub-22909](https://github.com/magento/magento2/issues/22909)

<!-- ENGCOM-6305-->

* L’application affiche désormais le message informatif suivant lorsque vous essayez d’ajouter un produit à votre liste de souhaits avec une quantité de 0 ou un nombre négatif : `Please enter a valid number in this field`. Auparavant, l’application affichait cette erreur : `We can't update your Wish List right now`. _Correctif soumis par Pawe Tylek dans la demande d’extraction [25641](https://github.com/magento/magento2/pull/25641)_. [GitHub-25032](https://github.com/magento/magento2/issues/25032)

<!-- ENGCOM-7071-->

* L’application ne prend plus en charge l’héritage des classes DTO de la classe `Magento\Framework\Api\AbstractExtensibleObject`. Annotation PHP manquante `@api`  a été ajouté à `AbstractExtensibleModel` et le `@deprecated` manquant  annotation a été ajoutée à `AbstractExtensibleObject`.  _Correctif soumis par Alexander Taranovsky dans la demande d’extraction [22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

<!-- ENGCOM-6552-->

* Vous pouvez désormais enregistrer les produits comme prévu après la modification d’une date liée aux produits (par exemple, `news_from_date`, `news_to_date`, `special_price_from_date`, `special_price_to_date`) dans les magasins implémentant des paramètres régionaux autres que l’anglais. Auparavant, l’application renvoyait une erreur similaire à celle-ci : `Invalid input datetime format of value '22/5/2019`.

### Correctifs généraux

<!-- MC-21347-->

* Le module Client ne dépend plus du module Révision. Auparavant, vous ne pouviez pas désactiver le module de révision en raison de cette dépendance.

<!-- MC-25250-->

* La page de modification du produit se charge désormais correctement lorsque l’ensemble d’attributs par défaut de la page contient un attribut de liste déroulante avec le libellé sélectionné.

<!-- MC-25260-->

* Le graphique des commandes accessible à partir de l’onglet Commandes sur l’Admin reflète désormais précisément la quantité de commandes.

<!-- MC-29273-->

* L’URL d’administration d’un magasin ne redirige plus vers l’URL du storefront lorsque ces deux URL diffèrent.

<!-- MC-29658-->

* La génération de réécriture d’URL pour les sous-catégories fonctionne désormais correctement lors de l’utilisation du profil de la boîte à outils de performance avec plusieurs sites web.

<!-- MC-30224-->

* Vous pouvez désormais supprimer un modèle utilisateur vide sans supprimer le rôle Administrateurs auquel il est affecté.

<!-- MC-30636-->

* L’éditeur TinyMCE4 prend désormais en charge toutes les balises d’HTML.

<!-- MC-31128-->

* Cliquer sur le bouton **Rembourser hors ligne** dans le processus de création d’une note de crédit génère désormais une note de crédit comme prévu. Auparavant, une erreur JavaScript désactivait ce bouton et la demande ne créait pas d’note de crédit.

<!-- MC-31832-->

* Les vendeurs peuvent désormais créer un attribut de produit de type `Decimal`. Auparavant, en raison d’un correctif de bogue précédent, l’application n’affichait pas le type d’attribut de produit `Price`. [GitHub-26949](https://github.com/magento/magento2/issues/26949)

<!-- MC-32175-->

* L’application ne renvoie plus d’erreur 500 lorsque vous essayez d’ouvrir une page Catégorie sur le storefront lorsque **Disposition = Produit - Largeur complète** a été défini à partir de l’onglet Conception de la page Catégorie.

<!-- MC-32697-->

* Correction d’un bogue dans `AbstractSimpleObjectBuilder.php`.

<!-- MC-33427-->

* Le MAP (prix minimum annoncé) fonctionne désormais comme prévu pour les produits de groupe.

<!-- MC-29998-->

* L’application vous redirige désormais vers la page d’accueil de la vue de magasin appropriée lorsque vous modifiez la langue sur les pages CMS dans un déploiement multi-magasin. Auparavant, l’application affichait une page 404 lorsque vous changiez de langue sur certaines pages CMS.

<!-- MC-30162-->

* Les requêtes d’ordre (`SalesOrderIndexGridAsyncInsertCron`) ont été refactorisées pour réduire la taille du jeu de données renvoyé et la fréquence des requêtes.

<!-- MC-32371-->

* Vous pouvez désormais créer une page CMS et l’affecter à la catégorie racine du site web dans la hiérarchie CMS.

<!-- MC-32783-->

* Les invités peuvent désormais afficher le prix d’un produit ou ajouter un produit au panier lorsque les autorisations de catégorie sont activées (par exemple, lorsque ces **privilèges ont été accordés au** groupe de clients Non connecté).

<!-- MC-32815-->

* Les règles de produit s’appliquent désormais aux produits en rupture de stock comme prévu. Auparavant, l’application n’affichait pas les produits en rupture de stock dans la liste des produits associés, même lorsque la règle était configurée pour afficher les produits en rupture de stock.

<!-- MC-33222-->

* Si vous cliquez sur le bouton **Suivi de l’expédition** pour une commande à partir de l’administrateur, les informations de suivi s’affichent désormais dans une fenêtre contextuelle comme prévu. Auparavant, ce lien dirigeait l’administrateur vers la page de connexion.

<!-- MC-31305-->

* L’application affiche désormais un message d’erreur informatif et continue d’afficher le formulaire d’inscription comme prévu si une erreur se produit lorsqu’un client tente de remplir un formulaire d’inscription qui contient un attribut client à sélection multiple. Auparavant, l’application affichait une erreur 500.

<!-- MC-32224-->

* L’application affiche désormais le **bouton Note** de crédit après le remboursement partiel d’une commande. Auparavant, l’application n’affichait pas ce bouton après la création d’un remboursement partiel et vous ne pouviez pas créer de note de crédit pour le reste de la commande.

<!-- MC-31878-->

* Les mises à jour de commande en masse via REST modifient maintenant l’état de la commande comme prévu. Auparavant, l’application générait cette erreur : `report.ERROR: Property "AdditionalInformation" does not have accessor method "setAdditionalInformation" in class "Magento\Sales\Api\Data\OrderPaymentInterface".`

<!-- MC-30398-->

* Les filtres d’attributs s’affichent désormais comme prévu dans le bloc Options d’achat de la page Catégorie .

<!-- ENGCOM-7175-->

* Les adresses de facturation et de livraison du client s’affichent désormais comme prévu sous l’onglet Adresses de la page Modifier le client d’administration lorsqu’elles sont affichées dans Internet Explorer. _Correctif soumis par Vasilii Burlacu dans la demande d&#39;extraction [27383](https://github.com/magento/magento2/pull/27383)_. [GitHub-27370](https://github.com/magento/magento2/issues/27370)

<!-- ENGCOM-6546-->

* Toutes les vues de signet restent modifiables lorsque vous en supprimez une. Auparavant, toutes les vues des signets devenaient non modifiables une fois la première vue supprimée pour les comptes avec plusieurs vues de signets. _Correctif soumis par Bartomiej Szubert dans la demande d&#39;extraction [26263](https://github.com/magento/magento2/pull/26263)_. [GitHub-14913](https://github.com/magento/magento2/issues/14913)

<!-- ENGCOM-7042-->

* La navigation par calques n’interrompt plus la validation HTML5 du module d’échantillon. Auparavant, des erreurs de validation d’HTML se produisaient pour les attributs qui n’étaient pas définis dans le [service de validation des balises W3C](https://validator.w3.org/), mais ces attributs ont été modifiés en attributs de données. _Correctif soumis par Nirav Patel dans la demande d&#39;extraction [26055](https://github.com/magento/magento2/pull/26055)_. [GitHub-22363](https://github.com/magento/magento2/issues/22363)

<!-- ENGCOM-7065-->

* Un alias `require.JS` inutilisé (`critical-css-loader``) has been removed from app/code/Magento/Theme/view/frontend/requirejs-config.js`. _Correctif soumis par Tu Nguyen dans la demande d&#39;extraction [26987](https://github.com/magento/magento2/pull/26987)_. [GitHub-26963](https://github.com/magento/magento2/issues/26963)

<!-- ENGCOM-6242-->

* L’application implémente désormais l’ [ interface throwable ](https://www.php.net/manual/en/class.throwable.php) de PHP7.x afin de permettre la capture de toutes les erreurs susceptibles d’exposer des informations sensibles telles que les mots de passe. _Correctif soumis par miszyman dans la demande d&#39;extraction [25250](https://github.com/magento/magento2/pull/25250)_. [GitHub-23350](https://github.com/magento/magento2/issues/23350)

<!-- ENGCOM-6284-->

* Appuyez sur la touche Échap lorsque vous saisissez le nom d’un nouveau dossier dans la fenêtre contextuelle Créer un dossier ferme désormais la fenêtre contextuelle comme prévu sans créer le dossier.  _Correctif soumis par Shankar Konar dans la demande d&#39;extraction [25349](https://github.com/magento/magento2/pull/25349)_. [GitHub-572](https://github.com/magento/magento2/issues/572)

<!-- ENGCOM-7464-->

* Correction d’une structure d’HTML imbriquée. Auparavant, cette structure entraînait une mise en page rompue pour la liste des produits associés, de ventes incitatives ou de ventes croisées. _Correctif soumis par Pieter Hoste dans la demande d’extraction [27926](https://github.com/magento/magento2/pull/27926)_. [GitHub-27920](https://github.com/magento/magento2/issues/27920)

<!-- ENGCOM-7144-->

* Suppression de l’appel en double vers `addToolbarBlock`, qui avait entraîné deux conditions similaires dans `ORDER BY`.  _Correctif envoyé par Vasilii Burlacu dans la demande [d’extraction 27263](https://github.com/magento/magento2/pull/27263)_. [GitHub-26708](https://github.com/magento/magento2/issues/26708)

<!-- ENGCOM-6014-->

* Les marchands peuvent désormais définir une date d’expiration pour les comptes d’utilisateur administrateurs. _Correctif envoyé par Laura Folco dans la demande [de tirage 22837](https://github.com/magento/magento2/pull/22837)_. [GitHub-22833](https://github.com/magento/magento2/issues/22833)

<!-- ENGCOM-7071-->

* Nous avons ajouté l’annotation `@api` PHP à `AbstractExtensibleModel`, l’annotation `@deprecated` PHP à `AbstractExtensibleObject` et `@see` à `AbstractExtensibleModel`.  _Correctif envoyé par Alexander Taranovsky dans la demande [de tirage 22011](https://github.com/magento/magento2/pull/22011)_. [GitHub-22010](https://github.com/magento/magento2/issues/22010)

### GrapheQL

<!-- ENGCOM-7074-->

* L’application renvoie désormais le message `The cart isn't active` GraphQL au lieu de dans certaines circonstances lorsqu’un `Current user does not have an active cart` panier devient inactif et qu’un nouvel ID de panier est créé. _Correctif envoyé par Vadim Malesh dans la demande [de tirage 27187](https://github.com/magento/magento2/pull/27187)_. [GitHub-26117](https://github.com/magento/magento2/issues/26117)

<!-- ENGCOM-7105-->

* Suppression du code qui provoquait une erreur lors de l’utilisation de GraphQL pour ajouter des produits à un panier lorsqu’un produit précédemment ajouté était en rupture de stock. _Correctif envoyé par AleksLi dans la demande [de tirage 27015](https://github.com/magento/magento2/pull/27015)_. [GitHub-26683](https://github.com/magento/magento2/issues/26683)

<!-- ENGCOM-6535-->

* Correction d’un problème dans GraphQL en raison duquel l’application ne renvoyait pas toutes les informations requises lors de l’utilisation de fragments sur la requête de produits. _Correctif soumis par Riccardo Tempesta dans la demande d’extraction [26218](https://github.com/magento/magento2/pull/26218)_. [GitHub-26217](https://github.com/magento/magento2/issues/26217)

* La mutation GraphQL `setShippingMethodsOnCart` ne récupère plus les mauvaises données dans l’attribut `available_shipping_methods`. _Correctif soumis par Vadim Malesh dans la demande d&#39;extraction [27004](https://github.com/magento/magento2/pull/27004)_. [GitHub-26742](https://github.com/magento/magento2/issues/26742)

### Produits regroupés

<!-- ENGCOM-6115-->

* Vous pouvez désormais ajouter un produit simple appartenant à un produit de groupe au panier lorsqu’un autre produit simple appartenant à ce même groupe est en rupture de stock.  _Correctif envoyé par Gihovani Filipp Pereira Dem̩trio dans la demande [de tirage 24955](https://github.com/magento/magento2/pull/24955)_. [GitHub-22304](https://github.com/magento/magento2/issues/22304)

<!-- ENGCOM-6768-->

* L’application envoie maintenant un e-mail aux clients au sujet des produits de groupe remboursés comme prévu.  _Correctif soumis par Alexander Taranovsky dans la demande d&#39;extraction [26246](https://github.com/magento/magento2/pull/26246)_. [GitHub-26245](https://github.com/magento/magento2/issues/26245)

<!-- MC-30313-->

* Vous pouvez désormais ajouter un produit enfant d’un produit groupé à votre panier lorsque l’un des autres produits enfants du produit groupé est en rupture de stock. Auparavant, lorsqu’un produit enfant était en rupture de stock, vous ne pouviez pas ajouter d’autres produits enfants au panier.

### Images

<!-- MC-29523-->

* Les images sont désormais enregistrées dans `pub/media/catalog/category` comme prévu lors de l’enregistrement des images de catégorie. Auparavant, l’application enregistrait ces images dans `pub/media/catalog/tmp/category`.

<!-- MC-30320-->

* Les images de filigrane n’obscurcissent plus l’image du produit qu’elles recouvrent. Auparavant, lorsque l’image de filigrane était plus grande que l’image de produit à laquelle elle était appliquée, l’image de produit n’était pas visible.

<!-- MC-32273-->

* Vous pouvez désormais enregistrer une image dans une catégorie à partir de l’administrateur. Auparavant, une fois l’image enregistrée, une partie de l’URL était manquante et vous ne pouviez pas la rouvrir.

<!-- MC-31727-->

* L’application affiche désormais `.png` images comme prévu après le téléchargement.

<!-- ENGCOM-7063-->

* L’utilisation de REST pour ajouter ou mettre à jour une image crée désormais une miniature comme prévu. _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27170](https://github.com/magento/magento2/pull/27170)_. [GitHub-26825](https://github.com/magento/magento2/issues/26825)

<!-- ENGCOM-6962-->

* Les attributs personnalisés des images générées par `Block\Product\ImageFactory` s’affichent désormais correctement. Auparavant, vous ne pouviez pas ajouter vos propres attributs personnalisés aux balises d’attribut en raison d’une séquence d’échappement incorrecte de la sortie de l’HTML. _Correctif soumis par alexander-aleman dans la demande d&#39;extraction [26959](https://github.com/magento/magento2/pull/26959)_. [GitHub-25219](https://github.com/magento/magento2/issues/25219)

<!-- ENGCOM-5980-->

* Les images ne sont plus floues lorsqu’une vitrine est vue à partir d’une iPhone.  _Correctif soumis par Dimitri dans la demande d&#39;extraction [24743](https://github.com/magento/magento2/pull/24743)_. [GitHub-24735](https://github.com/magento/magento2/issues/24735)

<!-- ENGCOM-6999-->

* Les images sur le storefront sont désormais réactives. Auparavant, la hauteur de l’image était déformée.  _Correctif soumis par Sean van Zuidam dans la demande d&#39;extraction [27041](https://github.com/magento/magento2/pull/27041)_. [GitHub-27040](https://github.com/magento/magento2/issues/27040)

<!-- ENGCOM-7253-->

* Le logo de magasin par défaut est maintenant visible sur le storefront lorsque le thème `Magento_blank` est utilisé. _Correctif soumis par Vasilii Burlacu dans la demande d&#39;extraction [27497](https://github.com/magento/magento2/pull/27497)_. [GitHub-27496](https://github.com/magento/magento2/issues/27496)

### Import/export

<!-- MC-25206-->

* L’application ne renvoie plus d’erreur lors de l’importation lorsque les données importées incluent une clé `swatch_image` de vue de magasin avec une valeur `no_selection`. Auparavant, l’application générait cette erreur : `Imported resource (image) could not be downloaded from external resource due to timeout or access permissions in row(s): 1`. [GitHub-25026](https://github.com/magento/magento2/issues/25026)

<!-- MC-29417-->

* L’application met à jour les images comme prévu lorsque vous utilisez le paramètre `hide_from_product_page` lors de l’importation de produits dans des déploiements avec plusieurs vues de magasin.

<!-- MC-29677-->

* Les options personnalisables sont désormais importées comme prévu lorsque `row_id` n’est pas égal à `entity_id` d’un produit. Auparavant, l’application n’importait pas d’options personnalisables lorsque `row_id` n’était pas égal à `entity_id` d’un produit, ce qui empêchait l’importation de certains produits.

<!-- MC-29916-->

* Les images associées aux produits configurables sont maintenant correctement téléchargées lors de l’importation et peuvent être visualisées comme prévu à partir de la page de modification du produit.

<!-- MC-30304-->

* Les fichiers exportés `.csv` reflètent désormais les paramètres de filtre pour inclure les produits en stock ou en rupture de stock. Auparavant, l’application exportait tous les produits, quel que soit le paramètre de stock sélectionné.

<!-- MC-30323-->

* Vous pouvez désormais importer ou mettre à jour des clients avec succès à l&#39;aide de l&#39;option Client et adresses un seul fichier du workflow d&#39;import. Auparavant, lorsque vous sélectionniez cette option, l’application n’importait pas les données du client et affichait cette erreur : `Invalid data for insert`.

<!-- MC-30357-->

* L’indexeur de stock est maintenant déclenché comme prévu après l’importation et met à jour l’état du produit. Auparavant, l’indexeur Stock n’indexait pas les données d’inventaire des produits modifiées.

<!-- MC-30528-->

* L’application importe désormais toutes les options personnalisées pour les produits enfants d’un produit configurable lorsque `store_view_code` est spécifié. Cela fonctionne que vous choisissiez d’importer des produits configurables individuellement ou collectivement. Auparavant, l’application n’importait pas toutes les options personnalisées lorsque le fichier d’importation contenait plusieurs éléments et `store_view_code` était spécifié.

<!-- MC-30672-->

* L’application fournit désormais un message lors de l’importation du produit qui identifie les produits du fichier `.csv` importés ayant des clés dupliquées. Les vendeurs peuvent utiliser ces informations pour résoudre les conflits. Auparavant, l’application affichait cette erreur : `Notice: Undefined index: name in /var/www/html/ee233dev/app/code/Magento/CatalogImportExport/Model/Import/Product.php on line 2524`

<!-- MC-29960-->

* L’application affiche désormais un message d’erreur plus informatif et n’affiche pas de lien de téléchargement lorsque vous essayez de supprimer un répertoire de la liste **Système** > **Exporter**. Auparavant, lorsque vous tentiez de supprimer un répertoire de cette liste, l’application continuait à afficher un lien de téléchargement pour les fichiers qui ne pouvaient pas être téléchargés et affichait un message d’erreur informatif.

<!-- MC-29959-->

* Le `.csv` fichier utilisé lors de l’importation contient désormais les liens corrects pour les produits téléchargeables et est désormais correctement formaté pour prendre en charge l’importation et la mise à jour des produits téléchargeables.

<!-- MC-30189-->

* L’application exporte désormais avec succès un `.csv` fichier lorsque vous définissez le comportement d’importation pour Remplacer, sélectionnez un fichier précédemment exporté `.csv` , puis cliquez sur **Vérifier les données**. Auparavant, l’application affichait cette erreur : `Data validation failed. Please fix the following errors and upload the file again` et `Following Error(s) has been occurred during importing process`.

<!-- MC-30141-->

* L’indexeur de Stock est maintenant déclenché comme prévu après l’importation et met à jour l’état du produit. Auparavant, l’indexeur Stock n’indexait pas les données d’inventaire de produits modifiées.

<!-- MC-31198-->

* `.csv` Les fichiers générés lors de l’importation de produits contiennent désormais des titres de groupe pour les produits téléchargeables, comme prévu. Auparavant, la validation inutile de `group_title` pendant l’importation empêchait l’affichage des titres de groupe pour les produits téléchargeables.

<!-- MC-32153-->

* Lorsque `cron` est activé et que vous effectuez un import client à l’aide de l’option **(Client et adresses (fichier unique))**, l’application remplit les données sur la grille client d’administration comme prévu. La grille du client affiche les clients une fois la réindexation manuelle terminée pour `customer_grid indexer`. Auparavant, l’application ne mettait pas à jour la grille client avec les adresses client nouvellement importées.

<!-- MC-32154-->

* L’application affiche désormais la liste des clients comme prévu après la réindexation automatique. Auparavant, même si l’exécution manuelle de `bin/magento index:reindex` fonctionnait, la grille du client n’affichait pas les informations du client après la réindexation automatique.

<!-- MC-30148-->

* L’application supprime désormais les fichiers temporaires de `<Magento_home>/var` comme prévu une fois l’importation du produit terminée.

<!-- MC-31879-->

* L’application ne crée plus de SKU en double dans l’administrateur lorsque des produits sont importés par le fichier `.csv`.

<!-- ENGCOM-6141-->

* L’importation n’échoue plus lorsque l’attribut configurable importé inclut un signe égal (=) dans sa valeur. _Correctif soumis par dhoang89 dans la demande d’extraction [25194](https://github.com/magento/magento2/pull/25194)_. [GitHub-25188](https://github.com/magento/magento2/issues/25188)

<!-- ENGCOM-6901-->

* Toutes les données de grille exportées (données Magento Open Sources et personnalisées) ont désormais des libellés d’option au lieu de valeurs d’option pour toutes les colonnes de type `Select` ou `Multiselect`. Auparavant, lors de l’exportation de ces données, la feuille de calcul exportée contenait des colonnes avec identifiant plutôt que les valeurs affichées dans la grille. _Correctif soumis par Maxim Novik dans la demande d&#39;extraction [26523](https://github.com/magento/magento2/pull/26523)_. [GitHub-25963](https://github.com/magento/magento2/issues/25963)

<!-- ENGCOM-7145-->

* L’application affiche désormais les produits groupés sur le storefront comme prévu après la mise à jour d’un produit par l’importation d’un fichier `.csv`. _Correctif soumis par Pavel Bystritsky dans la demande d&#39;extraction [25664](https://github.com/magento/magento2/pull/25664)_. [GitHub-25540](https://github.com/magento/magento2/issues/25540)

### Index

<!-- MC-25236 30779-->

* Nous avons amélioré les performances de `indexer_update_all_views`. L’indexation est désormais plus rapide, les règles inactives ne sont plus traitées et les caches sont effacés des entrées pour les produits modifiés uniquement.

<!-- MC-29917-->

* Les prix des produits sur le storefront reflètent désormais fidèlement l’application d’une mise à jour planifiée de la règle de prix du catalogue. Auparavant, les prix ne reflétaient pas la règle de prix du panier planifiée tant que vous n’avez pas réindexé manuellement (`php bin/magento indexer:reindex catalogrule_rule`).

<!-- MC-30588-->

* Vous pouvez désormais réindexer la base de données de produits après avoir ajouté un attribut qui ne peut pas faire l’objet de recherches (c’est-à-dire que les attributs `is_searchable`, `is_filterable` et `is_visible_in_advanced_search` sont désactivés).

<!-- ENGCOM-6533-->

* L’application affiche désormais un message qui identifie l’indexeur et le temps pris par l’opération d’indexation lorsqu’une opération de réindexation échoue. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [26207](https://github.com/magento/magento2/pull/26207)_. [GitHub-26206](https://github.com/magento/magento2/issues/26206)

<!-- ENGCOM-7179-->

* Les produits enregistrés dans les magasins où l’indexeur `onthefly` et les tables plates sont activés respectent désormais les affectations de site web. Auparavant, si vous supprimiez toutes les affectations de site web d’un produit, puis que vous l’enregistriez, toutes les tables plats incluaient le produit, en dépit des affectations de site web spécifiées.  _Correctif soumis par Abel Truong dans la demande d&#39;extraction [27365](https://github.com/magento/magento2/pull/27365)_. [GitHub-16315](https://github.com/magento/magento2/issues/16315)

### Infrastructure

* Le navigateur Internet Explorer 11.x n’est plus pris en charge.

<!-- MC-32223-->

* La logique de validation associée au champ **Date of birth** (Date de naissance) du formulaire d’enregistrement du client ne déclenche plus d’erreur JavaScript.

<!-- ENGCOM-7000-->

* Ajout d’un test d’intégration pour couvrir `$storeId` pour la méthode `get()` du référentiel de catégorie. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [27048](https://github.com/magento/magento2/pull/27048)_. [GitHub-27044](https://github.com/magento/magento2/issues/27044)

<!-- ENGCOM-6378-->

* L’activation du paramètre **Bloquer tous les cookies** dans Safari ne génère plus d’erreurs JavaScript et l’application affiche le message `cookies disabled` comme prévu. Auparavant, l’application affichait plusieurs erreurs `SecurityError (DOM Exception 18): The operation is insecure` dans la console. _Correctif soumis par Ra̼ l Verdugo Lorenzo dans la demande d&#39;extraction [25324](https://github.com/magento/magento2/pull/25324)_. [GitHub-13865](https://github.com/magento/magento2/issues/13865)

<!-- ENGCOM-6674-->

* L’application ne renvoie plus cette erreur lors de l’exécution des tests d’intégration : `Error: Call to a member function findFile() on array (/var/www/html/lib/internal/Magento/Framework/Code/Generator/DefinedClasses.php:59)`. Auparavant, un problème avec `AutoloaderRegistry::getAutoloader` provoquait l’échec aléatoire des tests d’intégration. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [26480](https://github.com/magento/magento2/pull/26480)_. [GitHub-26479](https://github.com/magento/magento2/issues/26479)

<!-- ENGCOM-6958-->

* La balise `date` de `/module-sales/view/frontend/templates/order/order_date.phtml` a été corrigée sur `span`. Auparavant, l’application consignait une erreur dans le fichier `exception.log` lorsque vous cliquiez sur la page **Afficher la commande** du storefront **Mon compte** > **Mes commandes**. _Correctif soumis par Andrii Chorniy dans la demande d’extraction [25895](https://github.com/magento/magento2/pull/25895)_. [GitHub-13269](https://github.com/magento/magento2/issues/13269), [GitHub-25738](https://github.com/magento/magento2/issues/25738)

<!-- ENGCOM-6316-->

* Le module de mixin JavaScript a été restructuré afin d’améliorer le chargement et l’application des mixins pour les modules groupés avancés. Auparavant, l’application ne chargeait pas ni n’appliquait de mixins pour les modules groupés avancés.  _Correctif envoyé par Mateusz Krzeszowiak dans la demande [de tirage 25587](https://github.com/magento/magento2/pull/25587)_. [GitHub-25586](https://github.com/magento/magento2/issues/25586)

<!-- ENGCOM-6344-->

* La `grunt clean` commande nettoie maintenant le code généré et les dossiers de métadonnées comme prévu. _Correctif envoyé par Andrii Beziazychnyi dans la demande [de tirage 25765](https://github.com/magento/magento2/pull/25765)_. [GitHub-25739](https://github.com/magento/magento2/issues/25739)

<!-- ENGCOM-6463-->

* Le résultat `getVersion` (`ProductMetadata::getVersion`) est maintenant mis en cache, ce qui améliore les performances de la méthode `ProductMetadata::getVersion`.  _Correctif soumis par Lukasz Lewandowski dans la demande d’extraction [26001](https://github.com/magento/magento2/pull/26001)_. [GitHub-24025](https://github.com/magento/magento2/issues/24025)

<!-- ENGCOM-7037-->

* Un paramètre manquant pour `additional_information` a été ajouté à `OrderPaymentInterface`, ce qui résout une incohérence entre sa déclaration de schéma et les propriétés acceptées. _Correctif soumis par Antonino Bonumore dans la demande d&#39;extraction [26748](https://github.com/magento/magento2/pull/26748)_. [GitHub-26745](https://github.com/magento/magento2/issues/26745), [GitHub-13222](https://github.com/magento/magento2/issues/13222)

### Navigation par couches

<!-- MC-31763-->

* L’application effectue désormais le rendu de l’attribut **Oui/Non** sur la page Catégorie lorsque l’option **Utiliser dans la navigation par couches : filtrable (avec les résultats)** est activée pour les propriétés du storefront.

<!-- ENGCOM-6807-->

* La redondance `\Magento\Sales\Model\Order\Email\Sender\ShipmentSender` a été abandonnée au profit de `\Magento\Sales\Model\Order\Shipment\Sender\EmailSender`. _Correctif soumis par Adarsh Manickam dans la demande d&#39;extraction [26714](https://github.com/magento/magento2/pull/26714)_. [GitHub-14885](https://github.com/magento/magento2/issues/14885)

### Galerie de médias

<!-- ENGCOM-6993-->

* Cliquez sur **Entrée** après avoir nommé un nouveau dossier dans la galerie de médias pour enregistrer toutes les modifications que vous avez apportées. Auparavant, si vous cliquiez sur **Entrée** au lieu d’utiliser la souris pour sélectionner **OK**, toutes les modifications étaient perdues.  _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27029](https://github.com/magento/magento2/pull/27029)_. [GitHub-26847](https://github.com/magento/magento2/issues/26847)

<!-- ENGCOM-7490-->

* Vous pouvez désormais créer sous la galerie multimédia un sous-dossier portant le même nom que le dossier principal. Auparavant, vous ne pouviez pas enregistrer le sous-dossier portant le même nom. _Correctif soumis par Vadim Malesh dans la demande d&#39;extraction [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/adobe-stock-integration/issues/1270)

### Stockage des supports

<!-- MC-32593-->

* `var/resource_config.json` n’est plus régénéré chaque fois qu’une image est demandée par `get.php`. Auparavant, ce fichier était réécrit à chaque appel à `get.php`.

### Newsletter

<!-- MC-31768-->

* Les clients peuvent désormais s’abonner comme prévu aux newsletters. Auparavant, lorsqu’un client tentait de confirmer son abonnement, l’application affichait cette erreur : `This is an invalid subscription confirmation code`.

<!-- ENGCOM-6525-->

* Le champ de saisie de newsletter du pied de page du storefront est désormais rendu de manière identique par tout navigateur pris en charge.  _Correctif soumis par divyajyothi5321 dans la demande d&#39;extraction [26182](https://github.com/magento/magento2/pull/26182)_. [GitHub-26176](https://github.com/magento/magento2/issues/26176)

<!-- ENGCOM-6691-->

* Les messages Storefront relatifs aux abonnements à des newsletters sont désormais rendus comme prévu dans HTML. _Correctif envoyé par Oleh Usik dans la demande [d’extraction 26455](https://github.com/magento/magento2/pull/26455)_. [GitHub-25162](https://github.com/magento/magento2/issues/25162)

### Ordres

<!-- MC-33456-->

* Les sous-totaux récapitulatifs des commandes n’affichent plus les taxes exclues lorsque les paramètres d’affichage du site Web spécifient que les taxes doivent être exclues. Auparavant, lorsque plusieurs sites Web étaient configurés avec des paramètres d’affichage différents, le paramètre défini dans la variable de serveur était utilisé pour le magasin malgré les configurations au niveau du magasin.

### Modes de paiement

<!-- MC -->

* L’intégration de méthodes de paiement tierces Authorize.Net, eWay, CyberSource, Braintree et Worldpay dans le code de base a été supprimée. Les commerçants doivent migrer vers les extensions officielles disponibles sur le Commerce Marketplace.

<!-- MC -->

* La mise en œuvre principale de la protection contre la fraude Signifyd n’est plus prise en charge. Les marchands doivent migrer vers l’extension [](https://marketplace.magento.com/signifyd-module-connect.html) Signifyd Fraud &amp; Chargeback Protection disponible sur Commerce Marketplace.

<!-- MC-32546-->

* Vous pouvez désormais terminer une commande avec succès et revenir à la page d’accueil du marchand lorsque **la solution** hébergée Website Payments Pro est configurée. Auparavant, lorsque vous cliquiez **sur Retour au marchand**, l’application générait cette erreur : `Invalid Form Key. Please refresh the page`.

<!-- ENGCOM-6606-->

* Le changement d’adresse de facturation n’entraîne plus le rendu du texte de JavaScript fonction dans la section de paiement du processus de paiement de la vitrine. _Correctif envoyé par Chris Pook dans la demande [de tirage 26378](https://github.com/magento/magento2/pull/26378)_. [GitHub-26375](https://github.com/magento/magento2/issues/26375)

<!-- ENGCOM-7223-->

* Les notes de crédit affichent désormais le montant correct dans le champ **Remboursement de l’ajustement** de la présentation Mémo de crédit.  _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27343](https://github.com/magento/magento2/pull/27343)_. [GitHub-13851](https://github.com/magento/magento2/issues/13851)

<!-- ENGCOM-6524-->

* Vous pouvez désormais supprimer des informations supplémentaires de la table `quote_payment column additional_information` après avoir enregistré un guillemet. Auparavant, vous ne pouviez pas supprimer ces informations après l’enregistrement du guillemet, car la méthode `unsAdditionalInformation` dans `\Magento\Payment\Model\Info` n’initialisait pas correctement les données.  _Correctif soumis par Marco Oliveira dans la demande d&#39;extraction [26084](https://github.com/magento/magento2/pull/26084)_. [GitHub-26083](https://github.com/magento/magento2/issues/26083)

<!-- ENGCOM-6609-->

* Les instructions de paiement sont désormais dérivées de la vue de magasin à partir de laquelle une commande a été effectuée. Auparavant, les instructions de paiement étaient utilisées à partir de la vue de magasin par défaut, car la `BeforeOrderPaymentSaveObserver` méthode récupérait les instructions de paiement de la vue de magasin par défaut. _Correctif envoyé par Karyna Tsymbal dans la demande [de tirage 26399.](https://github.com/magento/magento2/pull/26399)_ [GitHub-26332](https://github.com/magento/magento2/issues/26332)

<!-- ENGCOM-6953-->

* La demande collecte désormais les informations de paiement affichées à la fois sur l’administrateur et dans les factures et factures de l’entrepôt dans lequel la commande a été passée dans des déploiements avec plusieurs magasins. Auparavant, l’application dérivait des informations de paiement du magasin par défaut.  _Correctif soumis par Bartomiej Szubert dans la demande d&#39;extraction [26765](https://github.com/magento/magento2/pull/26765)_. [GitHub-17933](https://github.com/magento/magento2/issues/17933)

#### PayPal

<!-- MC-30498-->

* L’application affiche désormais un message d’erreur informatif chaque fois qu’un client clique sur **Payer avec PayPal** après avoir saisi une adresse de livraison non valide dans le workflow de passage en caisse. Auparavant, l’application affichait un message d’erreur uniquement lorsque le client cliquait pour la première fois sur le bouton, et non pour les clics suivants.

<!-- MC-30639-->

* L’application ne modifie plus l’état d’une commande en `Processing` dans la section Révision des paiements du workflow de passage en caisse lorsqu’un paiement avec PayPal échoue.

<!-- MC-30864-->

* Vous pouvez désormais terminer une commande à l’aide du mode de paiement Lien de flux de production . Auparavant, le mode de paiement Lien de flux de production rejetait toujours le paiement, car l’état de la commande restait dans l’état de paiement `Pending`, même si l’état de la commande dans les journaux des méthodes de paiement était `Approved`.

<!-- MC-32494-->

* Les commandes passées à l’aide de PayPal Payflow Pro sont désormais définies sur l’état `Suspected Fraud` lorsque des filtres de fraude sont déclenchés.

<!-- MC-33110-->

* Vous pouvez désormais utiliser le paiement express PayPal avec n’importe quelle carte de crédit prise en charge. Auparavant, lorsque vous cliquiez sur un bouton de carte de crédit tout en utilisant PayPal paiement express pour terminer une commande, l’application se bloquait et vous ne pouviez saisir aucune information de carte de crédit.

<!-- MC-33117-->

* Les commandes passées dans PayPal Payflow Pro sont désormais définies sur `Suspected Fraud` leur statut lorsque les filtres anti-fraude sont déclenchés. Auparavant, l’état de la transaction de paiement sur PayPal n’était pas validé avant l’approbation du paiement du côté de l’application.

<!-- MC-33294-->

* Payflow Pro fonctionne désormais comme prévu lorsque les restrictions de site Web sont activées.

<!-- MC-31196-->

* L’application traite maintenant avec succès les commandes passées avec PayPal paiement express où l’adresse de livraison de la commande spécifie une région de pays que le client a saisie manuellement dans le champ de texte plutôt que sélectionnée dans le menu déroulant de la page d’expédition. Auparavant, l’application affichait cette erreur sur la page de révision de commande : `Error 500: NOTICE: PHP message: PHP Fatal error: Uncaught Error: Call to a member function getId() on null in httpdocs/vendor/magento/module-paypal/Model/Api/Nvp.php:1527`. [GitHub-26698](https://github.com/magento/magento2/issues/26698)

<!-- MC-31573-->

* Le mode de paiement PayPal Pro fonctionne désormais comme prévu dans le navigateur Chrome 80. Ce mode de paiement appelait auparavant un point de terminaison de rappel qui nécessitait un accès à la session du client, un accès que la nouvelle fonctionnalité de cookie Chrome SameSite par défaut ne permet pas. [GitHub-26840](https://github.com/magento/magento2/issues/26840)

<!-- MC-31292-->

* Vous pouvez désormais utiliser PayPal Express pour payer une commande lorsque le panier de paiement persistant a été activé et que le paramètre Effacer la persistance à la **déconnexion** est défini sur **non**. Auparavant, l’application vous redirigeait vers la page de connexion.

<!-- ENGCOM-6383-->

* Les paiements de PayPal Express et Web Payments Pro passent maintenant à l’état comme prévu une fois le `Processing` traitement commencé. Auparavant, PayPal paiements Web Payments Pro restaient à l’état `Pending` de paiement même lorsque les informations de paiement étaient dans l’état `Processing` . _Correctif envoyé par azambon dans la demande [de tirage 25876](https://github.com/magento/magento2/pull/25876)_. [GitHub-25659](https://github.com/magento/magento2/issues/25659)

### Performances

<!-- MC-31499-->

* La logique d’invalidation de la section de données client a été améliorée. Cette version introduit une nouvelle méthode d’invalidation de toutes les données des sections client, qui permet d’éviter un problème connu avec le stockage local lorsque des invalidations `sections.xml` personnalisées sont actives. (Auparavant, le contenu privé (stockage local) n’était pas correctement renseigné lorsque vous aviez un *etc/frontend/sections.xml* personnalisé avec des invalidations d’action.) Voir [Contenu privé](https://developer.adobe.com/commerce/php/development/cache/page/private-content/).

<!-- MC-31449-->

* L’importation des comptes clients a été restructurée pour améliorer la vitesse d’importation.

<!-- MC-23383 ENGCOM-7006-->

* Les vendeurs peuvent désormais utiliser le [chargement différé](https://en.wikipedia.org/wiki/Lazy_loading) pour charger les images. _Correctif envoyé par Timon de Groot dans la demande [d’extraction 27033](https://github.com/magento/magento2/pull/27033)_. [GitHub-27032](https://github.com/magento/magento2/issues/27032)

<!-- ENGCOM-6988-->

* Les graphiques des tableaux de bord ont été migrés vers la `chart.js` bibliothèque.  _Correctif soumis par Bartomiej Szubert dans la demande d&#39;extraction [26923](https://github.com/magento/magento2/pull/26923). [GitHub-186](https://github.com/magento/community-features/issues/186)_

<!-- ENGCOM-6232-->

* Les performances des opérations exécutées sur des catalogues volumineux qui contiennent de nombreux attributs de produit (sur l’échelle de 3 000 à 2 300 options) ont été améliorées par la refactorisation de la manière dont les tableaux d’options d’attribut sont créés. _Correctif soumis par Behnam Shayani dans la demande d&#39;extraction [25452](https://github.com/magento/magento2/pull/25452)_. [GitHub-20966](https://github.com/magento/magento2/issues/20966)

### Tarifs

<!-- ENGCOM-6647-->

* L’application enregistre et affiche désormais le prix correct pour les produits à plusieurs niveaux, même après avoir modifié les produits plusieurs fois. Auparavant, l’application n’enregistrait pas les dernières modifications apportées au prix du produit. _Correctif soumis par Ravi Chandra dans la demande d’extraction [26162](https://github.com/magento/magento2/pull/26162)_. [GitHub-25195](https://github.com/magento/magento2/issues/25195)

<!-- ENGCOM-6914-->

* Le pourcentage d’épargne fixe et de réduction est désormais correctement appliqué au prix final d’une commande. Auparavant, l’application affichait un pourcentage d’économies de niveau incorrect (à la fois fixe et réduit) sur la page des détails du produit. _Correctif soumis par Sathish Subramanian dans la demande d&#39;extraction [26584](https://github.com/magento/magento2/pull/26584)_. [GitHub-26583](https://github.com/magento/magento2/issues/26583)

<!-- MC-30255-->

* L’e-mail d’alerte de stock envoyé aux clients concernant le réapprovisionnement d’un produit configurable contient désormais le prix correct du produit. Auparavant, cet e-mail contenait un prix de produit de 0.

<!-- MC-32873-->

* Le désabonnement à l’alerte de stock de produit fonctionne désormais lorsque la session d’un utilisateur a expiré. Auparavant, lorsque vous cliquiez sur le **lien Cliquez ici pour arrêter les alertes pour ce produit** , l’application affichait une erreur 404.

<!-- MC-31979-->

* Les actions de désabonnement pour les alertes de produit fonctionnent maintenant comme prévu. Auparavant, lorsqu’un client cliquait sur le **lien Cliquez ici pour arrêter les alertes pour ce produit** , l’application affichait une erreur 404.

### Vidéo du produit

<!-- MC-23743-->

* Vous pouvez désormais utiliser REST pour mettre à jour les vidéos YouTube (PUT `rest/V1/products/{SKU}`). Auparavant, l’application affichait une miniature pour la vidéo, mais le lecteur vidéo ne se chargeait pas lorsque vous cliquiez sur le bouton **Lire** . [GitHub-23194](https://github.com/magento/magento2/issues/23194)

### Rapports

<!-- ENGCOM-6635-->

* Les listes de produits classent désormais les produits configurables par SKU, qui regroupe les produits configurables par variations. Auparavant, le rapport regroupait les produits par `product_id`. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [25858](https://github.com/magento/magento2/pull/25858)_. [GitHub-25856](https://github.com/magento/magento2/issues/25856)

<!-- ENGCOM-6427-->

* La table **Admin** > **Rapports** > **Actualiser les statistiques** affiche désormais l’état **Mis à jour à = Null** sous la forme **Jamais** dans la colonne **Mise à jour** au lieu de **non définie**. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [25932](https://github.com/magento/magento2/pull/25932)_. [GitHub-25931](https://github.com/magento/magento2/issues/25931)

<!-- ENGCOM-6925-->

* Le rapport Faible stock n’inclut plus les produits désactivés. _Correctif envoyé par Mohamed-Asar dans la demande [de tirage 26862](https://github.com/magento/magento2/pull/26862)_. [GitHub-26838](https://github.com/magento/magento2/issues/26838)

<!-- ENGCOM-7110-->

* L’application affiche désormais une valeur exacte pour le champ **Démarrages à date/année** dans **Admin** > **Magasins** > **Configuration** > **Général** > **Rapports**. _Correctif soumis par Priya-V-Panchal dans la demande d’extraction [27088](https://github.com/magento/magento2/pull/27088)_. [GitHub-27086](https://github.com/magento/magento2/issues/27086)

### Critiques

<!-- MC-29578-->

* L’application désactive désormais le bouton **Submit Review** une fois que l’utilisateur a cliqué sur le bouton. Auparavant, l’application ne désactivait pas ce bouton après le premier clic et créait plusieurs révisions lorsque l’utilisateur cliquait plusieurs fois sur le bouton **Submit Review**.

<!-- MC-31293-->

* La liste de filtres **Admin** > **Rapports** > **Révisions** > **Par produits** affiche désormais les résultats comme prévu. Auparavant, lorsque vous essayiez de filtrer cette liste, l’application n’affichait aucun résultat.

<!-- ENGCOM-6938-->

* L’option de menu Révisions en attente est désormais activée comme prévu sur **Admin** > **Marketing** > **Contenu utilisateur** > **Révisions en attente**.  _Correctif envoyé par Ravinder dans la demande d’extraction [26230](https://github.com/magento/magento2/pull/26230)_. [GitHub-26229](https://github.com/magento/magento2/issues/26229)

### Ventes

<!-- MC-29426-->

* Les commandes terminées apparaissent désormais à la fois dans le système de paiement et dans le Magento Open Source. Auparavant, les commandes apparaissaient dans le système de paiement, mais pas dans le Magento Open Source. [GitHub-25862](https://github.com/magento/magento2/issues/25862)

<!-- MC-30000-->

* L’application respecte désormais l’adresse de livraison par défaut d’un client. Auparavant, l’application ne respectait pas les adresses de facturation et de livraison par défaut en fonction des paramètres, et le paramètre **Identique à l’adresse de facturation** n’était pas activé automatiquement.

<!-- MC-30299-->

* L’application calcule désormais correctement les remboursements pour les commandes qui incluent des remises. Auparavant, la demande calculait incorrectement la taxe de livraison et la remise, et le total remboursé ne correspondait pas au total payé.

<!-- MC-33165-->

* L’application affecte désormais l’ID de groupe correct lorsqu’un nouveau client crée une commande dans le cadre de déploiements multi-sites. Auparavant, l’application appliquait les paramètres du groupe de clients par défaut.

<!-- MC-31786-->

* Les administrateurs disposant d’autorisations restreintes qui incluent l’autorisation d’afficher des notes de crédit, des factures et des envois peuvent désormais afficher des factures et des envois à partir de la page Commandes comme prévu. Auparavant, lorsqu’un administrateur restreint tentait d’afficher une commande, l’application affichait cette erreur : `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- MC-24023-->

* L’application n’affiche plus d’erreur lorsqu’un client ajoute au panier une quantité de produit qui dépasse la moitié du stock de produits existant, mais ne dépasse pas le stock total. Auparavant, dans ces circonstances, l’application affichait cette erreur : `The requested qty is not available`. [Github-24365](https://github.com/magento/magento2/issues/24365)

<!-- ENGCOM-6910-->

* Vous pouvez maintenant ajouter avec succès un produit au panier à partir de l’administrateur lorsque la quantité de stock est de 1. Auparavant, l’application n’ajoutait pas le produit au panier et affichait le message suivant : `The requested qty is not available`. _Correctif soumis par Serhii Petrychenko dans la demande d&#39;extraction [26650](https://github.com/magento/magento2/pull/26650)._ [GitHub-25675](https://github.com/magento/magento2/issues/25675)

<!-- ENGCOM-7090-->

* L’application affiche désormais un message d’erreur informatif lorsqu’un administrateur de magasin tente de réorganiser un produit dont l’option personnalisée comporte un nom supérieur au nombre maximal de caractères. Auparavant, dans ces conditions, l’application affichait la page Rapport et non un message. _Correctif soumis par Mudit Shukla dans la demande d&#39;extraction [26348](https://github.com/magento/magento2/pull/26348)_. [GitHub-26345](https://github.com/magento/magento2/issues/26345)

<!-- ENGCOM-6328-->

* La mise en page du formulaire de modification des informations sur les adresses de commande de ventes a été restructurée pour correspondre aux conventions de la bibliothèque des formulaires d’administration. _Correctif soumis par Alexey Rakitin dans la demande d’extraction [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6007-->

* Les cases à cocher de la section Produits de la page **Catalogue** > **Catégories** fonctionnent désormais comme prévu.  _Correctif soumis par Denis Kopylov dans la demande d&#39;extraction [22990](https://github.com/magento/magento2/pull/22990)_. [GitHub-22988](https://github.com/magento/magento2/issues/22988)

<!-- ENGCOM-6809-->

* La `getCustomer` méthode renvoie désormais l’objet client tel que défini dans `phpdoc` le bloc. Auparavant, cette méthode renvoyait `NULL` et le bloc `phpdoc` ne mettait pas en évidence que cette méthode pouvait renvoyer `NULL`. _Correctif soumis par Fanis Strezos dans la demande d’extraction [26423](https://github.com/magento/magento2/pull/26423)_. [GitHub-25268](https://github.com/magento/magento2/issues/25268)

<!-- ENGCOM-6492-->

* Les commandes de nouveau sont désormais désactivées comme prévu lorsqu’un commerçant désactive le **Admin** > **Magasin** > **Configuration** > **Ventes** > **Réorganiser** > **Autoriser la commande**.  _Correctif soumis par Eden Duong dans la demande d&#39;extraction [26051](https://github.com/magento/magento2/pull/26051)_. [GitHub-25130](https://github.com/magento/magento2/issues/25130)

<!-- ENGCOM-6627-->

* La méthode `getPrice()` renvoie désormais une valeur flottante ou nulle au lieu d’une chaîne lors de la définition d’un prix personnalisé pour une commande dans l’administrateur.  _Correctif soumis par Andrii Chorniy dans la demande d’extraction [26313](https://github.com/magento/magento2/pull/26313)_. [GitHub-25968](https://github.com/magento/magento2/issues/25968)

<!-- ENGCOM-6786-->

* La colonne **Code d’état et titre** de **Admin** > **Magasins** > Paramètres > **État de la commande** affiche désormais l’état au lieu de l’état prévu.  _Correctif soumis par Oleh Usik dans la demande d&#39;extraction [26569](https://github.com/magento/magento2/pull/26569)_. [GitHub-17847](https://github.com/magento/magento2/issues/17847)

<!-- ENGCOM-6936-->

* Les factures de PDF capturent désormais la date d’achat correcte lorsqu’elles sont créées dans un paramètre régional en Go. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [26701](https://github.com/magento/magento2/pull/26701)_. [GitHub-26675](https://github.com/magento/magento2/issues/26675)

### Règle de vente

<!-- MC-30155-->

* `quote_item.applied_rule_ids` est désormais mis à jour comme prévu après la désactivation d’une règle de prix de panier. [GitHub-24526](https://github.com/magento/magento2/issues/24526)

<!-- MC-32229-->

* L’application affiche désormais les arborescences de catégorie comme prévu lorsque vous essayez de créer ou de modifier une règle de prix de panier. Auparavant, la sélection d’une catégorie dans la section Condition lors de la création ou de la modification d’une règle entraînait des erreurs JavaScript.

<!-- ENGCOM-6824-->

* L’application calcule désormais correctement les remises fixes au niveau du panier à l’aide des règles de prix du panier lorsqu’un produit configurable est ajouté pour la première fois au panier. _Correctif envoyé par Lachlan Turner dans la demande [de tirage 26623](https://github.com/magento/magento2/pull/26623)_. [GitHub-26622](https://github.com/magento/magento2/issues/26622)

### Rechercher {#search-heading}

* Elasticsearch 7.6.x est désormais le moteur de recherche de catalogue par défaut pour Adobe Commerce et Magento Open Source. Vous ne pouvez pas installer ni mettre à niveau vers la version 2.4.0 sans installer également Elasticsearch 7.6.x. Le code de la version 2.x de l’Elasticsearch a été supprimé. Les versions 5.x et 6.x des Elasticsearch ont été abandonnées et ne sont plus prises en charge. Voir [Conditions préalables pour le moteur de recherche](../../../installation/prerequisites/search-engine/overview.md).

<!-- MC-23753-->

* L’application effectue désormais correctement le rendu des symboles **&lt;** et **>** dans les chaînes de recherche de catalogue du storefront.

<!-- MC-25010-->

* Les produits s’affichent désormais comme prévu dans les catégories après leur exécution `cron:run` dans les déploiements implémentant Elasticsearch.

<!-- MC-25254-->

* L’application n’a plus besoin d’une réindexation de recherche complète pour qu’un nouvel attribut de produit puisse faire l’objet d’une recherche sur la vitrine.

<!-- MC-29545-->

* Elasticsearch fonctionne désormais comme prévu lorsque vous triez une liste de produits contenant des produits groupés par noms de produits alphabétiques.

<!-- MC-29951-->

* Les résultats du filtrage n’incluent plus les options en rupture de stock lorsque vous filtrez des produits configurables dans une catégorie.

<!-- MC-30131-->

* La sélection de tous les produits de la page de liste de produits à l’aide d’Elasticsearch affiche désormais tous les produits dans les résultats de recherche comme prévu. Auparavant, l’application n’affichait aucun résultat de recherche.

<!-- MC-30201-->

* Elasticsearch affiche désormais correctement les résultats des pages de catégorie lorsque vous modifiez le nombre de résultats de recherche affichés par page. Auparavant, lorsque vous aviez modifié le nombre de résultats de recherche à afficher sur la page des résultats de recherche, l’application affichait une page vierge et cette erreur : `"0":"SQLSTATE[42000]: Syntax error or access violation: 1064 You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near'`

<!-- MC-32430-->

* Le tri des prix fonctionne désormais correctement pour les produits configurables en rupture de stock.

<!-- MC-25176-->

* L’application ne renvoie plus d’exception lorsqu’un client utilise la recherche rapide storefront dans des déploiements de sites Web multiples.

<!-- ENGCOM-6842-->

* L’application n’affiche plus d’avertissement lorsqu’un commerçant ouvre la page du terme de recherche en cliquant sur l’option Termes de recherche dans le pied de page de **Marketing** > **SEO &amp; Search** > **Termes de recherche**.  _Correctif soumis par vishal-webkul dans la demande d’extraction [25246](https://github.com/magento/magento2/pull/25246)_. [GitHub-25245](https://github.com/magento/magento2/issues/25245)

<!-- ENGCOM-7289-->

* L’application ne redimensionne plus la fenêtre d’affichage lorsque vous cliquez sur la zone de saisie de recherche lors de l’exécution de Safari dans la vue mobile.  _Correctif soumis par Pawe Tylek dans la demande d’extraction [27603](https://github.com/magento/magento2/pull/27603). [GitHub-27506](https://github.com/magento/magento2/issues/27506)_

<!-- ENGCOM-6364-->

* Les versions Elasticsearch sont désormais identifiées par la notation X.x au lieu de la notation X.0+ dans l’Admin (**Magasins** > Paramètres > **Configuration** > **Catalogue** > **Catalogue** > **Recherche catalogue**). _Correctif soumis par Andreas Mautz dans la demande d’extraction [25838](https://github.com/magento/magento2/pull/25838)_. [GitHub-25674](https://github.com/magento/magento2/issues/25674)

### Expédition

<!-- MC-32782-->

* Vous pouvez désormais envoyer une commande à plusieurs adresses si l’un des produits commandés est un produit virtuel. Auparavant, l’application effectuait une commande pour les produits physiques, mais la commande virtuelle était vide.

<!-- MC-29276-->

* L’application applique désormais correctement des remises sur le panier entier fixes pour les commandes expédiées à plusieurs adresses. Auparavant, ce type de remise était appliqué plusieurs fois lorsqu’un client extrayait une commande à l’aide de l’option Extraire avec plusieurs adresses. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- MC-29444-->

* La liste déroulante disponible pour sélectionner les méthodes d’expédition lors du processus de création d’une règle de prix de panier contient désormais uniquement des valeurs valides. Auparavant, cette liste déroulante contenait des valeurs vides ou supplémentaires.

<!-- MC-30186-->

* L’application imprime désormais les libellés d’expédition sous la forme d’un fichier `.pdf` comme prévu lorsque vous sélectionnez **Imprimer le libellé d’expédition** dans la liste déroulante Action d’une commande dans la liste d’archives de commandes. Auparavant, l’application affichait une erreur 404.

<!-- MC-31396-->

* Les règles de prix d’expédition gratuits affectent désormais uniquement les produits pertinents lorsqu’un panier contient des produits provenant de catégories qui sont incluses par la règle de prix d’expédition gratuit , ainsi que des produits provenant de catégories qui ne sont pas incluses dans la règle. Auparavant, lorsqu’un panier comprenait des produits des catégories d’expédition gratuite et d’autres catégories qui n’étaient pas incluses dans la règle de prix, l’expédition gratuite n’était appliquée à aucun produit.

<!-- ENGCOM-6436-->

* L’application n’affiche plus de page vierge au lieu d’afficher tous les opérateurs de livraison dans la liste déroulante ou la zone à sélection multiple. Auparavant, une erreur se produisait dans la fonction `toOptionArray` de `vendor/magento/module-shipping/Model/Config/Source/Allmethods.php`. _Correctif soumis par Marc Rodriguez dans la demande d&#39;extraction [25315](https://github.com/magento/magento2/pull/25315)_. [GitHub-13136](https://github.com/magento/magento2/issues/13136)

* L’application n’applique plus de remise à montant fixe plusieurs fois lorsqu’un client crée une commande qui sera envoyée à plusieurs adresses.  _Correctif soumis par Mahesh Singh dans la demande d&#39;extraction [26419](https://github.com/magento/magento2/pull/26419)_. [GitHub-25834](https://github.com/magento/magento2/issues/25834)

<!-- ENGCOM-6523-->

* Les modules externes pour `Magento\Ups\Model\Carrier` qui implémentent des `di.xml` personnalisés fonctionnent désormais correctement en mode développeur. Auparavant, l’application générait cette erreur : `1 exception(s): Exception #0 (BadMethodCallException): Missing required argument $data of Magento\Ups\Model\Carrier`. _Correctif envoyé par Bartomiej Szubert dans la demande [de tirage 26130](https://github.com/magento/magento2/pull/26130)_. [GitHub-25390](https://github.com/magento/magento2/issues/25390)

### Plan du site

<!-- MC-29362-->

* L’application utilise maintenant l’URL de base du projet, comme prévu lorsque vous générez un sitemap.

<!-- ENGCOM-6670-->

* Les plans de site générés incluent désormais l’URL de la page d’accueil. _Correctif envoyé par deepaksnair dans la demande [de tirage 26445](https://github.com/magento/magento2/pull/26445)_. [GitHub-25761](https://github.com/magento/magento2/issues/25761)

### Boutique

<!-- MC-25187-->

* Les sessions clients persistent désormais comme prévu lorsqu’un client se connecte à un magasin, ajoute des produits au panier, puis passe à un nouveau magasin lors d’un déploiement multi-magasin. Auparavant, lorsque le client naviguait vers le deuxième magasin, l’application le déconnectait et vidait le panier.

<!-- ENGCOM-4781-->

* L’application supprime maintenant les enregistrements associés à une vue de magasin supprimée des `sale_sequence_meta` tables et `sales_sequence_profile` comme prévu. _Correctif envoyé par Bartomiej Szubert dans la demande [de tirage 22296](https://github.com/magento/magento2/pull/22296)_. [GitHub-14958](https://github.com/magento/magento2/issues/14958)

<!-- ENGCOM-6869-->

* Le sélecteur de magasin fonctionne désormais comme prévu lors du basculement entre des magasins qui ont des URL de base différentes. Auparavant, lorsqu’un client utilisait le sélecteur de magasin pour passer d’un magasin à l’autre, la demande échouait si le magasin cible avait une URL de base différente de celle du magasin actuel. _Correctif soumis par Tobias Nilsson dans la demande d&#39;extraction [26548](https://github.com/magento/magento2/pull/26548)_. [GitHub-23755](https://github.com/magento/magento2/issues/23755), [GitHub-26384](https://github.com/magento/magento2/issues/26384)

### Nuancier

<!-- MC-30294-->

* Les commerçants peuvent désormais ajouter des attributs d’échantillon de couleur à des produits à l’aide de l’option **Épisode visuel** sur **Magasins** > **Attributs** > **Produit** > **Nouvel attribut**. Auparavant, une erreur JavaScript était déclenchée lorsque vous tentiez d’ouvrir l’attribut d’échantillon nouvellement créé.

<!-- ENGCOM-6750-->

* Le prix publicitaire minimum change désormais comme prévu lorsqu’un client sélectionne une nouvelle option d’échantillon pour un produit configurable. _Correctif envoyé par Sergiy Vasiutynskyi dans la demande [de tirage 26241](https://github.com/magento/magento2/pull/26241)_. [GitHub-26240](https://github.com/magento/magento2/issues/26240)

<!-- ENGCOM-6685-->

* L’application ne duplique plus le prix minimum annoncé pour un produit configurable lorsque vous sélectionnez une nouvelle option d’échantillon. _Correctif envoyé par Sergiy Vasiutynskyi dans la demande [de tirage 26317](https://github.com/magento/magento2/pull/26317)_. [GitHub-26314](https://github.com/magento/magento2/issues/26314)

<!-- ENGCOM-6966-->

* Correction de problèmes liés au comportement du menu déroulant dans la zone Gérer l’échantillon (valeurs de votre attribut) de la page Nouvel attribut de produit.  _Correctif soumis par Oleh Usik dans la demande d&#39;extraction [26090](https://github.com/magento/magento2/pull/26090)_. [GitHub-25910](https://github.com/magento/magento2/issues/25910)

### TargetRule

<!-- MC-31546-->

* Le bloc de produit associé affiché pour un produit sur le storefront affiche désormais les produits qui répondent aux critères définis dans la règle de produit connexe. Auparavant, l’application n’affichait aucun produit associé.

### Taxe

<!-- MC-29579-->

* L’application met à jour les tarifs d’expédition et les prix comme prévu lorsqu’un client change le pays de destination pour une commande lors du passage en caisse.

<!-- MC-30546-->

* La livraison gratuite est désormais appliquée comme prévu en fonction de la règle de prix du panier applicable. Auparavant, les règles de prix du panier ne prenaient pas en compte les taxes lors du calcul de la conformité d’une commande aux critères de livraison gratuite.

### Test

>[!NOTE]
>
>**MFTF utilise désormais l’authentificateur Google pour exécuter des tests avec 2FA activé. MFTF ne fonctionnera pas avec la version 2.4.0 sans étapes de configuration supplémentaires pour activer l’authentificateur Google**. Voir [Configuration de MFTF pour l’authentification à deux facteurs (2FA)](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/#magento-functional-testing-framework).

<!-- ENGCOM-6585-->

* Les URL codées en dur dans les tests et les groupes d’actions ont été remplacées par des références de page. _Correctif soumis par Lukasz Bajsarowicz dans la demande d’extraction 117 dans le référentiel privé Partners-magento2ee_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-7273-->

* Les tests couvrent désormais la tâche de journalisation des actions d’administration liées aux pages CMS. _Correctif soumis par Lukasz Bajsarowicz dans la demande d’extraction 172 dans le référentiel privé partner-magento2ee_. [GitHub-171](https://github.com/magento/magento2/issues/171)

<!-- ENGCOM-7040 7051-->

* Les noms de test fonctionnels non valides ont été modifiés pour suivre les bonnes pratiques. _Correctif envoyé par Lukasz Bajsarowicz dans la demande [d’extraction 27118](https://github.com/magento/magento2/pull/27118) et la demande d’extraction 151 dans le référentiel privé partners-magento2ee. [GitHub-27117](https://github.com/magento/magento2/issues/27117)_

<!-- ENGCOM-7026-->

* `cron` Magento Open Source est désormais utilisé pour la réindexation après la création des données de test et, le cas échéant, `cache:flush config` remplace `cache:flush`. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [26990](https://github.com/magento/magento2/pull/26990)_. [GitHub-26989](https://github.com/magento/magento2/issues/26989)

<!-- ENGCOM-7421-->

* Les tests d’acceptation suivent désormais les conventions de dénomination des `Magento/Indexer` modules et`Magento/Backup`.  _Correctif envoyé par Shankar Konar dans la demande [de tirage 27515](https://github.com/magento/magento2/pull/27515)_. [GitHub-27503](https://github.com/magento/magento2/issues/27503)

<!-- ENGCOM-6791 6825-->

* Le test `AdminReorderWithCatalogPrice` a été restructuré et n’échoue plus pendant le processus de validation de l’interface utilisateur (CI). _Correctif soumis par Lukasz Bajsarowicz dans la demande d’extraction 135 dans le référentiel privé Partners-magento2ee_. [GitHub-26607](https://github.com/magento/magento2/issues/26607)

<!-- ENGCOM-6780 6795-->

* Les tests `AdminAddingNewOptionsWithImagesAndPricesToConfigurableProduct` et `StorefrontApplyPromoCodeDuringCheckout` ont été restructurés et n’échouent plus pendant le processus de validation de CI. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [26611](https://github.com/magento/magento2/pull/26611) et la demande d&#39;extraction [26614](https://github.com/magento/magento2/pull/26614)_. [GitHub-26612](https://github.com/magento/magento2/issues/26612), [GitHub-26610](https://github.com/magento/magento2/issues/26610)

<!-- ENGCOM-6621-->

* Les tests `DeleteProduct and DeleteCustomer Action Groups` ont été restructurés et n’échouent plus pendant le processus de validation de l’interface utilisateur (CI). _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [26407](https://github.com/magento/magento2/pull/26407)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

<!-- ENGCOM-6608-->

* Les tests `AdminMoveAnchoredCategoryTest.xml` ont été restructurés et n’échouent plus pendant le processus de validation de l’interface utilisateur (CI). _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [26395](https://github.com/magento/magento2/pull/26395)_. [GitHub-26396](https://github.com/magento/magento2/issues/26396)

#### Tests d’intégration

<!-- ENGCOM-7143-->

* Les requêtes consécutives dans les tests d’intégration n’échouent plus. Auparavant, les tests échouaient, car les objets de requête étaient partagés entre les envois. La méthode `resetRequest` vide désormais l’état de `request`. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [27300](https://github.com/magento/magento2/pull/27300)_. [GitHub-27299](https://github.com/magento/magento2/issues/27299)

<!-- ENGCOM-7262-->

* Des tests d’intégration supplémentaires ont été ajoutés pour couvrir les fonctionnalités de messagerie `Magento_Customer`. _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [27606](https://github.com/magento/magento2/pull/27606)_. [GitHub-27607](https://github.com/magento/magento2/issues/27607)

#### tests unitaires PHP

<!-- ENGCOM-7435 7306-->

* Les tests unitaires PHP ne génèrent plus cette erreur fatale : `Fatal error: Class Mock_CartExtensionInterface_0ba80a0b contains 2 abstract methods and must therefore be declared abstract or implement the remaining methods (Magento\Quote\Api\Data\CartExtensionInterface::getAmazonOrderReferenceId, Magento\Quote\Api\Data\CartExtensionInterface::setAmazonOrderReferenceId) in /var/www/html/vendor/phpunit/phpunit-mock-objects/src/Generator.php(264) : eval()'d code on line 1`. _Correctif soumis par Lukasz Bajsarowicz dans les demandes d’extraction 178 dans le référentiel privé Partners-magento2ee et [27701](https://github.com/magento/magento2/pull/27701)_}. [GitHub-27638](https://github.com/magento/magento2/issues/27638)

<!-- ENGCOM-7271-->

* Les tests pour `Offline_Payments` sont désormais compatibles avec PHPUnit 8.  _Correctif soumis par Cristiano Pacheco dans la demande d&#39;extraction [27627](https://github.com/magento/magento2/pull/27627)_. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-7243 7284 7291-->

* Les tests unitaires pour `Framework`, `AdminAnalytics`, `AdminNotification` et `AMPQ` ont été mis à jour pour PHPUnit 8. _Correctif soumis par Ihor Sviziev dans les demandes d&#39;extraction [27522](https://github.com/magento/magento2/pull/27522), [27521](https://github.com/magento/magento2/pull/27521), [27519](https://github.com/magento/magento2/pull/27519), [27522](https://github.com/magento/magento2/pull/27522)_}. [GitHub-27500](https://github.com/magento/magento2/issues/27500)

<!-- ENGCOM-6542-->

* Vous pouvez désormais exécuter le `\Magento\Downloadable\Test\Unit\Helper\DownloadTest` test unitaire sans être connecté à Internet.  _Correctif envoyé par aleromano89 dans la demande [d’extraction 26264](https://github.com/magento/magento2/pull/26264)_. [GitHub-23521](https://github.com/magento/magento2/issues/23521)

<!-- ENGCOM-6695-->

* Ajout d’un test unitaire pour `app/code/Magento/Fedex/Model/Source/Generic.php`. _Correctif soumis par Sathish Subramanian dans la demande d&#39;extraction [26549](https://github.com/magento/magento2/pull/26549)_.

<!-- ENGCOM-7251 7283 7472-->

* `<magentoCron>` a été ajouté à plusieurs tests, ce qui déclenche une réindexation partielle. Cette modification résout des problèmes qui ont créé de faux négatifs dans les tests fonctionnels qui couvraient `Magento_Bundle`, `CatalogImportExport`, `CatalogInventory`, `CatalogRule`, `Backend`, `Braintree` et `Captcha`. _Correctif soumis par Lukasz Bajsarowicz dans les demandes d&#39;extraction [27322](https://github.com/magento/magento2/pull/27322), [27323](https://github.com/magento/magento2/pull/27323), [27321](https://github.com/magento/magento2/pull/27321)_. [GitHub-27320](https://github.com/magento/magento2/issues/27320)

<!-- ENGCOM-6844-->

* Toutes les utilisations incorrectes de `<amOnPage>` ont été remplacées par un `<actionGroup>` approprié pour la déconnexion de l’administrateur le cas échéant dans les tests. _Correctif envoyé par Lukasz Bajsarowicz dans la demande d’extraction 116 dans le référentiel privé partners-magento2ee_. [GitHub-26331](https://github.com/magento/magento2/issues/26331)

<!-- ENGCOM-6352-->

* Chaque groupe d’actions d’un test a été déplacé dans un fichier distinct afin de suivre les bonnes pratiques MFTF et les noms de fichiers incohérents ont été modifiés. Les tests pour les modules suivants ont été affectés :

   * permission-catalogue-module
   * module-shared-catalog
   * module-catalog-event
   * module-banner
   * module-admin-gws
   * module-advanced-checkout
   * livraison-module
   * module-ui
   * livraison-module
   * module-checkout-address-search
   * module-sales
   * module-catalog
   * module-catalogue-règle-staging
   * module-visuel-merchandiser
   * module-customer

  _Correctif soumis par Lukasz Bajsarowicz dans les demandes d&#39;extraction [25800](https://github.com/magento/magento2/pull/25800), [26323](https://github.com/magento/magento2/pull/26323), [26321](https://github.com/magento/magento2/pull/26321), [26320](https://github.com/magento/magento2/pull/26320), [26319](https://github.com/magento/magento2/pull/26319), [26322](https://github.com/magento/magento2/pull/26322), [25828](https://github.com/magento/magento2/pull/25828), [26329](https://github.com/magento/magento2/pull/26329) (et demandes d’extraction 104, 105, 106, 107, 108, 109 , 111, 119, 120, 121 dans le référentiel privé (partenaires-magento2ee)_. [GitHub-22853](https://github.com/magento/magento2/issues/22853)

### Thème

<!-- MC-29804-->

* Nous avons résolu un bogue dans `JsFooterPlugin.php` qui affectait l’affichage des blocs dynamiques. Auparavant, l’application affichait cette erreur lorsque vous accédiez directement à `/banner/ajax/load/url` : `Uncaught TypeError: strpos() expects parameter 1 to be string, null given in`.

<!-- ENGCOM-6708-->

* La méthode `i18n` permet d’ajouter une chaîne aux modèles de trait de soulignement.  _Correctif envoyé par Sergiy Vasiutynskyi dans la demande [de tirage 26435](https://github.com/magento/magento2/pull/26435)_. [GitHub-18012](https://github.com/magento/magento2/issues/18012)

<!-- ENGCOM-6666-->

* Le `section-config` module a été restructuré. Cette refactorisation a réduit les erreurs causées par des modules tiers effectuant POST requêtes ou demandant des données client directement avant l’initialisation du module par `data-mage-init`. _Correctif envoyé par Mateusz Krzeszowiak dans la demande [de tirage 25764](https://github.com/magento/magento2/pull/25764)_. [GitHub-17125](https://github.com/magento/magento2/issues/17125)

<!-- ENGCOM-6924-->

* `LoadCssAsync` Correction des erreurs de format d’HTML. _Correctif soumis par Sathish Subramanian dans la demande d&#39;extraction [26764](https://github.com/magento/magento2/pull/26764)_. [GitHub-26760](https://github.com/magento/magento2/issues/26760)

<!-- ENGCOM-7052-->

* Lorsque vous créez des fichiers `default.xml` et `catalog_product_view.xml` dans le cadre de la création d’un nouveau thème, l’application crée ces pages ou consigne les erreurs dans les fichiers journaux comme prévu. Auparavant, l’application consignait des erreurs dans le fichier `vendor/magento/framework/View/Page/Config/Renderer.php`. _Correctif soumis par Vinh Le dans la demande d&#39;extraction [27026](https://github.com/magento/magento2/pull/27026)_. [GitHub-27009](https://github.com/magento/magento2/issues/27009)

### Traduction et paramètres régionaux

<!-- MC-24186-->

* La traduction en ligne fonctionne désormais comme prévu sur le storefront lorsque **Admin** > **Magasins** > **Configuration** > **Avancé** > **Développeur** > **Traduire en ligne** > **Activé pour Storefront** est défini.

<!-- MC-31663-->

* La traduction en ligne fonctionne désormais comme prévu lorsqu’elle est activée pour un storefront.

<!-- ENGCOM-7064-->

* Les clés d’URL de produit sont désormais translittérées comme prévu. _Correctif soumis par DanieliMi dans la demande d’extraction [26506](https://github.com/magento/magento2/pull/26506)_. [GitHub-26499](https://github.com/magento/magento2/issues/26499)

<!-- ENGCOM-6899-->

* Le paramètre régional `es_US Spanish (United States)` est désormais pris en charge. _Correctif soumis par Vinh Le dans la demande d&#39;extraction [26857](https://github.com/magento/magento2/pull/26857)_. [GitHub-26843](https://github.com/magento/magento2/issues/26843)

<!-- ENGCOM-6996-->

* Le nombre d’espaces réservés numériques et le nombre d’espaces réservés du code JavaScript sont désormais identiques. Auparavant, le code JavaScript utilisait 0 %, tandis que le nombre d’espaces réservés numériques commençait par %1.  _Correctif soumis par korostii dans la demande d’extraction [25359](https://github.com/magento/magento2/pull/25359)_. [GitHub-25243](https://github.com/magento/magento2/issues/25243)

<!-- ENGCOM-6557-->

* Vous pouvez désormais désactiver la traduction du titre de la page des détails du produit (`page.main.title`), qui est activée par défaut. _Correctif soumis par Bartomiej Szubert dans la demande d&#39;extraction [26269](https://github.com/magento/magento2/pull/26269)_. [GitHub-7065](https://github.com/magento/magento2/issues/7065)

<!-- ENGCOM-7465-->

* Les problèmes de rendu de l’arabe et de l’hébreu dans les PDF de facture ont été résolus. _Correctif soumis par Ihor Sviziev dans la demande d&#39;extraction [27887](https://github.com/magento/magento2/pull/27887)_. [GitHub-25769](https://github.com/magento/magento2/issues/25769)

<!-- ENGCOM-6646-->

* L’ordre d’héritage du module de langue est désormais appliqué sur la première liste, selon les besoins et comme décrit dans la documentation.  _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [26420](https://github.com/magento/magento2/pull/26420)_. [GitHub-8691](https://github.com/magento/magento2/issues/8691)

<!-- ENGCOM-6443-->

* L’application affiche désormais ce message d’erreur lorsque vous saisissez un caractère non latin pour un nom de dossier dans les paramètres régionaux où seules les lettres latines sont prises en charge : `Please rename the folder using only Latin letters, numbers, underscores and dashes`. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [25904](https://github.com/magento/magento2/pull/25904). [GitHub-25896](https://github.com/magento/magento2/issues/25896)_

<!-- ENGCOM-6539-->

* La longueur de la colonne `locale` pour `directory_country_region_name` a été augmentée de 8 à 16 pour prendre en charge des paramètres régionaux tels que `zh_Hans_CN`. _Correctif soumis par Bartomiej Szubert dans la demande d&#39;extraction [26268](https://github.com/magento/magento2/pull/26268)_. [GitHub-14001](https://github.com/magento/magento2/issues/14001)

### Interface utilisateur

<!-- ENGCOM-7490-->

* Le bouton Retour fonctionne désormais comme prévu à partir de **Admin** > **Magasins** > **État de la commande** > **Modifier l’état de la commande**. _Correctif soumis par Vadim Malesh dans la demande d&#39;extraction [27976](https://github.com/magento/magento2/pull/27976)_. [GitHub-1270](https://github.com/magento/magento2/issues/1270)

<!-- ENGCOM-6692-->

* Les images d’aperçu ne changent plus inopinément lorsque vous utilisez les touches fléchées pour déplacer le curseur dans le champ **Nom de fichier** de la liste Adobe Stock. _Correctif soumis par Adarsh Manickam dans la demande d’extraction [25991](https://github.com/magento/magento2/pull/25991)_. [GitHub-847](https://github.com/magento/magento2/issues/847)

<!-- ENGCOM-6414-->

* Le champ **Votre mot de passe** de la section Vérification de l’identité de l’utilisateur actuelle de la page **Admin** > **Système** > **Intégrations** hérite désormais des styles comme prévu. _Correctif soumis par Eduard Chitoraga dans la demande d’extraction [25918](https://github.com/magento/magento2/pull/25918)_. [GitHub-25917](https://github.com/magento/magento2/issues/25917)

<!-- ENGCOM-6482-->

* Les entrées validées par le programme de validation JavaScript sur le storefront seront également validées par l’administrateur. Auparavant, le programme de validation JavaScript comptabilisait les nouvelles lignes comme un caractère unique sur le storefront, tandis que, côté serveur, `\Magento\Catalog\Model\Product\Option\Type\maxCharacters` comptabilisait les nouvelles lignes comme deux caractères. _Correctif soumis par Grzegorz Bogusz dans la demande d&#39;extraction [26033](https://github.com/magento/magento2/pull/26033)_. [GitHub-25974](https://github.com/magento/magento2/issues/25974)

<!-- ENGCOM-6517-->

* La balise `subTitle` n’est plus effacée lorsque vous modifiez un titre modal à l’aide de l’appel `setTitle()`. Auparavant, lorsque vous tentiez de créer une fenêtre contextuelle ou un modal personnalisé avec un titre et un sous-titre, puis que vous modifiez le titre avec la méthode `setTitle()`, l’élément `subTitle` était supprimé. _Correctif envoyé par Andrea Parmeggiani dans la demande [de tirage 26142](https://github.com/magento/magento2/pull/26142)_. [GitHub-26141](https://github.com/magento/magento2/issues/26141)

<!-- ENGCOM-6464-->

* Le sous-menu de l’onglet Marketing d’administration s’ajuste désormais automatiquement à la longueur des éléments de menu comme prévu.  Vous pouvez également faire défiler horizontalement.  _Correctif envoyé par Paweł Tylek dans la demande [de tirage 26034](https://github.com/magento/magento2/pull/26034)_. [GitHub-18687](https://github.com/magento/magento2/issues/18687)

<!-- ENGCOM-6519-->

* La colonne `customer_note` du tableau `quote` utilise maintenant le type `text` comme prévu. Auparavant, il utilisait le type `varchar(255)`. _Correctif soumis par Ravi Chandra dans la demande d’extraction [26160](https://github.com/magento/magento2/pull/26160)_. [GitHub-26155](https://github.com/magento/magento2/issues/26155)

<!-- ENGCOM-7153-->

* Correction de problèmes d’affichage avec l’en-tête du tableau dans la table **Mon compte** > **Carnet d’adresses** Entrées d’adresse.  _Correctif soumis par Abrar Pathan dans la demande d&#39;extraction [27336](https://github.com/magento/magento2/pull/27336)_. [GitHub-27335](https://github.com/magento/magento2/issues/27335)

<!-- ENGCOM-5986-->

* Le symbole monétaire utilisé dans l’étape de prix de navigation par calques est désormais basé sur les paramètres par défaut, comme prévu.  _Correctif soumis par Bartomiej Szubert dans la demande d&#39;extraction [24815](https://github.com/magento/magento2/pull/24815)_. [GitHub-21684](https://github.com/magento/magento2/issues/21684)

<!-- ENGCOM-6324-->

* Le symbole de la monnaie biélorusse (BYR) a été mis à jour vers BYN. _Correctif soumis par Bartomiej Szubert dans la demande d&#39;extraction [25723](https://github.com/magento/magento2/pull/25723)_. [GitHub-24713](https://github.com/magento/magento2/issues/24713)

<!-- ENGCOM-6622-->

* La section Comparer les produits de la page Catalogue s’affiche désormais comme prévu dans la vue mobile sur les affichages dont la résolution est inférieure à 767 px. _Correctif soumis par Hitesh dans la demande d&#39;extraction [26418](https://github.com/magento/magento2/pull/26418)_. [GitHub-26416](https://github.com/magento/magento2/issues/26416)

<!-- ENGCOM-6376-->

* Le défilement des pages de produits fonctionne désormais comme prévu dans la vue mobile.  _Correctif soumis par Mateusz Krzeszowiak dans la demande d&#39;extraction [25385](https://github.com/magento/magento2/pull/25385)_. [GitHub-10518](https://github.com/magento/magento2/issues/10518), [GitHub-21717](https://github.com/magento/magento2/issues/21717)

<!-- ENGCOM-6368-->

* Vous pouvez désormais faire défiler les images miniatures de la galerie sur la page du produit dans la vue mobile comme prévu. _Correctif soumis par iGerchak dans la demande d’extraction [25839](https://github.com/magento/magento2/pull/25839)_. [GitHub-21014](https://github.com/magento/magento2/issues/21014)

<!-- ENGCOM-6425-->

* Cliquer sur le titre du thème sur **Admin** > **Contenu** > **Thèmes** n’entraîne plus d’enregistrements en double. _Correctif soumis par Eden Duong dans la demande d&#39;extraction [25926](https://github.com/magento/magento2/pull/25926)_. [GitHub-25925](https://github.com/magento/magento2/issues/25925)

<!-- ENGCOM-6328-->

* La mise en page de la page Admin Adresse de facturation/Adresse d’expédition a été restructurée afin de respecter les conventions d’affichage des formulaires d’administration. _Correctif soumis par Alexey Rakitin dans la demande d’extraction [25699](https://github.com/magento/magento2/pull/25699)_. [GitHub-23481](https://github.com/magento/magento2/issues/23481), [GitHub-19805](https://github.com/magento/magento2/issues/19805)

<!-- ENGCOM-6628 6593-->

* Le lien Ajouter à la comparaison de la page des détails du produit s’affiche désormais correctement en mode mobile sur des écrans de résolution inférieure à 640 pixels. _Correctif soumis par Pawe Tylek dans la demande d’extraction [26424](https://github.com/magento/magento2/pull/26424) et Tejash Kumbhare dans la demande d’extraction [26365](https://github.com/magento/magento2/pull/26365)_}. [GitHub-26364](https://github.com/magento/magento2/issues/26364)

<!-- ENGCOM-6607-->

* L’étiquette **Trier par** ne chevauche plus le bouton **Shop By** sur la page de catégorie dans la vue mobile. _Correctif envoyé par Andrii Kartavtsev dans la demande [de tirage 26381](https://github.com/magento/magento2/pull/26381)_. [GitHub-25300](https://github.com/magento/magento2/issues/25300)

<!-- ENGCOM-7137-->

* Vous pouvez désormais mettre à jour la valeur de l’exemple d’un produit téléchargeable et le titre du lien en activant la case Utiliser la  **valeur par défaut** . _Correctif envoyé par Abel Truong dans la demande [de tirage 27295](https://github.com/magento/magento2/pull/27295)_. [GitHub-27169](https://github.com/magento/magento2/issues/27169)

<!-- ENGCOM-6532-->

* Correction de l’espacement entre le bouton Mettre à jour **et** le **champ Qté** sur le mini-panier.  _Correctif soumis par Hitesh dans la demande d&#39;extraction [26234](https://github.com/magento/magento2/pull/26234)_. [GitHub-26227](https://github.com/magento/magento2/issues/26227)

<!-- ENGCOM-7032-->

* La couleur de bordure inférieure du tableau Entrées d’adresses supplémentaires de la page Carnet d’adresses correspond désormais à `thead` la couleur de bordure et `tbody` . _Correctif envoyé par Tejash Kumbhare dans la demande [de tirage 26649](https://github.com/magento/magento2/pull/26649)_. [GitHub-26648](https://github.com/magento/magento2/issues/26648)

<!-- ENGCOM-7195-->

* Les modèles d’invite n’exécutent plus d’action de confirmation lorsqu’un utilisateur clique sur la superposition modale. _Correctif soumis par Serhiy Zhovnir dans la demande d’extraction [27399](https://github.com/magento/magento2/pull/27399)_.

### URL

<!-- ENGCOM-7112-->

* Le référentiel de catégories (méthode d’enregistrement) a été refactorisé, ce qui vous empêchait auparavant de créer des chemins d’accès uniques lors de la modification d’une clé d’URL de catégorie. _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27304](https://github.com/magento/magento2/pull/27304)_. [GitHub-14080](https://github.com/magento/magento2/issues/14080)

<!-- ENGCOM-7208-->

* La validation de la logique de clé d’URL de catégorie a été améliorée. _Correctif soumis par Sergiy Vasiutynskyi dans la demande d&#39;extraction [27412](https://github.com/magento/magento2/pull/27412)_. [GitHub-13689](https://github.com/magento/magento2/issues/13689)

### URL rewrites

<!-- MC-31147-->

* Les clients qui changent de langue sur une page CMS peuvent désormais accéder avec succès à la vue de magasin qu’ils ont sélectionnée. Auparavant, l’application affichait une erreur 404.

<!-- ENGCOM-6997-->

* La génération de réécriture d’URL pour les URL de produits pour lesquelles vous avez activé l’inclusion de chemin d’accès à la catégorie fonctionne désormais comme prévu. Auparavant, dans les déploiements avec plusieurs vues de magasin, l’application générait parfois des réécritures d’URL incorrectes en utilisant la valeur par défaut du chemin d’URL de catégorie au lieu du chemin d’URL spécifique à storeview. _Correctif envoyé par Pieter Hoste dans la demande [de tirage 26784](https://github.com/magento/magento2/pull/26784)_. [GitHub-25124](https://github.com/magento/magento2/issues/25124), [GitHub-11616](https://github.com/magento/magento2/issues/11616)

<!-- ENGCOM-6995-->

* Nous avons ajouté une vérification pour empêcher les redirections d’URL si le chemin de requête est identique au chemin cible. _Correctif envoyé par Bartomiej Szubert dans la demande [de tirage 26902](https://github.com/magento/magento2/pull/26902)_. [GitHub-20309](https://github.com/magento/magento2/issues/20309)

<!-- ENGCOM-6303-->

* Les opérations de réécriture d’URL ne suppriment plus une chaîne de requête d’une URL lorsque celle-ci comporte une barre oblique.  _Correctif soumis par Alexey Arendarenko dans la demande d’extraction [25603](https://github.com/magento/magento2/pull/25603)_. [GitHub-18717](https://github.com/magento/magento2/issues/18717)

### TVA

<!-- ENGCOM-7458-->

* Correction de l’URL de validation de la TVA pour les [numéros de cuve de l’UE](https://ec.europa.eu/taxation_customs/vies/checkVatService.wsdl).  _Correctif soumis par Shikha Mishra dans la demande d&#39;extraction [27886](https://github.com/magento/magento2/pull/27886)_. [GitHub-27874](https://github.com/magento/magento2/issues/27874)

### Structure de l’API web

<!-- MC-29891-->

* Correction de problèmes liés aux appels `/rest/default/async/bulk/V1/orders` du POST.

<!-- MC-30675-->

* Correction de problèmes liés aux appels `/rest/default/async/bulk/V1/products` du POST.

<!-- ENGCOM-6945-->

* La méthode `getList` a été restructurée pour récupérer l’attribut d’extension `is_subscribed`. Auparavant, vous ne pouviez pas récupérer cet attribut lors de la récupération d’une entité client via l’API. _Correctif soumis par enriquei4 dans la demande d’extraction [25311](https://github.com/magento/magento2/pull/25311)_. [GitHub-13252](https://github.com/magento/magento2/issues/13252)

<!-- ENGCOM-6500-->

* La mise à jour des informations sur les clients via `/V1/customers/:id` ne réinitialise plus inutilement le `group_id`. Auparavant, lorsque vous mettiez à jour un client via REST, le groupe de clients était remplacé par 1 si le corps ne contenait pas de groupe de clients. _Correctif soumis par MaxRomanov4669 dans la demande d’extraction [25958](https://github.com/magento/magento2/pull/25958)_. [GitHub-14663](https://github.com/magento/magento2/issues/14663)

<!-- ENGCOM-6920-->

* Les accesseurs Get Nullables dans les contrats de service ne génèrent plus d’erreurs de réflexion lorsqu’ils sont utilisés dans l’API web. Les méthodes qui peuvent renvoyer une valeur nulle et un type valide fonctionnent désormais correctement, quel que soit l’ordre.  _Correctif soumis par Marco K̦ pcke dans la demande d&#39;extraction [25806](https://github.com/magento/magento2/pull/25806)_. [GitHub-25656](https://github.com/magento/magento2/issues/25656)

<!-- ENGCOM-7075-->

* Vous pouvez désormais utiliser POST `/V1/guest-carts/:cartId/items` pour ajouter des produits à un panier spécifique. Auparavant, lorsque vous utilisiez cet appel, l’application ignorait la valeur de `cartId`. _Correctif soumis par Vadim Malesh dans la demande d&#39;extraction [27172](https://github.com/magento/magento2/pull/27172)_. [GitHub-14086](https://github.com/magento/magento2/issues/14086)

<!-- ENGCOM-7102-->

* Vous pouvez désormais utiliser le point de terminaison `PUT /V1/cmsPage/:id` pour enregistrer le titre d’une page CMS sans modifier les valeurs des autres champs. _Correctif soumis par Vadim Malesh dans la demande d&#39;extraction [27237](https://github.com/magento/magento2/pull/27237)_. [GitHub-24704](https://github.com/magento/magento2/issues/24704)

<!-- ENGCOM-7011-->

* La pagination des résultats des requêtes REST est désormais exacte. Auparavant, lorsque vous demandiez des résultats à partir d’une page spécifique (par exemple, `page_size` = 1 et une valeur `current_page` hors portée), l’appel renvoyait la dernière page de résultats répétée plutôt qu’un message informatif .  _Correctif soumis par Lukasz Bajsarowicz dans la demande d&#39;extraction [26988](https://github.com/magento/magento2/pull/26988)_. [GitHub-26986](https://github.com/magento/magento2/issues/26986), [GitHub-8099](https://github.com/magento/magento2/issues/8099)

<!-- ENGCOM-6540-->

* Le résultat de l’GET `/V1/orders/items/{id}` inclut désormais un élément d’attribut d’extension qui inclut les données de message cadeau. _Correctif envoyé par Laura Folco dans la demande [de tirage 25946](https://github.com/magento/magento2/pull/25946)_. [GitHub-19093](https://github.com/magento/magento2/issues/19093)

### Liste de souhaits

<!-- MC-29988-->

* Une liste de souhaits fonctionne désormais comme prévu lorsqu’elle est activée au niveau de l’affichage du magasin et désactivée au niveau global. Auparavant, lorsque ces paramètres étaient en place, l’ajout d’un produit à une liste de souhaits entraînait une erreur 404.

<!-- ENGCOM-6518-->

* Nous avons amélioré le message d’erreur qui s’affiche lorsqu’un client tente de partager sa liste de souhaits avec plus d’adresses e-mail que ce qui est autorisé.  _Correctif envoyé par divyajyothi5321 dans la demande [de tirage 26066](https://github.com/magento/magento2/pull/26066)_. [GitHub-26064](https://github.com/magento/magento2/issues/26064)

<!-- ENGCOM-6723-->

* L’application affiche désormais la page Ma liste de souhaits comme prévu dans les affichages avec une résolution supérieure à 768 px et inférieure à 1 023 px. _Correctif envoyé par Hitesh dans la demande [d’extraction 26546](https://github.com/magento/magento2/pull/26546)_. [GitHub-26543](https://github.com/magento/magento2/issues/26543)

<!-- ENGCOM-7062-->

* L’e-mail généré lorsque vous cliquez sur **Partager la liste** de souhaits affiche désormais les mêmes images de produits que la page Liste de souhaits. _Correctif envoyé par Michael Bottens dans la demande d’extraction [27125](https://github.com/magento/magento2/pull/27125). [GitHub-27124](https://github.com/magento/magento2/issues/27124)_

<!-- ENGCOM-6602-->

* Les clients peuvent désormais ajouter à une liste de souhaits à la fois un produit simple qui fait partie d’un produit groupé et le même produit simple avec une quantité différente.  _Correctif envoyé par MaxRomanov4669 dans la demande [de tirage 26258](https://github.com/magento/magento2/pull/26258)_. [GitHub-11209](https://github.com/magento/magento2/issues/11209)

### WYSIWYG

<!-- ENGCOM-6275-->

* Le téléchargeur d’images WYSIWYG utilise désormais `pub/media/wysiwyg` comme racine de stockage. Auparavant, le fichier téléchargé utilisait `pub/media` comme racine de stockage, ce qui rendait ces images téléchargées inaccessibles après des modifications récentes du code du téléchargeur d’images. _Correctif soumis par Pieter Hoste dans la demande d’extraction [24878](https://github.com/magento/magento2/pull/24878)_. [GitHub-22609](https://github.com/magento/magento2/issues/22609)

<!-- ENGCOM-7045-->

* TinyMCE4 sur le navigateur Chrome gère désormais les caractères codés sur deux octets comme prévu. Auparavant, TinyMCE4 ne pouvait pas gérer correctement les caractères à deux octets (comme utilisé en chinois) sur Chrome. _Correctif soumis par Hirokazu Nishi dans la demande d&#39;extraction [25454](https://github.com/magento/magento2/pull/25454)_. [GitHub-24637](https://github.com/magento/magento2/issues/24637)

## Problèmes connus — Général

**Problème** : les anomalies dans les messages d’erreur storefront se produisent dans les déploiements où PHP 7.4.2 est installé. Lorsque la version 2.4.0 est déployée avec PHP 7.4.2, les symboles d’espace dans les messages d’erreur storefront sont remplacés par des caractères plus (+).  Ce bogue est natif de PHP 7.4.2 et ne peut pas être corrigé par Magento Open Source. **Solution** : Nous vous recommandons d’utiliser d’autres versions de PHP 7.4.x. Reportez-vous à l’article [Affichage brut des données de message sur le storefront](https://support.magento.com/hc/en-us/articles/360045804332) de la base de connaissances. <!-- MC-34170-->

**Problème** : les vendeurs ne peuvent pas ajouter de produits commandés à un module à partir de la page Admin Créer un module et enregistrer le module. Voir l’article [Création d’étiquettes d’expédition](https://support.magento.com/hc/en-us/articles/360046750171) de la base de connaissances. Le correctif **MC-35514-2.4.0-CE-compositeur.patch** pour ce problème est désormais disponible à partir des [versions](https://magento.com/tech-resources/download). <!-- MC-35514-->

**Problème** : l’application affiche ce message d’erreur lors de l’installation avec des extensions tierces qui ont des dépendances sur les API pour le module `Store` dans les commandes de l’interface de ligne de commande : `The default website isn't defined. Set the website and try again`. **Solution** : supprimez les dépendances des extensions tierces du compositeur, installez le Magento, puis installez les extensions tierces.

**Problème** : le bouton **Ajouter des sélections à mon panier** situé au bas du panier ne fonctionne pas. **Solution de contournement** : utilisez le bouton **Ajouter des sélections à mon panier** en haut de la page. Voir [Le bouton Ajouter des sélections à mon panier ne fonctionne pas](https://support.magento.com/hc/en-us/articles/360045838312) article de la base de connaissances. <!-- MC-35313-->

**Problème** : les vendeurs ne peuvent pas créer de commande à partir de l’administrateur car les instances **Ajouter des produits par SKU** et **Ajouter des produits**  Les boutons ne figurent pas dans la page de création de commande lorsque le regroupement JavaScript est activé.  **Solution** : désactivez le regroupement JavaScript pour votre déploiement. <!-- MC-36044-->

**Problème** : l’application est une erreur `404 not found` lorsqu’un client tente de supprimer des points de récompense lors de l’extraction d’une commande envoyée à plusieurs adresses. <!-- MC-35955-->

**Problème** : la modification d’un produit configurable à partir de la liste de souhaits d’un client entraîne un comportement inattendu : un champ inattendu s’affiche sur la page Configurer le produit et la page Configurer le produit ne disparaît pas après avoir cliqué sur **OK**. L’application affiche également ce message : `Please load Wish List item`. **Solution** : rechargez la page Configurer le produit . <!-- MC-35617-->

**Problème** : les clients ne peuvent pas modifier le nombre de commandes affichées par page lorsque la liste Commandes s’étend sur plusieurs pages. Actuellement, l’application affiche ce message lorsque vous accédez à la dernière page des commandes et essayez de modifier le nombre de commandes affichées par page : `You have placed no orders`. Voir l’article [Erreur d’affichage des commandes](https://support.magento.com/hc/en-us/articles/360046802271) de la base de connaissances.  **Solution** : la réouverture de la page Mes commandes entraînera l’affichage de la liste Commandes. <!-- MC-34153-->

**Problème** : cliquer directement sur le bouton **Exporter les taux de taxe** de la page Ajouter une nouvelle règle fiscale (**Magasins** > **Règles fiscales**) ne télécharge pas le fichier `tax_rates.csv` comme prévu. **Solution** : cliquez sur le bord du bouton **Exporter les taux de taxe** .  Voir l’article [Exporter les taux d’imposition ne fonctionne pas](https://support.magento.com/hc/en-us/articles/360045850032) de la base de connaissances. <!-- MC-35345-->

**Problème** : les boutons **Actualiser** des sections Derniers éléments triés, Produits dans la liste de comparaison et Produits récemment comparés de la page Admin Activités clients ne fonctionnent pas comme prévu. Actuellement, l’application fait défiler la page chaque fois que l’utilisateur clique sur le bouton **Actualiser** et n’affiche pas le nom du produit. Voir l’article [Actualiser les activités du client ne fonctionne pas](https://magento.zendesk.com/hc/en-us/articles/360046091332) de la base de connaissances. <!-- MC-35296-->

## Problèmes connus — VBE

### Amazon Pay

* **Problème** : les méthodes de paiement sont manquantes dans le workflow de passage en caisse lorsqu’un client clique sur **Revenir à la caisse standard** lors de l’extraction avec paiement Amazon. **Solution** : actualisez la page de passage en caisse pour afficher les méthodes manquantes.  <!-- BUNDLE-2661-->

* **Problème** : l’application affiche deux méthodes de paiement Amazon identiques dans la liste déroulante Mode de paiement disponible lors de la création d’une règle de prix du panier.  <!-- BUNDLE-2685-->

### Braintree

* **Problème** : l’application affiche une erreur lorsqu’un administrateur tente d’accéder à la page Rapport de règlement du Braintree (**Admin** > **Rapports** ). Actuellement, l’application affiche ce message : `An error has happened during application run. See exception log for details`. Voir l’article [Échec du chargement du rapport de règlement du Braintree](https://support.magento.com/hc/en-us/articles/360046798251) de la base de connaissances. Le correctif **BUNDLE-2683_AgreementReport.patch** pour ce problème est désormais disponible à partir des [versions](https://magento.com/tech-resources/download). <!-- BUNDLE-2683-->

* **Problème** : les marchands ne peuvent pas créer de factures partielles pour les commandes dans les déploiements où Venmo est activé et le paramètre **Activer Vault pour les paiements par carte** est désactivé. Actuellement, l’application affiche cette erreur : `The "vault_capture" command doesn't exist. Verify the command and try again`. <!-- BUNDLE-2647-->

* **Problème** : l’application affiche deux méthodes PayPal identiques dans la liste déroulante Mode de paiement disponible lors de la création d’une règle de prix du panier.   <!-- BUNDLE-2686-->

* **Problème** : l’application peut être une erreur lors de l’ouverture de **Sales** > **Braintree Virtual Terminal**. Bien que le formulaire contienne des éléments d’IU corrompus, il accepte toujours les paiements. **** Solution : Enregistrez les informations d’identification Braintree correctes, ce qui résoudra les champs d’entrée réduits. Consultez [Braintree page de la base de connaissances sur le terminal virtuel est endommagée](https://support.magento.com/hc/en-us/articles/360046800071)  . Le **correctif BUNDLE-2670_VirtualTerminal.patch** pour ce problème est désormais disponible à partir des [versions](https://magento.com/tech-resources/download). <!-- BUNDLE-2670-->

* **Problème** : l’application affiche un message d’erreur dans les pays suivants lorsqu’un client sélectionne un mode de paiement local lors du passage en caisse : Belgique, Pays-Bas, Italie, Espagne et Pologne.  **Solution** : ignorez le message d’erreur et continuez le paiement.

### Klarna

* **Problème** : laisser le champ **Thème de conception** vide dans la messagerie Klarna On-Site (**Admin** > **Magasins** > **Configuration** > **Paramètres Klarna**) donne une page vierge.  **Solution** : sélectionnez un thème de conception et enregistrez.  <!-- BUNDLE-2623-->

### Sommet

* **Problème** : l’application affiche un  **bouton de vérification** de l’adresse dans la section d’expédition du flux de paiement même lorsque la validation de l’adresse est désactivée. Le validateur d’adresses ne vérifie pas à nouveau l’adresse mise à jour et continue d’afficher un message indiquant que l’adresse n’est pas valide lorsqu’un client saisit une adresse correcte après avoir entré une adresse incorrecte, même lorsque la validation de l’adresse est activée. **Solution :** désactivez la validation des adresses vertex. <!-- BUNDLE-2604-->

## Contributions communautaires

Nous sommes reconnaissants envers l’ensemble de la communauté Magento Open Source et tenons à remercier leurs contributions à cette version. Découvrez comment vous pouvez en savoir plus sur les contributions de la communauté à nos versions actuelles :

* Si un membre de la communauté a fourni un correctif pour cette version, nous identifions le correctif dans la section Problème résolu de ces notes avec l’expression &quot;*Correctif fourni par le membre de la communauté @member_name*&quot;.

* L’équipe d’ingénierie de communauté [contributeurs Magento](https://magento.biterg.io/app/kibana) conserve une liste des principaux contributeurs et partenaires par mois, trimestre et année. Sur cette page Contributeurs, vous pouvez suivre les liens vers leurs relations publiques fusionnées sur GitHub.

### Contributions des partenaires

Le tableau suivant présente les contributions des partenaires. Ce tableau répertorie le partenaire qui a contribué à la demande d’extraction, la demande d’extraction externe et le numéro de problème GitHub qui lui est associé (le cas échéant).

{{$include /help/_includes/release-notes/engcomm-2-4-0-partner.md}}

### Contributions des contributeurs individuels

Le tableau suivant répertorie les contributions des membres de notre communauté. Ce tableau répertorie les demandes d’extraction externes, le numéro de problème GitHub qui y est associé (le cas échéant) et le membre de la communauté qui a contribué à la demande d’extraction.

{{$include /help/_includes/release-notes/engcomm-2-4-0-issues.md}}

### Configuration requise

Notre pile de technologie est basée sur PHP et MySQL. Pour plus d’informations, voir [Configuration requise](../../../installation/system-requirements.md).

### Instructions d’installation et de mise à niveau

Vous pouvez installer Magento Open Source 2.4.0 à l’aide du compositeur.

## Kits d’outils de migration

L’outil de migration des données permet de transférer les données de magasin Magento 1.x existantes vers Magento 2.x. Cette interface de ligne de commande comprend des fonctions de vérification, de suivi de progression, de journalisation et de test. Pour obtenir des instructions sur l’installation, voir [Installation de l’outil de migration de données](../../../tools/data-migration-tool/install.md). Envisagez d’explorer le [référentiel de migration de données](https://github.com/magento/data-migration-tool) ou d’y contribuer.

La [boîte à outils de migration de code](https://github.com/magento/code-migration) permet de transférer les extensions et personnalisations de magasin Magento 1.x existantes vers Magento 2.x. L’interface de ligne de commande comprend des scripts pour la conversion des modules et des mises en page Magento 1.x.
