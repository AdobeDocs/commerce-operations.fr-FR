---
title: Notes de mise à jour de Magento Open Source 2.4.1
description: Découvrez les nouvelles fonctionnalités, les améliorations, les correctifs et les problèmes connus de la version 2.4.1 de Magento Open Source.
recommendations: noCatalog
exl-id: 63d04bfc-96c9-4fe3-b3c1-252f1243459a
source-git-commit: 6896d31a202957d7354c3dd5eb6459eda426e8d7
workflow-type: tm+mt
source-wordcount: '13111'
ht-degree: 0%

---

# Notes de mise à jour de Magento Open Source 2.4.1

Magento Open Source 2.4.1 apporte des améliorations en termes de performances et de sécurité. Les améliorations de sécurité incluent la prise en charge de l’attribut `SameSite` pour les cookies et l’ajout de la protection CAPTCHA pour les points d’entrée d’API liés aux paiements et aux commandes, ainsi que la page de storefront Passer une commande .

Cette version comprend toutes les améliorations de la qualité de base incluses dans la version 2.4.0, plus de 150 nouveaux correctifs du code de base et plus de 15 améliorations de la sécurité. Il comprend la résolution de près de 300 problèmes GitHub par les membres de notre communauté. Ces contributions de la communauté vont du nettoyage mineur du code principal à des améliorations significatives dans GraphQL.

Tous les problèmes connus identifiés dans la version 2.4.0 ont été corrigés dans cette version.

{{bics}}

## Correctif de sécurité disponible

Les commerçants peuvent désormais installer des correctifs de sécurité sensibles au temps sans appliquer les centaines de correctifs et améliorations fonctionnels fournis par une version trimestrielle complète (par exemple, 2.4.0-p1). Le correctif 2.4.0.1 (package Compositeur 2.4.0-p1) est un correctif de sécurité qui fournit des correctifs pour les vulnérabilités qui ont été identifiées dans notre version trimestrielle précédente, la version 2.4.0. Tous les correctifs appliqués à la version 2.4.0 sont inclus dans ce correctif de sécurité. (Un *correctif* fournit un correctif à une version publiée qui résout un problème ou un bug spécifique.)

Pour obtenir des informations générales sur les correctifs de sécurité, voir [&#x200B; Présentation de la nouvelle version des correctifs de sécurité &#x200B;](https://community.magento.com/t5/Magento-DevBlog/Introducing-the-New-Security-Patch-Release/ba-p/141287). Pour obtenir des instructions sur le téléchargement et l’application de correctifs de sécurité (y compris le correctif 2.3.5-p2), consultez [Démarrage rapide de l’installation sur site](../../../installation/composer.md). Les correctifs de sécurité incluent uniquement des correctifs de sécurité, et non les améliorations de sécurité supplémentaires incluses dans le correctif complet.

## Appliquer AC-3022.patch pour continuer à offrir DHL comme transporteur

DHL a introduit la version 6.2 du schéma et abandonnera la version 6.0 dans un avenir proche. Adobe Commerce 2.4.4 et les versions antérieures qui prennent en charge l’intégration DHL ne prennent en charge que la version 6.0. Les commerçants qui déploient ces mainlevées devraient appliquer `AC-3022.patch` dès que possible pour continuer à offrir DHL en tant que transporteur. Pour plus d’informations sur le téléchargement et l’installation du correctif, consultez l’article de la base de connaissances [Appliquer un correctif pour continuer à proposer DHL en tant que transporteur](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier).

## Autres informations de mise à jour

Bien que le code de ces fonctionnalités soit fourni avec des versions trimestrielles , plusieurs de ces projets (par exemple, Progressive Web Applications (PWA) Studio) sont également publiés indépendamment. Les correctifs de bugs pour ces projets sont documentés dans les informations de mise à jour distinctes spécifiques au projet disponibles dans la documentation de chaque projet.

## Faits saillants

Recherchez les points forts suivants dans cette version.

### Améliorations substantielles de la sécurité

Cette version comprend plus de 15 correctifs de sécurité et améliorations de la sécurité de la plateforme. Tous les correctifs de sécurité ont été rétroportés dans 2.4.0-p1 et 2.3.6.

#### Plus de 15 améliorations de la sécurité qui permettent de corriger les vulnérabilités RCE (Remote Code Execution) et XSS (Cross-site scripting)

Aucune attaque confirmée liée à ces problèmes ne s’est produite à ce jour. Cependant, certaines vulnérabilités peuvent potentiellement être exploitées pour accéder aux informations sur les clients ou prendre le contrôle de sessions d’administration. La plupart de ces problèmes nécessitent qu’un attaquant obtienne d’abord l’accès à l’administrateur. Placer sur la liste autorisée Par conséquent, nous vous rappelons de prendre toutes les mesures nécessaires pour protéger votre administrateur, y compris, mais sans s&#39;y limiter, ces efforts : la limitation des adresses IP, l&#39;[authentification à deux facteurs](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/), l&#39;utilisation d&#39;un VPN, l&#39;utilisation d&#39;un emplacement unique plutôt que d&#39;un `/admin`, et une bonne hygiène des mots de passe. Consultez [Mises à jour de sécurité disponibles pour Magento](https://helpx.adobe.com/fr/security/products/magento/apsb20-59.html) pour une discussion sur ces problèmes résolus.

#### Améliorations de la sécurité supplémentaires

Les améliorations apportées à la sécurité dans cette version sont les suivantes :

* La protection **CAPTCHA** a été ajoutée aux zones de produit suivantes :

   * Passer commande de la page de storefront et des points d’entrée REST et GraphQL <!-- MC-36067-->
   * Points d’entrée REST et GraphQL liés aux paiements.<!-- MC-36064-->

  La protection CAPTCHA pour ces pages supplémentaires est désactivée par défaut. Il peut être activé sur l’administrateur de la même manière que les autres pages couvertes par CAPTCHA. Cette protection a été ajoutée en tant que mécanisme anti-force brute pour protéger les magasins contre les attaques par cartes. Voir [CAPTCHA](https://experienceleague.adobe.com/fr/docs/commerce-admin/systems/security/captcha/security-captcha).

* **Prise en charge de l’attribut SameSite pour les cookies**. Pour prendre en charge l’application Google Chrome du nouveau système de classification des cookies, les classes d’application qui gèrent les cookies ont été mises à jour afin de prendre en charge l’attribut de cookie `SameSite`. Cet attribut est défini sur `Lax` par défaut, mais peut être remplacé explicitement. <!-- MC-35389-->

* **Outil d’analyse de sécurité amélioré**. Adobe s’est associé à [Sanguine Security](https://sansec.io/), un leader dans la prévention de l’écrémage numérique, pour intégrer sa base de données de plus de 8 700 signatures de menaces à l’outil d’analyse de sécurité. Ce partenariat permettra aux commerçants d&#39;obtenir des renseignements en temps réel sur l&#39;état de la sécurité de leur site grâce à la détection proactive des logiciels malveillants et à la réduction des faux positifs. Les commerçants peuvent s&#39;inscrire à l&#39;outil en visitant https://account.magento.com/scanner. Pour plus d’informations, consultez l’article de blog [Sécuriser votre storefront avec l’outil d’analyse de sécurité renforcée](https://magento.com/blog/magento-news/secure-your-storefront-enhanced-magento-security-scan-tool).

{{cve-notice}}

### Améliorations de l’infrastructure

Cette version comprend des améliorations de la qualité principale, qui améliorent la qualité du framework et ces domaines fonctionnels : compte client, catalogue, CMS, OMS, import/export, promotions et ciblage, panier et passage en caisse, évaluation et prévisualisation.

### Améliorations des performances

* **Réduction de la taille des transferts réseau entre Redis et Magento**. La configuration de la liste de plug-ins est maintenant générée lors de l’exécution de la commande `bin/magento di:compile`. Ces informations de configuration sont écrites dans des dossiers de métadonnées générés en fonction de la portée. Auparavant, ces informations étaient stockées dans le cache. Les améliorations de performances qui en résultent incluent une diminution de la taille du cache réseau et du temps d’exécution pour de nombreux scénarios.<!-- MC-31617-->

* **Amélioration des performances des clients de file d’attente de messages**. Trois nouveaux paramètres de configuration prennent en charge une diminution de la consommation de CPU des files d’attente des consommateurs. Ces paramètres facultatifs permettent de mieux contrôler les consommateurs et d’économiser les ressources du serveur. Voir [Configurer des files d’attente de messages](https://developer.adobe.com/commerce/php/development/components/message-queues/configuration/) pour une description des paramètres `maxIdleTime`, `sleep` et `onlySpawnWhenMessageAvailable`.

* **Amélioration du temps d’exécution** pour les commandes `bin/magento`.

### Intégration d’Adobe Stock

Cette version comprend l’intégration d’Adobe Stock v2.1.0.

### Galerie de nouveaux médias

La Galerie de nouveaux médias est désormais activée par défaut dans l’Administration. Les commerçants peuvent désormais effectuer ces actions sur les images dans la Galerie de médias :

* Suppression d’images en bloc
* Optimisez le stockage multimédia en identifiant les images en double et les images qui ne sont pas utilisées sur le storefront
* Filtrer les images selon la zone du storefront dans laquelle elles sont utilisées, y compris le contenu des produits et des catégories et les blocs CMS
* Utilisation des métadonnées d’image
   * Afficher les métadonnées des images chargées dans la Galerie de médias
   * Modification des métadonnées des images (titre, description et mots-clés)
   * Recherche d’images en fonction de leurs métadonnées

### GraphQL

Cette version ajoute une couverture GraphQL pour les fonctionnalités suivantes :

* **Avis sur les produits**. Les clients et les invités peuvent écrire des critiques de produits. Les clients peuvent récupérer leurs historiques d’examen des produits. Voir [Création d’une révision de produit](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/create-review/) et [requête productReviewRatingsMetadata](https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/product-review-ratings-metadata/) pour plus d’informations sur la récupération des informations sur l’infrastructure des révisions.<!-- MC-32349-->

* **Options de cadeau**. Tous les clients et invités peuvent ajouter un message cadeau à leur commande. Les clients peuvent également ajouter des emballages-cadeaux, des reçus-cadeaux et des cartes imprimées à la commande. Voir [`setGiftOptionsOnCart` mutation](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/set-gift-options/) et [`updateCartItems` mutation &#x200B;](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/update-items/)<!-- MC-32345-->

* **Historique des commandes**. Tous les clients peuvent consulter les détails de leur historique de commandes, notamment les factures, l’expédition et les remboursements.<!-- MC-20635-->

* **Ajouter au panier**. La mutation [`addProductsToCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/add-products/) vous permet d’ajouter n’importe quel type de produit au panier actif. Nous recommandons d’utiliser cette mutation au lieu de mutations à usage unique telles que `addSimpleProductsToCart`. _Correctif soumis par Yaroslav Rogoza dans la demande de tirage [27914](https://github.com/magento/magento2/pull/27914)_. [GitHub-28524](https://github.com/magento/magento2/issues/28524) <!-- MC-21513-->

* **Modes de paiement stockés**. Les clients connectés peuvent désormais stocker les informations de paiement (y compris la carte de crédit Braintree et Braintree avec PayPal) dans Mon compte.

* **Prise en charge des listes de souhaits dans Magento Open Source**. Vous pouvez [ajouter des éléments](https://developer.adobe.com/commerce/webapi/graphql/schema/wishlist/mutations/add-products/), [mettre à jour des éléments](https://developer.adobe.com/commerce/webapi/graphql/schema/wishlist/mutations/update-products/) et [supprimer des éléments](https://developer.adobe.com/commerce/webapi/graphql/schema/wishlist/mutations/remove-products/) d’une liste de souhaits.

* **Gestion améliorée des comptes clients**. Nous avons ajouté les mutations [`createCustomerV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/create-v2/) et [`updateCustomerV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/update-v2/) pour gérer les comptes clients. Ces nouvelles mutations nécessitent des objets d’entrée différents des mutations `createCustomer` et `updateCustomer`. Pour modifier l’adresse e-mail d’un client, utilisez la nouvelle mutation [`updateCustomerEmail`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/update-email/).

* **Assistance pour Payflow Pro Vault**. Ajout de la prise en charge de GraphQL Vault pour le mode de paiement [Payflow Pro Vault](https://developer.adobe.com/commerce/webapi/graphql/payment-methods/payflow-pro-vault/). _Correctif soumis par Oleh Usik dans la demande de tirage [28821](https://github.com/magento/magento2/pull/28821)_. [GitHub-28520](https://github.com/magento/magento2/issues/28520)

* Mise à jour de la requête [`storeConfig` GraphQL](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) afin d’inclure de nouveaux paramètres de configuration client. _Correctif soumis par Oleh Usik dans la demande de tirage [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* Ajout de la mutation [`requestPasswordResetEmail`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/request-password-reset-email/), qui déclenche l’e-mail de réinitialisation du mot de passe pour l’adresse e-mail fournie. _Correctif soumis par Oleh Usik dans la demande de tirage [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* **Klarna GraphQL**. Ajout ou mise à jour de rubriques sur Klarna GraphQL dans [le mode de paiement de Klarna](https://developer.adobe.com/commerce/webapi/graphql/payment-methods/klarna/) et [`createKlarnaPaymentsSession`](https://developer.adobe.com/commerce/webapi/graphql/schema/checkout/mutations/create-klarna-payments-session/)

Consultez le [Guide du développeur de GraphQL](https://developer.adobe.com/commerce/webapi/graphql/) pour plus d’informations sur ces améliorations.

### PWA Studio

PWA Studio v8.0.0 introduit de nouvelles fonctionnalités et améliorations :

* Mises à jour du guide de style Venia qui s’appliquent aux jetons de conception, à la typographie, aux couleurs, aux composants principaux et aux mises en page. <!-- PWA-519 419-->

* Améliorations de l’expérience de mini-panier Venia <!-- PWA-236-->

* Prise en charge initiale de plusieurs paramètres régionaux et du contenu localisé sur le storefront Venia <!-- PWA-295-->

* De nombreuses améliorations ont été apportées à l’expérience Mon compte du storefront Venia <!-- PWA-247-->

Consultez [compatibilité](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) pour obtenir la liste des versions de PWA Studio et de leurs versions compatibles. Pour plus d’informations sur les améliorations et les correctifs, voir [Versions de PWA Studio](https://github.com/magento/pwa-studio/releases).

### Functional Testing Framework (MFTF)

MFTF 3.1.0 est désormais disponible. Voir [&#x200B; Journal des modifications du framework de tests fonctionnels &#x200B;](https://github.com/magento/magento2-functional-testing-framework/blob/develop/CHANGELOG.md).

### Extensions développées par le fournisseur

Consultez les articles suivants pour obtenir des mises à jour sur les fonctionnalités et les modifications de cette version :

* [Amazon Pay](https://commercemarketplace.adobe.com//amzn-amazon-pay-magento-2-module.html)

* [Braintree](https://experienceleague.adobe.com/docs/commerce-admin/stores-sales/payments/braintree.html?lang=fr)

* [dotdigital Engagement Cloud](https://commercemarketplace.adobe.com//dotdigital-dotdigital-magento2-os-package.html)

* [Klarna &#x200B;](https://commercemarketplace.adobe.com//klarna-m2-klarna.html)

* [Nuage de sommets](https://commercemarketplace.adobe.com//vertexinc-vertex-tax-module.html)

* [Avis sur Yotpo](https://commercemarketplace.adobe.com//yotpo-module-yotpo.html)

## Problèmes résolus

Nous avons corrigé des centaines de problèmes dans le code principal 2.4.1.

### Installation, mise à niveau, déploiement

<!-- MC-36113-->

* L’installation avec des extensions tierces ayant des dépendances sur les API pour le module Store dans les commandes CLI n’échoue plus. Auparavant, l’application affichait le message d’erreur suivant : `The default website isn't defined. Set the website and try again`. Il s’agissait d’un problème connu dans la version 2.4.0.

<!-- MC-33273-->

* `bin/magento setup:di:compile` ne renvoie plus d’erreur fatale. Auparavant, l’application générait une erreur la première fois que vous exécutiez cette commande, mais la deuxième exécution entraînait la réussite de la compilation.

<!-- MC-34429-->

* La mise à niveau n’échoue plus lorsqu’un plug-in est déclaré sur `Magento\Framework\Encryption\Encryptor`.

<!-- MC-36231-->

* L’application affiche désormais un message d’erreur informatif lorsque certains thèmes ne sont pas déployés après l’exécution de `bin/magento setup:static-content:deploy`. Auparavant, lorsque le déploiement se terminait correctement mais que tous les packages n’étaient pas déployés, l’application n’affichait pas d’erreur. Lorsque la commande est exécutée avec le traitement parallèle activé et que le déploiement de chaque thème nécessite plus de temps que la durée d’exécution maximale spécifiée, cette commande peut se terminer correctement, bien que les thèmes ne soient pas déployés.

<!-- MC-35001-->

* La case **Utiliser par défaut** pour les paiements Klarna (**Magasins** > **Configuration** > **Ventes** > **Modes de paiement** > **Klarna**) reste cochée comme prévu lorsque l’étendue du site web change.

<!-- MC-33788-->

* La mise à niveau n’entraîne plus la défaillance soudaine du cluster Galera. Auparavant, le cluster Galera s’était brusquement arrêté après la réindexation immédiatement après la mise à niveau. Lors d’une mise à niveau, les tables d’index sont modifiées et le moteur passe de `MEMORY` à `InnoDB`. À ce stade, le contenu de ces tableaux n’était plus synchronisé entre les nœuds du cluster Galera. [GitHub-25334](https://github.com/magento/magento2/issues/25334)

<!-- MC-34254-->

* La désactivation du module PageBuilder n’affecte plus le rendu de la page du produit. Auparavant, les mises en page personnalisées sur la page produit disparaissaient lorsque le module était désactivé et l’application affichait une page vierge.

<!-- ENGCOM-7219-->

* Vous pouvez désormais utiliser `bin/magento sampledata:deploy` pour déployer des exemples de données comme prévu après l’installation de Magento Open Source à l’aide du compositeur. Auparavant, l’application générait cette erreur : `Git installations must deploy sample data from GitHub; see [Clone sample data Git repositories](../../../installation/sample-data/git-repositories.md) for more information`. _Correctif soumis par Andrii Beziazychnyi dans la demande de tirage [27481](https://github.com/magento/magento2/pull/27481)_. [GitHub-19481](https://github.com/magento/magento2/issues/19481)

<!-- ENGCOM-7459-->

* Les performances du storefront ont été améliorées en éliminant le chargement inutile du composant `Datepicker`. _Correctif soumis par Mateusz Krzeszowiak dans la demande de tirage [27860](https://github.com/magento/magento2/pull/27860)_. [GitHub-28823](https://github.com/magento/magento2/issues/28823)

<!-- ENGCOM-7265-->

* L’exécution de `bin/magento setup:upgrade` n’affiche plus d’informations superflues sur les caches. _Correctif soumis par Sathish Subramanian dans la demande de tirage [27567](https://github.com/magento/magento2/pull/27567)_. [GitHub-27091](https://github.com/magento/magento2/issues/27091)

<!-- MC-17959 ENGCOM-7629-->

* L’exécution de `bin/magento config:show <vendor_module>/general/value` renvoie désormais `0` ou une chaîne vide comme prévu. Auparavant, elle renvoyait `Configuration for path: "vendor_module/general/value" doesn't exist`. _Correctif soumis par Vadim Malesh dans la demande de tirage [28549](https://github.com/magento/magento2/pull/28549)_. [GitHub-23290](https://github.com/magento/magento2/issues/23290)

<!-- ENGCOM-7853-->

* `bin/magento setup:static-content:deploy --language=all` déploie désormais toutes les langues utilisées sur le storefront et toutes les langues configurées par les utilisateurs administrateurs lorsqu’aucun paramètre de langue n’est défini. (`en_US` est toujours déployé par défaut.) _Correctif envoyé par Anton Evers dans la [28922](https://github.com/magento/magento2/pull/28922)_ de la demande de tirage. [GitHub-29218](https://github.com/magento/magento2/issues/29218)

<!-- ENGCOM-7883-->

* L’application n’affiche plus le menu Sauvegarde lorsque la fonction Sauvegarde est désactivée. _Correctif soumis par Eden Duong dans la demande de tirage [29222](https://github.com/magento/magento2/pull/29222)_. [GitHub-29280](https://github.com/magento/magento2/issues/29280)

<!-- ENGCOM-7987-->

* L’initialisation de l’assistant d’image de catalogue utilise désormais le modèle de produit au lieu de `DataObject`. _Correctif envoyé par jmonteros422 dans la demande de tirage [29435](https://github.com/magento/magento2/pull/29435)_. [GitHub-1711](https://github.com/magento/adobe-stock-integration/issues/1711)

<!-- MC-37226-->

* Les utilisateurs administrateurs peuvent désormais enregistrer un champ **Durée de vie du jeton client (heures)** vide (Admin **Magasins** > **Configurations** > **Services** > **OAuth** > **Expiration du jeton d’accès**). [GitHub-29502](https://github.com/magento/magento2/issues/29502)

<!-- ENGCOM-7724 -->

* Le paramètre **Créer une redirection permanente pour l’ancienne URL** est désormais désactivé par défaut pour les catégories. _Correctif soumis par Vadim Malesh dans la demande de tirage [28752](https://github.com/magento/magento2/pull/28752)_. [GitHub-24922](https://github.com/magento/magento2/issues/24922)

### Intégration d’Adobe Stock

<!-- ENGCOM-7776-->

* Les images de la grille d’images d’Adobe Stock sont désormais correctement alignées une fois les filtres effacés. _Correctif soumis par Nazar Klovanych dans la demande de tirage [28366](https://github.com/magento/magento2/pull/28366)_. [GitHub-824](https://github.com/magento/adobe-stock-integration/issues/824), [GitHub-972](https://github.com/magento/adobe-stock-integration/issues/972)

<!-- ENGCOM-7709 -->

* Le champ **Utilisé dans** de la page des détails de l’image de la galerie Adobe Stock identifie désormais avec précision si l’image est associée à un produit. _Correctif soumis par Nazar Klovanych dans la demande de tirage [28798](https://github.com/magento/magento2/pull/28798)_. [GitHub-1474](https://github.com/magento/adobe-stock-integration/issues/1474)

<!-- ENGCOM-7873 -->

* `\Magento\MediaGallery\Model\ResourceModel\Keyword\SaveAssetsKeywords::execute` supprime désormais les liens vers les mots-clés qui ne sont pas spécifiés dans les paramètres et insère les nouveaux liens lors de la suppression des balises de mots-clés lors de la modification des détails de l’image. _Correctif envoyé par jmonteros422 dans la demande de tirage [29207](https://github.com/magento/magento2/pull/29207)_. [GitHub-1391](https://github.com/magento/adobe-stock-integration/issues/1391)

<!-- ENGCOM-7981 -->

* Le message `Login failed` affiché par l’application lorsqu’un commerçant clique sur **Licence** pour une image Adobe Stock enregistrée précédemment sans licence ne contient plus de balises HTML. _Correctif soumis par yolouiese dans la demande de tirage [29398](https://github.com/magento/magento2/pull/29398)_. [GitHub-1684](https://github.com/magento/adobe-stock-integration/issues/1684)

<!-- ENGCOM-7976 -->

* Cliquez sur les liens de la section **Utilisé dans** de la page Détails de l’image pour afficher désormais une grille qui affiche toutes les entités filtrées par l’image. Le filtre de ressources est également défini et affiché correctement. Auparavant, l’application n’affichait pas le titre de la ressource dans la section **Filtres appliqués**. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1694](https://github.com/magento/adobe-stock-integration/issues/1694)

<!-- ENGCOM-7976 -->

* Lorsque l’image n’est pas utilisée **l’application n’affiche plus la section** Utilisé(e) dans de la page Détails de l’image. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1699](https://github.com/magento/adobe-stock-integration/issues/1699)

<!-- ENGCOM-7976 -->

* Correction des problèmes d’affichage lors de l’ajout d’une nouvelle balise d’image qui dépasse le nombre maximal de caractères. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1702](https://github.com/magento/adobe-stock-integration/issues/1702)

<!-- ENGCOM-7976 -->

* Assets peut désormais être vérifié comme prévu à l’aide du filtre de ressources dans la section Détails de l’image **Utilisé dans**. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1704](https://github.com/magento/adobe-stock-integration/issues/1704)

<!-- ENGCOM-7976 -->

* Les informations sur les images utilisées par différentes entités (par exemple, `page` et `category`) sont désormais répertoriées et corrigées dans la page Détails de l’image. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29367](https://github.com/magento/magento2/pull/29367)_. [GitHub-1747](https://github.com/magento/adobe-stock-integration/issues/1747)

<!-- ENGCOM-8006-->

* L’application ne renvoie plus d’exception lorsqu’un commerçant tente d’enregistrer un produit avec son image associée lorsque la Galerie de médias est désactivée. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29492](https://github.com/magento/magento2/pull/29492)_. [GitHub-1750](https://github.com/magento/adobe-stock-integration/issues/1750)

<!-- ENGCOM-8019-->

* Cliquez sur les liens de la section Utilisé(e) dans pour une image dans la Galerie de médias pour ouvrir désormais la grille des entités qui sont filtrées par l’image comme prévu. Auparavant, le titre de l’image n’était pas affiché dans la section Filtres appliqués de la grille. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29429](https://github.com/magento/magento2/pull/29429)_. [GitHub-1694](https://github.com/magento/adobe-stock-integration/issues/1694)

<!-- ENGCOM-8019-->

* L’application ajoute désormais correctement les balises lorsque vous modifiez plusieurs images successivement dans la Galerie de médias. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29429](https://github.com/magento/magento2/pull/29429)_. [GitHub-1755](https://github.com/magento/adobe-stock-integration/issues/1755)

<!-- ENGCOM-8015-->

* L’application supprime désormais les balises des images Adobe Stock après qu’un commerçant les a supprimées et a enregistré les détails de l’image. Auparavant, les balises n’étaient pas supprimées tant que la page n’était pas actualisée. _Correctif soumis par Honeymay Louiese Ignacio dans la demande de tirage [29400](https://github.com/magento/magento2/pull/29400)_. [GitHub-1703](https://github.com/magento/adobe-stock-integration/issues/1703)

### Amazon Pay

* Amazon Pay vérifie maintenant si un utilisateur est déjà connecté avant de générer les options de paiement.

* Les problèmes liés à l’authentification multifacteur et aux paniers abandonnés ont été résolus.

* Amazon Pay renseigne désormais correctement les `store name` dans les e-mails et autres emplacements affichés.  Si le champ **Nom du magasin** dans la configuration Amazon Pay est vide, l’extension récupère le nom par défaut du magasin (c’est-à-dire le nom que vous donnez à votre magasin dans Admin).

* Les problèmes de localisation et de traduction des scénarios de refus ont été résolus. Le texte affiché n’est plus toujours en anglais.

### Lots de produits

<!-- MC-36281-->

* L’application ne renvoie plus d’exception lorsque vous essayez de créer un produit dans un déploiement dans lequel Inventory est installé, mais le module `Magento_InventoryBundleProduct` est désactivé.

<!-- MC-34261-->

* L’application calcule désormais correctement les remboursements hors ligne pour les commandes contenant des produits groupés.

<!-- MC-24363-->

* Le mini panier affiche désormais les prix corrects pour les produits groupés lorsque des prix de niveau sont également attribués pour les produits simples. [GitHub-22807](https://github.com/magento/magento2/issues/22807)

<!-- ENGCOM-7499-->

* Les commerçants peuvent désormais créer un avoir pour les produits groupés qui offre un remboursement sans exiger le retour du produit. Auparavant, l’application générait une erreur. _Correctif soumis par Dzung Nguyen dans la demande de tirage [27455](https://github.com/magento/magento2/pull/27455)_. [GitHub-23440](https://github.com/magento/magento2/issues/23440)

<!-- ENGCOM-7655-->

* L’application n’affiche plus de messages de validation redondants lorsqu’un acheteur ajoute un produit groupé à son panier sans sélectionner une option requise. _Correctif soumis par Dzung Nguyen dans la demande de tirage [27455](https://github.com/magento/magento2/pull/27455)_. [GitHub-23440](https://github.com/magento/magento2/issues/23440)

<!-- ENGCOM-7985 -->

_Correctif soumis par Michał Derlatka dans la demande de tirage [29256](https://github.com/magento/magento2/pull/29256)_. [GitHub-26110](https://github.com/magento/magento2/issues/26110)

### Cache

<!-- MC-36096-->

* L’espace de stockage du cache local est désormais conservé pendant la période définie dans **Magasins** > **Configuration** > **Général** > **Web** > **Paramètres des cookies par défaut**. Auparavant, la date d’expiration des cookies était codée en dur sur un jour, ce qui les désynchronisait de ce paramètre. Par conséquent, les messages de bienvenue n’ont pas conservé les informations des clients récurrents pendant la durée prévue.

<!-- ENGCOM-7780-->

* Le nombre d’appels au cache de page `config` a été réduit. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [28992](https://github.com/magento/magento2/pull/28992)_. [GitHub-29159](https://github.com/magento/magento2/issues/29159)

<!-- ENGCOM-7073-->

* Le vernis ne renvoie plus d’erreur `Connection reset by peer` lorsqu’un catalogue volumineux est réindexé selon le calendrier. _Correctif soumis par Matthew O&#39;Loughlin dans la demande de tirage [26256](https://github.com/magento/magento2/pull/26256)_. [GitHub-8815](https://github.com/magento/magento2/issues/8815)

<!-- MC-29069-->

* Le cache de page complet n’est plus effacé pour les produits non liés lorsqu’un produit a été modifié dans l’administration. [GitHub-25670](https://github.com/magento/magento2/issues/25670)

### Panier et passer en caisse

<!-- ENGCOM-7950-->

* Les requêtes SQL directes ont été remplacées par le fournisseur de données, ce qui a amélioré les performances d’extraction. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [29376](https://github.com/magento/magento2/pull/29376)_. [GitHub-29453](https://github.com/magento/magento2/issues/29453)

<!-- MC-36252-->

* Les listes Produits de la comparaison et Produits récemment comparés fonctionnent désormais comme prévu. Auparavant, lorsque la liste de comparaison était étendue, l’application n’affichait pas les produits, même si la section indiquait que la liste contenait des produits.

<!-- MC-35329-->

* Le bouton **Supprimer** de la section **Ajouter au panier par SKU** de la page **Gérer le panier** d’un client fonctionne désormais comme prévu lorsque plusieurs lignes sont sélectionnées.

<!-- MC-34999-->

* L’application ne renvoie plus d’erreur lorsque vous essayez de commander un produit par SKU lorsque les chiffres que vous saisissez correspondent à un SKU valide, mais la casse de ces chiffres diffère. Auparavant, lorsque vous entriez un SKU dans **Mon compte** > **Classer par SKU** qui ne correspondait pas exactement à un SKU valide, l’application générait une erreur.

<!-- MC-25042-->

* L’adresse de livraison d’un client est désormais sélectionnée par défaut au moment du passage en caisse lorsque l’adresse se trouve dans le pays identifié dans la liste des pays autorisés et que cette liste inclut uniquement ce pays. Auparavant, l’application ne sélectionnait pas l’adresse par défaut et affichait le message d’erreur suivant : `Please specify a regionId in shipping address`.

<!-- MC-24043-->

* Les commerçants peuvent désormais activer l’option **Appliquer au montant d’expédition** dans l’onglet Action de **Marketing** > **Règles de prix du panier** > **Ajouter une nouvelle règle** lorsque **la remise de montant fixe pour l’ensemble du panier** est appliquée. [GitHub-24422](https://github.com/magento/magento2/issues/24422)

<!-- MC-23992-->

* L’application ne renvoie plus d’exception lorsqu’un acheteur tente de déparamétrer le cookie de persistance après avoir commencé le passage en caisse, puis accédé à la page d’accueil du storefront. Auparavant, lorsque l’acheteur cliquait sur le **Pas vous ?** lien de la page d’accueil, l’application a généré l’exception suivante : `The shipping address is missing. Set the address and try again`. [GitHub-24218](https://github.com/magento/magento2/issues/24218)

<!-- MC-33899-->

* L’application affiche désormais un message de réussite de l’ajout au panier lorsqu’un client ajoute un produit en rupture de stock à son panier. Auparavant, le produit était ajouté, mais l’application n’affichait pas de message de réussite.

<!-- MC-35989-->

* Les attributs d’adresse personnalisés sont désormais inclus comme prévu dans le formulaire qui s’affiche pour l’étape de paiement dans le workflow de passage en caisse.

<!-- MC-36060-->

* La zone de saisie **État/Province/Région** est désormais activée comme prévu sur **Mon compte** > **Carnet d’adresses** > **Ajouter une nouvelle adresse**.

<!-- ENGCOM-7746-->

* Les remises sont désormais appliquées comme prévu aux frais d&#39;expédition lorsque l&#39;option **Appliquer au montant d&#39;expédition** est activée. _Correctif soumis par Andrii Kalinich dans la demande de tirage [28839](https://github.com/magento/magento2/pull/28839)_. [GitHub-26723](https://github.com/magento/magento2/issues/26723)

<!-- ENGCOM-7752-->

* Le code qui prend en charge la fermeture du mini panier a été restructuré pour supprimer la fonction `closeSidebar`. La liaison de clic appropriée a été ajoutée à l’élément `[data-action="close"]`. _Correction envoyée par lumnn dans la demande de tirage [28906](https://github.com/magento/magento2/pull/28906)_. [GitHub-29161](https://github.com/magento/magento2/issues/29161)

<!-- ENGCOM-7585-->

* Le nouveau bouton de configuration **Afficher « Effacer le panier » sur la page du panier** permet de contrôler l’affichage d’un bouton **Effacer le panier** sur la page d’affichage du panier. Par défaut, ce paramètre est désactivé. _Correctif soumis par Pavlo Sydorenko dans la demande de tirage [27917](https://github.com/magento/magento2/pull/27917)_. [GitHub-28705](https://github.com/magento/magento2/issues/28705)

<!-- ENGCOM-7457-->

* La validation a été ajoutée au champ téléphone dans le workflow de passage en caisse. _Correctif soumis par Oleh Usik dans la demande de tirage [27537](https://github.com/magento/magento2/pull/27537)_. [GitHub-28800](https://github.com/magento/magento2/issues/28800)

<!-- ENGCOM-5629-->

* Le passage en caisse des invités est désormais désactivé comme prévu lorsqu’un panier contient des produits téléchargeables lorsque les paramètres **Partageable** et **Désactiver le passage en caisse des invités si le panier contient des éléments téléchargeables** sont désactivés. _Correctif soumis par Rani Priya dans la demande de tirage [23972](https://github.com/magento/magento2/pull/23972)_. [GitHub-23971](https://github.com/magento/magento2/issues/23971)

<!-- ENGCOM-7949-->

* Le message de réussite que l’application affiche lorsqu’un acheteur ajoute un produit à son panier à partir de la barre latérale du compte client contient désormais un lien vers le panier de l’acheteur. _Correction envoyée par Ajith dans la demande de tirage [27977](https://github.com/magento/magento2/pull/27977)_. [GitHub-29097](https://github.com/magento/magento2/issues/29097)

<!-- ENGCOM-7825-->

* L’application sélectionne désormais une valeur vide par défaut pour le menu d’options de liste déroulante de préfixe du workflow de passage en caisse. _Correctif soumis par Vadim Malesh dans la demande de tirage [28238](https://github.com/magento/magento2/pull/28238)_. [GitHub-18823](https://github.com/magento/magento2/issues/18823)

<!-- ENGCOM-8004-->

* Le message pop-up que l’application affiche lorsque vous supprimez plusieurs articles d’un panier décrit désormais avec précision le nombre et le type d’entités que vous avez sélectionné pour suppression. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29490](https://github.com/magento/magento2/pull/29490)_. [GitHub-1749](https://github.com/magento/adobe-stock-integration/issues/1749)

<!-- MC-36418-->

* L’application affiche désormais un formulaire d’enregistrement du client lorsqu’un utilisateur invité effectue le passage en caisse.

<!-- MC-35607-->

* Les champs d’attributs d’adresse du client personnalisés s’affichent désormais comme prévu dans le workflow de passage en caisse storefront.

<!-- ENGCOM-7793-->

* L’application récupère désormais le groupe de clients actuel pour un devis actif lors du passage en caisse. Auparavant, l’application utilisait le groupe de clients et clientes qui était actif lorsque le produit a été ajouté pour la première fois au panier. Si ce groupe de clients et clientes a été supprimé avant le passage en caisse, l’application générait une erreur. _Correctif soumis par Konstantin dans la demande de tirage [28902](https://github.com/magento/magento2/pull/28902)_. [GitHub-29327](https://github.com/magento/magento2/issues/29327)

### Catalogue

<!-- MC-31068-->

* L’application supprime désormais les produits désactivés du panier d’un acheteur avant le passage en caisse. Auparavant, lorsqu’un acheteur ajoutait à son panier un produit désactivé avant la fin de la commande, l’application supprimait le produit désactivé du panier, mais le produit restait dans le devis et l’acheteur ne pouvait pas effectuer de commande. [GitHub-26680](https://github.com/magento/magento2/issues/26680)

<!-- MC-30624-->

* L’application trie désormais les produits les plus vendus comme prévu. Auparavant, le nombre de produits et la pagination des résultats de tri étaient incorrects. [GitHub-25955](https://github.com/magento/magento2/issues/25955)

<!-- ENGCOM-7292-->

* Les acheteurs peuvent désormais ouvrir la page des détails d’un produit en cliquant sur son nom dans la barre latérale Comparer les produits . _Correctif soumis par Eduard Chitoraga dans la demande de tirage [27451](https://github.com/magento/magento2/pull/27451)_. [GitHub-21101](https://github.com/magento/magento2/issues/21101)

<!-- ENGCOM-7513-->

* `children_count` valeurs restent désormais positives lorsqu’un administrateur supprime des catégories. Auparavant, lorsqu’un administrateur supprimait des catégories, la `children_count` pour les catégories restantes était négative. _Correctif soumis par Vitaliy Prokopov dans la demande de tirage [28044](https://github.com/magento/magento2/pull/28044)_. [GitHub-27969](https://github.com/magento/magento2/issues/27969)

<!-- MC-34314-->

* L’application utilise désormais l’option par défaut (**Configuration** > **Web** > **Dispositions par défaut** > **Disposition par défaut du produit**) que vous avez sélectionnée pour l’attribut `page_layout` lors de la création d’un nouveau produit. Auparavant, la valeur par défaut sélectionnée n’était pas appliquée.

<!-- MC-34258-->

* Vous pouvez désormais effectuer des actions en masse sur le stock de produits en stock. Auparavant, lorsque vous essayiez d&#39;effectuer une action en masse sur le stock de produits en stock, l&#39;application affichait une page vierge. Si vous avez exécuté cette action avec l’application en mode Développeur, l’application a généré l’erreur suivante : `Notice: Undefined offset: 32000 in /Users/kodithuw/sites/m23inventory/inventory/InventoryCatalogAdminUi/view/adminhtml/templates/catalog/product/edit/action/inventory.phtml on line 24`.

<!-- MC-32552-->

* Le nombre total d’enregistrements affiché lorsque vous cliquez sur **Ajouter des produits** dans l’onglet Produits lors de l’ajout de produits à une catégorie de catalogue ne change plus en fonction de l’ordre de tri des produits.

<!-- ENGCOM-7854 -->

* La requête `{products(filter: {sku: {eq: "some sku"}}) {…}` renvoie désormais les valeurs qui ont été converties dans la devise attendue. Auparavant, `price_tiers.final_price.value` affichait les prix spéciaux dans la devise de base. _Correctif soumis par Petkovski Marjan dans la demande de tirage [28890](https://github.com/magento/magento2/pull/28890)_. [GitHub-26121](https://github.com/magento/magento2/issues/26121)

### Nettoyage

<!-- ENGCOM-7281-->

* Correction d&#39;un mauvais alignement de la case à cocher Admin Sales Order. _Correctif soumis par Tu Nguyen dans la demande de tirage [27642](https://github.com/magento/magento2/pull/27642)_. [GitHub-27633](https://github.com/magento/magento2/issues/27633)

<!-- ENGCOM-7723-->

* Correction d&#39;une faute d&#39;orthographe dans la getter d&#39;ID d&#39;adresse de livraison dans le gestionnaire d&#39;enregistrement d&#39;adresse de commande client. _Correctif soumis par Konstantin dans la demande de tirage [28810](https://github.com/magento/magento2/pull/28810)_. [GitHub-28982](https://github.com/magento/magento2/issues/28982)

<!-- ENGCOM-7745-->

* Correction du nom de la méthode `getRegionNameExpresion` en `getRegionNameExpression`. _Correctif soumis par Pierre Grimaud dans la demande de tirage [28832](https://github.com/magento/magento2/pull/28832)_. [GitHub-28829](https://github.com/magento/magento2/issues/28829)

<!-- ENGCOM-7657-->

* Une méthode de `init` redondante a été supprimée de `app/code/Magento/AdvancedPricingImportExport/Model/Import/AdvancedPricing/Validator/Website.php` et `app/code/Magento/AdvancedPricingImportExport/Model/Import/AdvancedPricing/Validator/TierPriceType.php`. _Correctif soumis par Oleh Usik dans la demande de tirage [28650](https://github.com/magento/magento2/pull/28650)_. [GitHub-29009](https://github.com/magento/magento2/issues/29009)

<!-- ENGCOM-7698-->

* `localStorage` polyfill a été déplacé de `base` vers `frontend`. _Correctif soumis par Ihor Sviziev dans la demande de tirage [28749](https://github.com/magento/magento2/pull/28749)_. [GitHub-28900](https://github.com/magento/magento2/issues/28900)

<!-- ENGCOM-7753-->

* Mise à jour du logo Adobe Commerce et suppression des espaces superflus du fichier LISEZ-MOI principal du référentiel `magento/magento2`. _Correctif soumis par Rafael Corr̻a Gomes dans la demande de tirage [28891](https://github.com/magento/magento2/pull/28891)_. [GitHub-29056](https://github.com/magento/magento2/issues/29056)

<!-- ENGCOM-7771-->

* La classe de `overflowed` inutile a été supprimée du widget de barre latérale du mini panier. _Correction envoyée par lumnn dans la demande de tirage [28963](https://github.com/magento/magento2/pull/28963)_. [GitHub-29160](https://github.com/magento/magento2/issues/29160)

<!-- ENGCOM-7658-->

* Un sélecteur CSS incorrect dans la page Expédition a été corrigé. _Correctif soumis par Tu Nguyen dans la demande de tirage [28639](https://github.com/magento/magento2/pull/28639)_. [GitHub-29261](https://github.com/magento/magento2/issues/29261)

<!-- ENGCOM-7680-->

* Le fichier `lib/internal/Magento/Framework/App/Request/Http.php` a été simplifié en optimisant la logique et en supprimant les affectations de variables redondantes et la surutilisation des retours dans une fonction . _Correctif soumis par Chris Snedaker dans la demande de tirage [28608](https://github.com/magento/magento2/pull/28608)_. [GitHub-29381](https://github.com/magento/magento2/issues/29381)

<!-- ENGCOM-7925-->

* La commande `bin/magento module:status` accepte désormais plusieurs noms de module en tant qu’arguments. _Correctif soumis par Chandru Rajendran dans la demande de tirage [28250](https://github.com/magento/magento2/pull/28250)_. [GitHub-29344](https://github.com/magento/magento2/issues/29344)

<!-- ENGCOM-7983-->

* Correction d’une faute de frappe dans la description de classe de `\Magento\Downloadable\Block\Sales\Order\Email\Items\Downloadable`. _Correctif soumis par Benjamin Rosenberger dans la demande de tirage [29451](https://github.com/magento/magento2/pull/29451)_. [GitHub-29470](https://github.com/magento/magento2/issues/29470)

<!-- ENGCOM-7993-->

* La classe `TierPriceManagement` a été refactorisée pour supprimer le code redondant. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [29202](https://github.com/magento/magento2/pull/29202)_. [GitHub-29477](https://github.com/magento/magento2/issues/29477)

<!-- ENGCOM-7830-->

* `autoload.php` a été refactorisé pour améliorer la lisibilité et la vitesse de retour. _Correctif soumis par Vitaliy Ryaboy dans la demande de tirage [28923](https://github.com/magento/magento2/pull/28923)_. [GitHub-29527](https://github.com/magento/magento2/issues/29527)

### Contenu CMS

<!-- MC-35971-->

* L’onglet Hiérarchie d’une vue de magasin par défaut sélectionnée affiche désormais la page parente sélectionnée comme prévu.

<!-- ENGCOM-7602-->

* L’application ne renvoie plus d’erreur lors de la création de la vue de la boutique lorsque la nouvelle vue de la boutique contient une page CMS avec la même clé URL qu’une page dans une autre vue de boutique. _Correctif soumis par Vadim Malesh dans la demande de tirage [28421](https://github.com/magento/magento2/pull/28421)_. [GitHub-28357](https://github.com/magento/magento2/issues/28357)

### Produits configurables

<!-- MC-33523-->

* Les problèmes de pagination liés à la liste de modifications actuelles du produit configurable ont été corrigés.

<!-- MC-33406-->

* L’application ne met plus à jour la case Prix des produits associés chaque fois qu’un acheteur sélectionne des options pour un produit configurable. Auparavant, l’application mettait à jour la zone de prix chaque fois qu’un acheteur sélectionnait une option pour un produit configurable.

<!-- MC-29882-->

* L’application affiche désormais le prix correct des produits configurables avec des options personnalisables sur la page Créer une commande d’administration . Comme prévu, le prix affiché est une somme du prix du produit enfant et du prix de l&#39;option personnalisée. Auparavant, l’application affichait uniquement le prix de l’option personnalisée. [GitHub-25766](https://github.com/magento/magento2/issues/25766)

<!-- MC-33745-->

* La synthèse des commandes affiche désormais le montant de remise correct lorsqu&#39;une règle de prix de panier a été appliquée. Auparavant, la règle n’arrondissait pas correctement les montants lors du calcul des remises sur les frais d’expédition.

<!-- MC-33765-->

* Les comptes utilisateur d’administrateur créés à partir d’un compte d’administrateur avec une portée restreinte peuvent désormais créer un produit configurable avec des attributs comme prévu. Auparavant, l’application générait cette erreur : `Notice: Undefined index: value_index in 23develop/app/code/Magento/ConfigurableProduct/Helper/Product/Options/Factory.php on line 101`.

<!-- ENGCOM-7787-->

* L’application ne renvoie plus d’erreur de validation lorsque vous utilisez des `/V1/products` POST pour un produit configurable avec une valeur `int` de 0. Auparavant, l’application générait cette erreur : `Product with id "%1" does not contain required attribute "%2"."` _correctif soumis par Vadim Malesh dans la demande de tirage [29001](https://github.com/magento/magento2/pull/29001)_. [GitHub-13210](https://github.com/magento/magento2/issues/13210)

<!-- ENGCOM-7214-->

* L’attribut des options de configuration d’un produit parent n’est plus affecté à l’attribut `size` d’un nouveau produit configurable. _Correctif soumis par Abel Truong dans la demande de tirage [27339](https://github.com/magento/magento2/pull/27339)_. [GitHub-26449](https://github.com/magento/magento2/issues/26449)

### Cookies

<!-- ENGCOM-7156-->

* L’application crée désormais un cookie `mage-translation-file-version` et `mage-translation-storage` maximum par session. _Correctif soumis par Ihor Sviziev dans la demande de tirage [27364](https://github.com/magento/magento2/pull/27364)_. [GitHub-27355](https://github.com/magento/magento2/issues/27355)

### cron

<!-- MC-35884-->

* La configuration du consommateur de file d’attente de messages a été étendue avec de nouveaux paramètres qui permettent de contrôler les consommateurs et d’économiser des ressources de serveur et qui peuvent réduire la consommation de CPU de file d’attente des consommateurs :

   * `maxIdleTime` définit le temps d’attente maximal en secondes pour un nouveau message de la file d’attente.
   * `sleep` spécifie le temps en secondes pour la mise en veille avant de vérifier si un nouveau message est disponible dans la file d’attente.
   * `onlySpawnWhenMessageAvailable` identifie si un client doit être généré uniquement lorsqu’un message disponible existe dans la file d’attente associée. Ce paramètre est activé globalement par défaut pour tous les clients, mais peut être configuré par client.

<!-- ENGCOM-7863-->

* `cron` expressions telles que  Les `3/10 * * * *` sont maintenant planifiées comme prévu. _Correctif soumis par Anton Evers dans la demande de tirage [28930](https://github.com/magento/magento2/pull/28930)_. [GitHub-29240](https://github.com/magento/magento2/issues/29240)

<!-- ENGCOM-7193-->

* `sales_clean_quotes` ne charge plus tous les devis expirés en même temps. Auparavant, l’application échouait avec cette erreur fatale, car tous les guillemets expirés étaient chargés simultanément : `PHP Fatal error: Allowed memory size of 2147483648 bytes exhausted (tried to allocate 20480 bytes) in /path/to/magento2/vendor/magento/framework/Model/AbstractModel.php on line 359`,

### CSS

<!-- ENGCOM-7678-->

* L’application ne duplique plus le CSS lorsque le **CSS critique** est activé. _Correctif soumis par Tu Nguyen dans la demande de tirage [28480](https://github.com/magento/magento2/pull/28480)_. [GitHub-26498](https://github.com/magento/magento2/issues/26498)

<!-- MC-24981-->

* Le compilateur LESS côté serveur importe désormais tous les fichiers CSS distants comme prévu lorsque vous exécutez `bin/magento setup:static-content:deploy -f`. Auparavant, l’application n’importait pas les fichiers distants et générait une erreur. [GitHub-25119](https://github.com/magento/magento2/issues/25119)

### Client

<!-- MC-33679-->

* Les noms de région dans les adresses client de l’administrateur sont désormais traduits comme prévu.

<!-- MC-36226-->

* Les champs **État/Province** sont désormais renseignés comme prévu sur la page Modifier l’adresse (**Mon compte** > **Carnet d’adresses**).

<!-- MC-34655-->

* L’application ne renvoie plus d’erreur lorsqu’un client clique plusieurs fois sur le bouton **Envoyer** sur les formulaires du storefront pour lesquels le reCAPTCHA invisible a été activé. Auparavant, le fait de cliquer plusieurs fois sur ce bouton entraînait une erreur interne similaire à celle-ci : `Internal error: Make sure you are using reCaptcha V3 api keys`.

<!-- MC-33522-->

* Enregistrer un client supprimé de l’administration génère désormais un message d’erreur uniquement. Auparavant, l’application affichait une page vierge et générait un rapport contenant la chaîne suivante : `"0":"No such entity with customerId = 3","1":"#1 Magento\\Customer\\Model CustomerRegistry->retrieve() called at [app\/code\/Magento\/Customer\/Model\/ResourceModel\/CustomerRepository.php:340"`.

<!-- MC-33357-->

* L’application affiche désormais un message d’erreur comme prévu lorsqu’un administrateur tente d’enregistrer une adresse pour un client dont le compte vient d’être supprimé. Auparavant, l’application affichait une zone de message vide.

<!-- MC-33150-->

* Les libellés des champs d’adresse du workflow de passage en caisse et du carnet d’adresses ont été modifiés par souci de cohérence.

<!-- ENGCOM-7244 -->

* Les libellés Frontend reviennent désormais pour stocker les libellés si leurs valeurs ne sont pas nulles. Auparavant, les attributs du client utilisaient les libellés front-end par défaut. _Correctif soumis par Toan Nguyen dans la demande de tirage [27064](https://github.com/magento/magento2/pull/27064)_. [GitHub-27063](https://github.com/magento/magento2/issues/27063)

<!-- ENGCOM-7147 -->

* Le `sortOrder`nombre de liens dans la mise en page XML a été corrigé. Auparavant, cet ordre était inversé et utilisé par ordre décroissant. _Correctif soumis par Tu Nguyen dans la demande de tirage [27340](https://github.com/magento/magento2/pull/27340)_. [GitHub-27162](https://github.com/magento/magento2/issues/27162)

### Répertoire

<!-- MC-32271-->

* Le format du menu déroulant État/Province est désormais cohérent dans l’ensemble de l’administration.

### dotdigital

* La synchronisation des commandes n’échoue plus lorsqu’une commande contient des SKU de produit qui n’existent plus dans le catalogue.

* Les catégories de produits vides ne sont plus incluses dans les données Web insight.

* Le tracking des comportements web fonctionne désormais pour les commerçants avec certaines configurations de thème. Un nouveau sélecteur de secours résout ce problème.

* Le champ de données de statut d’abonné n’inclut plus de valeurs vides lorsque la synchronisation des clients a été exécutée à l’aide de cron. (L’émulation d’applications résout ce problème.)

* Le mappage du carnet d’adresses fonctionne désormais comme prévu lorsqu’un compte numérique à points est activé par défaut, mais désactivé pour le site web principal.

* Des coupons sont maintenant générés (à l’aide de l’URL de contenu dynamique externe pour la génération de coupons) pour les adresses e-mail qui contiennent des signes plus (« + »).

* Les contacts ne sont plus réabonnés lorsque la valeur de leur `last_subscribed_at` est nulle.

* Les erreurs de mise à niveau (datant de la version 4.5.2) qui affectaient les versions antérieures ont été résolues.

* Correction d’un problème de régression introduit dans la version 4.5.3 qui affectait l’utilisation d’une méthode pour obtenir le statut d’abonné lors de la préparation de l’exportation d’abonnés.

* Le chiffre total des abonnés synchronisés (présenté dans les journaux et à l’écran) est désormais correctement calculé.

### Téléchargeable

<!-- MC-35026-->

* La zone Mes produits téléchargeables affiche désormais des liens vers les produits téléchargeables achetés qui font partie d’un produit regroupé comme prévu.

<!-- MC-34262-->

* Cliquer sur le bouton **Exemple** d’un produit téléchargeable à partir de la page de produit Admin télécharge désormais un exemple comme prévu. Auparavant, lorsque vous cliquiez sur **Exemple**, l’application affichait cette erreur : `The product that was requested doesn't exist. Verify the product and try again`.

<!-- ENGCOM-7757-->

* Les acheteurs peuvent désormais télécharger des échantillons de produits téléchargeables qui sont en rupture de stock. Auparavant, lorsqu’un acheteur tentait de télécharger un exemple, l’application ouvrait un nouvel onglet, mais n’affichait pas de message informatif ou ne lançait pas le processus de téléchargement. _Correctif soumis par Vadim Malesh dans la demande de tirage [28898](https://github.com/magento/magento2/pull/28898)_. [GitHub-23638](https://github.com/magento/magento2/issues/23638)

<!-- ENGCOM-7796-->

* Le message d’exception que l’application affiche lorsqu’un acheteur tente de définir une adresse de livraison pour un produit téléchargeable a été amélioré. _Correctif soumis par Michał Derlatka dans la demande de tirage [28904](https://github.com/magento/magento2/pull/28904)_. [GitHub-26107](https://github.com/magento/magento2/issues/26107)

<!-- ENGCOM-7715 -->

* Les données `stock_item` d’un produit sont mises à jour et les liens et exemples de produits téléchargeables sont conservés comme prévu lorsque vous utilisez un appel REST PUT pour mettre à jour les valeurs `stock_item`. Auparavant, après la mise à jour du produit, le produit ne contenait plus de liens pour télécharger du contenu. _Correctif soumis par Vadim Malesh dans la demande de tirage [28799](https://github.com/magento/magento2/pull/28799)_. [GitHub-21811](https://github.com/magento/magento2/issues/21811)

<!-- MC-29905-->

* L’application affiche désormais un message plus informatif lorsqu’un client définit l’adresse de livraison d’une commande qui contient uniquement des produits téléchargeables.

### E-mail

<!-- MC-32789-->

* L’application envoie désormais des notifications par e-mail concernant les modifications de commande au bon e-mail du client si l’e-mail du client a été modifié après la création de la commande.

<!-- MC-36015-->

* Les e-mails de mise à jour de commande envoyés aux clients incluent désormais le statut de commande correct. Auparavant, si le statut d’une commande passait de `processing` à un autre état, l’e-mail de commande ne reflétait pas le changement de statut.

<!-- MC-34107-->

* L’application n’affiche plus de messages trompeurs sur les comptes existants lors du passage en caisse des invités. Auparavant, lorsqu’un invité accédait à la page de passage en caisse, puis revenait à la page d’expédition, l’application affichait cette erreur : `You already have an account with us. Sign in or continue as guest`.

<!-- MC-33905-->

* Les modèles d’e-mail personnalisés chargent désormais les mêmes éléments que les modèles d’e-mail natifs par défaut. Auparavant, certains éléments étaient manquants, notamment les valeurs de variable.

<!-- ENGCOM-7576-->

* CSS inutile supprimé du modèle d’aperçu d’e-mail. _Correctif soumis par Tu Nguyen dans la demande de tirage [27828](https://github.com/magento/magento2/pull/27828)_. [GitHub-27543](https://github.com/magento/magento2/issues/27543)

<!-- ENGCOM-7177-->

* Le texte du modèle d’e-mail qui duplique le texte déjà affiché par le pied de page a été supprimé. _Correctif soumis par Paweł Tylek dans la demande de tirage [27356](https://github.com/magento/magento2/pull/27356)_. [GitHub-28433](https://github.com/magento/magento2/issues/28433)

<!-- ENGCOM-7506-->

* Les e-mails d’alerte de produit sont désormais envoyés à partir du magasin auquel l’alerte est abonnée. Auparavant, cet e-mail était toujours envoyé à partir du magasin par défaut. _Correctif soumis par Maciej Pawłowski dans la demande de tirage [26534](https://github.com/magento/magento2/pull/26534)_. [GitHub-28968](https://github.com/magento/magento2/issues/28968)

<!-- ENGCOM-7815-->

* Une variable `customer.name` en double a été supprimée du modèle d’e-mail. _Correctif soumis par Paweł Tylek dans la demande de tirage [29054](https://github.com/magento/magento2/pull/29054)_. [GitHub-29087](https://github.com/magento/magento2/issues/29087)

<!-- MC-33700-->

* Vous pouvez désormais créer un modèle d’e-mail qui envoie un e-mail avec  `Content-Type: "text/plain"`. Auparavant, l’application ignorait le type de contenu spécifié dans le modèle. _Correctif envoyé par twoonesixdigital dans la demande de tirage [26474](https://github.com/magento/magento2/pull/26474)_. [GitHub-26471](https://github.com/magento/magento2/issues/26471)

### Frameworks

<!-- MC-35893-->

* Le champ **Heure de la journée à laquelle envoyer les données** de la page Admin **Magasins** > **Configuration** > GÉNÉRAL > **Rapports avancés** s’affiche désormais correctement.

<!-- MC-34153-->

* Les acheteurs peuvent désormais modifier le nombre de commandes affichées par page lorsque la liste Commandes s’étend sur plusieurs pages. Auparavant, l’application affichait le message suivant lorsque l’acheteur accédait à la dernière page de commandes et tentait de modifier le nombre de commandes affichées par page : `You have placed no orders`. Il s’agissait d’un problème connu dans la version 2.4.0.

<!-- MC-35020-->

* Vous pouvez désormais ajouter des produits à une catégorie lors de l’implémentation du cache de niveau 2.

<!-- MC-29755-->

* Les en-têtes `X-Magento-Tags` ne dépassent plus la taille autorisée par la spécification HTTP. Auparavant, les pages de catégorie qui contiennent de nombreux produits renvoyaient un en-tête `X-Magento-Tag` qui entraînait une erreur 503.

<!-- MC-34257-->

* `sales_order_shipment_track_save_commit_after` est maintenant déclenché comme prévu lorsque vous avez utilisé l’API REST pour créer une expédition.

<!-- MC-33898-->

* L’application affiche désormais un message d’erreur informatif lorsqu’une `di compile` échoue en raison d’une dépendance inexistante. Auparavant, le message affiché n’identifiait pas la classe dans laquelle l’exception s’était produite.

<!-- MC-32929-->

* L’application ne renvoie plus l’erreur fatale suivante lorsque Redis utilise toute la mémoire autorisée : `report.CRITICAL: OOM command not allowed when used memory > 'maxmemory'.`

<!-- MC-18021-->

* Les acheteurs peuvent désormais ajouter plusieurs produits à leur panier lorsque le module `Persistent` est désactivé. [GitHub-14486](https://github.com/magento/magento2/issues/14486)

### Correctifs généraux

<!-- MC-36048-->

* Le tri des produits dans l’administrateur (**Magasins** > **Attributs** > **Produits**) affiche désormais tous les produits qui répondent à vos critères de recherche. Auparavant, l’application n’affichait pas les enregistrements. Pour les trier, vous deviez accéder à la première page des résultats de recherche.

<!-- MC-36343-->

* Les guillemets inutiles et les caractères d’échappement autour d’une URL dans `tracking.phtml` ont été supprimés.

<!-- MC-35998-->

* Le `var/log/system.log` affiche désormais un message plus précis lorsqu’un utilisateur tente d’accéder à un fichier de ressources non existant sous le répertoire statique et que SCD OnDemand et le mode de production sont activés. L’application consigne désormais une erreur 404. Auparavant, l’application consignait le même message que celui consigné lorsque l’erreur se produisait en mode Développeur.

<!-- ENGCOM-7286-->

* La minimisation de JavaScript fonctionne désormais correctement. Le résolveur de fichiers de minimisation ne fait plus fuiter les variables vers la portée globale. Auparavant, les variables `ctx`, `origNameToUrl` et `baseUrl` sous la fenêtre étaient divulguées. _Correctif soumis par Mateusz Krzeszowiak dans la demande de tirage [27622](https://github.com/magento/magento2/pull/27622)_. [GitHub-28110](https://github.com/magento/magento2/issues/28110)

<!-- ENGCOM-7532-->

* Lorsque vous déboguez une erreur qui empêche la création d’objet, l’application imprime et consigne désormais le message d’exception d’origine. Auparavant, le message n’était consigné que dans le journal. _Correctif soumis par Marvin Hinz dans la demande de tirage [26572](https://github.com/magento/magento2/pull/26572)_. [GitHub-26550](https://github.com/magento/magento2/issues/26550)

<!-- ENGCOM-7577-->

* L’exécution du rappel après validation des modifications de la base de données a été améliorée. Auparavant, si un rappel échouait avec une exception, tous les rappels échouaient. _Correctif envoyé par Alok Patel dans la demande de tirage [27134](https://github.com/magento/magento2/pull/27134)_. [GitHub-28167](https://github.com/magento/magento2/issues/28167)

<!-- ENGCOM-7447-->

* Les mixins des modules sans dépendance définie ne renvoient plus cette erreur : `TypeError: Cannot read property 'map' of null`. _Correctif soumis par Mateusz Krzeszowiak dans la demande de tirage [27690](https://github.com/magento/magento2/pull/27690)_. [GitHub-28340](https://github.com/magento/magento2/issues/28340)

<!-- ENGCOM-7299-->

* Le polyfill de stockage est désormais chargé et appliqué uniquement lorsque `localStorage` ou `sessionStorage` ne sont pas disponibles. _Correctif soumis par Mateusz Krzeszowiak dans la demande de tirage [27619](https://github.com/magento/magento2/pull/27619)_. [GitHub-28381](https://github.com/magento/magento2/issues/28381)

<!-- ENGCOM-7610-->

* Les listes de commandes de storefront multi-pages se comportent désormais comme prévu lorsqu’un acheteur modifie le nombre de résultats affichés par page à partir de la deuxième page de résultats ou de la page de résultats suivante. Auparavant, l’application affichait cette erreur lorsqu’un acheteur modifiait le nombre de résultats de recherche affichés dans la liste **Mon compte** > **Mes commandes** : `You have placed no orders`. _Correctif soumis par Vadim Malesh dans la demande de tirage [28417](https://github.com/magento/magento2/pull/28417)_. [GitHub-28488](https://github.com/magento/magento2/issues/28488)

<!-- ENGCOM-7565-->

* La méthode `addWarning` obsolète a été remplacée par la méthode `addWarningMessage` dans le module de sécurité . _Correctif soumis par kishorekumarkesavan dans la demande de tirage [28264](https://github.com/magento/magento2/pull/28264)_. [GitHub-28308](https://github.com/magento/magento2/issues/28308)

<!-- ENGCOM-7588-->

* Le code généré à l’aide des commandes de ligne de commande `bin/magento` est désormais conforme aux exigences et aux normes de codage. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [28351](https://github.com/magento/magento2/pull/28351)_. [GitHub-28376](https://github.com/magento/magento2/issues/28376)

<!-- ENGCOM-7511-->

* L’enregistrement d’un attribut avec `backend_type = static` ne supprime plus le contenu du champ `frontend_class`. _Correctif envoyé par jiten-patel dans la demande de tirage [27369](https://github.com/magento/magento2/pull/27369)_. [GitHub-27051](https://github.com/magento/magento2/issues/27051)

<!-- ENGCOM-7462-->

* Le code et les `responsive.js` inutiles ont été supprimés des fichiers chargés par les thèmes. _Correctif soumis par Mateusz Krzeszowiak dans la demande de tirage [27617](https://github.com/magento/magento2/pull/27617)_. [GitHub-28811](https://github.com/magento/magento2/issues/28811)

<!-- ENGCOM-7856-->

* La validation a été ajoutée au champ **Nombre de symboles** sur la page de configuration Admin CAPTCHA. _Correctif soumis par Eden Duong dans la demande de tirage [29199](https://github.com/magento/magento2/pull/29199)_. [GitHub-29198](https://github.com/magento/magento2/issues/29198)

<!-- ENGCOM-7999-->

* Le flux RSS se charge désormais correctement. Auparavant, le flux ne se chargeait pas la première fois, mais il se chargeait comme prévu lorsque la page était actualisée. _Correctif soumis par Vadim Malesh dans la demande de tirage [29455](https://github.com/magento/magento2/pull/29455)_. [GitHub-25211](https://github.com/magento/magento2/issues/25211)

<!-- MC-35550-->

* Une session persistante expirée est maintenant renouvelée comme prévu lorsque l’acheteur se reconnecte.

<!-- MC-35230-->

* La durée de vie du mot de passe définie dans **Magasins** > **Configuration** > **Avancé** > **Admin** est désormais respectée. Auparavant, si vous cliquiez sur **Mot de passe oublié ?** lorsque vous êtes invité à réinitialiser votre mot de passe, vous pouvez ignorer cette opération.

<!-- MC-34369-->

* Les codes promotionnels sont désormais appliqués uniquement au produit spécifié. Auparavant, l’application appliquait le code de coupon à tous les produits du panier. [GitHub-28246](https://github.com/magento/magento2/issues/28246)

<!-- MC-35008-->

* Les paramètres d’expiration du panier ne sont plus réinitialisés lorsqu’une mise à jour de stock ou de prix se produit. Auparavant, lorsqu’un panier était configuré pour expirer dans 24 heures et qu’une mise à jour de l’inventaire ou une mise à jour des prix se produisait, les indexeurs renseignaient les `updated_at table`, ce qui réinitialisait l’heure d’expiration.

<!-- MC-33313-->

* L’application ne renvoie plus d’erreur fatale lorsqu’un administrateur affecte un client qui a un panier actif à un groupe de clients.

<!-- ENGCOM-7834 -->

* Lorsque vous sélectionnez une option de barre d’outils dans **Outils de développement** > **Réseau** sur une page de produit lors de l’exécution du navigateur Chrome, `toolbar.js` n’est plus initialisé deux fois. _Correctif soumis par Paweł Tylek dans la demande de tirage [28838](https://github.com/magento/magento2/pull/28838)_. [GitHub-25934](https://github.com/magento/magento2/issues/25934)

<!-- ENGCOM-7420-->

* L’application ajoute désormais un ID de rôle ACL d’utilisateur administrateur à l’ID de cache de l’arborescence de produits. Cela limite les arborescences de catégories qu’un administrateur à la portée limitée peut voir comme prévu. _Correction envoyée par quangdo-aligent dans la demande de tirage [27429](https://github.com/magento/magento2/pull/27429)_. [GitHub-28306](https://github.com/magento/magento2/issues/28306)

### GraphQL

<!-- ENGCOM-7661 7662 7559 MC-35646 32345-->

* Les acheteurs peuvent sélectionner les options de message cadeau lors du passage en caisse. GraphQL couvre désormais les options de message cadeau pour différents types d’articles de panier. Voir [`setGiftOptionsOnCart` mutation](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/set-gift-options/) et [`updateCartItems` mutation](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/update-items/). _Correctif envoyé par Oleh Usik dans les demandes d&#39;extraction [28519](https://github.com/magento/magento2/pull/28105), [27956](https://github.com/magento/magento2/pull/27956), [28072](https://github.com/magento/magento2/pull/28072), [28072](https://github.com/magento/magento2/pull/28072). [GitHub-28519](https://github.com/magento/magento2/issues/28519)

<!-- ENGCOM-7508 -->

* Les clients et les invités peuvent écrire des critiques de produits. Les clients peuvent également récupérer leurs historiques d’examen des produits. Voir [Création d’une révision de produit](https://developer.adobe.com/commerce/webapi/graphql/schema/products/mutations/create-review/) et [requête productReviewRatingsMetadata](https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/product-review-ratings-metadata/) pour plus d’informations sur la récupération des informations sur l’infrastructure des révisions. _Correctif soumis par Eduard Chitoraga dans la demande de tirage [27882](https://github.com/magento/magento2/pull/27882)_. [GitHub-28523](https://github.com/magento/magento2/issues/28523)

<!-- ENGCOM-7968 -->

* La mutation [`addProductsToCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/add-products/) vous permet d’ajouter n’importe quel type de produit au panier actif. Nous recommandons d’utiliser cette mutation au lieu de mutations à usage unique telles que `addSimpleProductsToCart`. _Correctif soumis par Yaroslav Rogoza dans la demande de tirage [27914](https://github.com/magento/magento2/pull/27914)_. [GitHub-28524](https://github.com/magento/magento2/issues/28524)

<!-- MC-34187-->

* La nouvelle requête `availableStores` renvoie une liste d’attributs de configuration pour plusieurs magasins disponibles sous le même site web (en fonction du magasin actuel). Elle n’expose pas la liste des sites web. Voir [`availableStores` requête](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/available-stores/). _Correctif soumis par Dmitriy Gallyamov dans la demande de tirage [28794](https://github.com/magento/magento2/pull/28794)_. [GitHub-28569](https://github.com/magento/magento2/issues/28569)

<!-- ENGCOM-7512 -->

* GraphQL utilise désormais uniquement un jeton d’autorisation pour récupérer un type d’utilisateur et son identifiant. Auparavant, GraphQL utilisait les cookies d’un client actif pour récupérer ces informations lorsque le jeton d’autorisation était vide. _Correctif soumis par Alexander Taranovsky dans la demande de tirage [27373](https://github.com/magento/magento2/pull/27373)_. [GitHub-28040](https://github.com/magento/magento2/issues/28040)

<!-- ENGCOM-7839 32949-->

* Nous avons ajouté les mutations [`createCustomerV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/create-v2/) et [`updateCustomerV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/update-v2/) pour gérer les comptes clients. Ces nouvelles mutations nécessitent des objets d’entrée différents des mutations `createCustomer` et `updateCustomer`. Pour modifier l’adresse e-mail d’un client, utilisez la nouvelle mutation [`updateCustomerEmail`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/update-email/). _Correctif soumis par Michał Derlatka dans la demande de tirage [28888](https://github.com/magento/magento2/pull/28888)_. [GitHub-28570](https://github.com/magento/magento2/issues/28570)

<!-- ENGCOM-7750 -->

* La mutation `updateCustomer` ne vous permet plus de définir une valeur de `INT` non valide dans l’argument `gender`. _Correctif soumis par Alexander Taranovsky dans la demande de tirage [28487](https://github.com/magento/magento2/pull/28487)_. [GitHub-28481](https://github.com/magento/magento2/issues/28481)

<!-- ENGCOM-7663 -->

* Vous pouvez utiliser la mutation `subscribeEmailToNewsletter` pour abonner les clients à une newsletter. Voir [`subscribeEmailToNewsletter` mutation](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/subscribe-email-to-newsletter/). _Correctif soumis par Alexander Taranovsky dans la demande de tirage [27586](https://github.com/magento/magento2/pull/27586)_. [GitHub-27337](https://github.com/magento/magento2/issues/27337)

<!-- ENGCOM-7216 -->

* Suppression de la logique redondante dans le résolveur de mutation `setShippingMethodsOnCart`. _Correctif soumis par Alexander Taranovsky dans la demande de tirage [27349](https://github.com/magento/magento2/pull/27349)_. [GitHub-28262](https://github.com/magento/magento2/issues/28262)

<!-- ENGCOM-7638 -->

* Ajout de la couverture du test pour l’erreur de `Please provide Email of sender` associée à la mutation `sendEmailToFriend`. _Correctif soumis par Alexander Taranovsky dans la demande de tirage [28034](https://github.com/magento/magento2/pull/28034)_. [GitHub-28138](https://github.com/magento/magento2/issues/28138)

<!-- ENGCOM-7743 34485-->

* La requête `products` renvoie désormais les libellés d’option d’attribut de produit pour la vue de magasin par défaut comme prévu. Auparavant, cette requête renvoyait les libellés d’option d’attribut de produit définis pour l’administrateur. _Correctif soumis par Dmitriy Gallyamov dans la demande de tirage [28647](https://github.com/magento/magento2/pull/28647)_. [GitHub-28568](https://github.com/magento/magento2/issues/28568)

<!-- ENGCOM-7743 -->

* Les agrégations d’attributs personnalisés renvoient désormais des valeurs d’option spécifiques au magasin. _Correctif soumis par Dmitriy Gallyamov dans la demande de tirage [28647](https://github.com/magento/magento2/pull/28647)_. [GitHub-28572](https://github.com/magento/magento2/issues/28572)

<!-- ENGCOM-7707 -->

* Les intervalles de prix renvoyés dans une agrégation de produits peuvent désormais être uniquement numériques (aucun caractère générique n’est autorisé). _Correctif soumis par Dmitriy Gallyamov dans la demande de tirage [28745](https://github.com/magento/magento2/pull/28745)_. [GitHub-28628](https://github.com/magento/magento2/issues/28628)

<!-- ENGCOM-7729 -->

* La requête `categoryList` renvoie désormais la réponse correcte lors de l’utilisation de fragments. _Correctif envoyé par Ulzii dans la demande de tirage [28710](https://github.com/magento/magento2/pull/28710)_. [GitHub-28584](https://github.com/magento/magento2/issues/28584)

<!-- ENGCOM-7732 7733-->

* La recherche de produit GraphQL prend désormais en compte les autorisations de catégorie configurées. Auparavant, la recherche de produits ignorait le paramètre **Activer** (**Magasins** > **Configuration** > **Catalogue** > **Catalogue** > **Autorisations de catégorie**). _Correctif soumis par Petkovski Marjan dans la demande de tirage [28757](https://github.com/magento/magento2/pull/28757) et la demande de tirage 271 dans le référentiel privé`partners-magento2ee`_. [GitHub-28563](https://github.com/magento/magento2/issues/28563)

<!-- MC-31084-->

* Vous pouvez désormais ajouter un produit à un panier à l’aide de `addSimpleProductToCart` lorsque d’autres articles du panier sont en rupture de stock. Auparavant, l’application renvoyait cette erreur : `Some of the products are out of stock`. [GitHub-26683](https://github.com/magento/magento2/issues/26683)

* La méthode de `Category` GraphQL par défaut trie désormais les données par position de catégorie comme prévu. _Correctif soumis par Derrik Nyomo dans la demande de tirage [29301](https://github.com/magento/magento2/pull/29301)_. [GitHub-104](https://github.com/magento/catalog-storefront/issues/104)

* Ajout de la prise en charge des listes de souhaits dans Magento Open Source. Vous pouvez [ajouter des éléments](https://developer.adobe.com/commerce/webapi/graphql/schema/wishlist/mutations/add-products/), [mettre à jour des éléments](https://developer.adobe.com/commerce/webapi/graphql/schema/wishlist/mutations/update-products/) et [supprimer des éléments](https://developer.adobe.com/commerce/webapi/graphql/schema/wishlist/mutations/remove-products/) d’une liste de souhaits. _Correctif soumis par Eduard Chitoraga dans la demande de tirage [28205](https://github.com/magento/magento2/pull/28205)_. [GitHub-28551](https://github.com/magento/magento2/issues/28551)

* Nous avons ajouté les mutations [`createCustomerV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/create-v2/) et [`updateCustomerV2`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/update-v2/) pour gérer les comptes clients. Ces nouvelles mutations nécessitent des objets d’entrée différents des mutations `createCustomer` et `updateCustomer`. Pour modifier l’adresse e-mail d’un client, utilisez la nouvelle mutation [`updateCustomerEmail`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/update-email/).

* Ajout de la prise en charge de GraphQL Vault pour le mode de paiement [Payflow Pro Vault](https://developer.adobe.com/commerce/webapi/graphql/payment-methods/payflow-pro-vault/). _Correctif soumis par Oleh Usik dans la demande de tirage [28821](https://github.com/magento/magento2/pull/28821)_. [GitHub-28520](https://github.com/magento/magento2/issues/28520)

* Mise à jour de la requête [`storeConfig` GraphQL](https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/) afin d’inclure de nouveaux paramètres de configuration client. _Correctif soumis par Oleh Usik dans la demande de tirage [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* Ajout de la mutation [`resetPassword`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/reset-password/). _Correctif soumis par Oleh Usik dans la demande de tirage [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* Ajout de la mutation [`resetPassword`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/reset-password/). _Correctif soumis par Oleh Usik dans la demande de tirage [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* Ajout de la mutation [`requestPasswordResetEmail`](https://developer.adobe.com/commerce/webapi/graphql/schema/customer/mutations/request-password-reset-email/), qui déclenche l’e-mail de réinitialisation du mot de passe pour l’adresse e-mail fournie. _Correctif soumis par Oleh Usik dans la demande de tirage [27876](https://github.com/magento/magento2/pull/27876)_. [GitHub-28521](https://github.com/magento/magento2/issues/28521)

* Ajout ou mise à jour de rubriques sur Klarna GraphQL dans [le mode de paiement de Klarna](https://developer.adobe.com/commerce/webapi/graphql/payment-methods/klarna/) et [`createKlarnaPaymentsSession`](https://developer.adobe.com/commerce/webapi/graphql/schema/checkout/mutations/create-klarna-payments-session/)

### Images

<!-- ENGCOM-7691-->

* Le balisage HTML des images miniatures a été amélioré. _Correctif soumis par Tu Nguyen dans la demande de tirage [28642](https://github.com/magento/magento2/pull/28642)_. [GitHub-29468](https://github.com/magento/magento2/issues/29468)

### Importer/exporter

<!-- MC-35479-->

* Le fichier `error_report.csv` se télécharge désormais avec le contenu et est disponible dans le répertoire `var/import_history/` comme prévu. Auparavant, ce fichier n’était pas généré après l’importation.

<!-- ENGCOM-7616-->

* L’importation d’un produit à l’aide d’un fichier CSV génère désormais un fichier `error_report.csv` comme prévu. Auparavant, l’application générait le fichier, mais l’a supprimé une fois l’importation terminée. _Correctif soumis par Vadim Malesh dans la demande de tirage [28460](https://github.com/magento/magento2/pull/28460)_. [GitHub-28420](https://github.com/magento/magento2/issues/28420)

<!-- ENGCOM-7673-->

* Suppression des importations de classe redondantes dans toute la base de code. _Correctif soumis par Oleh Usik dans la demande de tirage [28696](https://github.com/magento/magento2/pull/28696)_. [GitHub-29012](https://github.com/magento/magento2/issues/29012)

<!-- MC-33730-->

* L’application importe désormais avec succès les adresses client contenant une région pour un pays qui n’a pas de régions définies. Auparavant, l’application générait cette erreur : `Please enter a valid region`.

<!-- MC-33277-->

* L’application charge désormais le jeu d’attributs d’entité correct lorsqu’un commerçant sélectionne un type d’entité lors de la planification d’une nouvelle exportation.

<!-- MC-32956-->

* La position des produits dans le tableau `catalog_category_product` est désormais mise à jour comme prévu lorsqu’un administrateur crée un produit dans l’Administration et l’affecte à une catégorie. Auparavant, la position des nouveaux produits se voyait toujours attribuer une valeur 0.

<!-- MC-34939-->

* Les données client sont désormais correctement exportées depuis l’administration et la grille de données d’exportation affiche les données client comme prévu. Auparavant, une erreur liée à l’allocation de mémoire se produisait lors de l’exportation.

<!-- MC-34657-->

* Les fichiers CSV importés capturent désormais les informations relatives aux produits comme prévu. Auparavant, les informations relatives aux produits n’étaient pas chargées de manière cohérente la première fois que le fichier CSV était importé.

<!-- MC-37424-->

* Suppression des paramètres de construction inutilisés dans `AdvancedPricing.php`. [GitHub-29531](https://github.com/magento/magento2/issues/29531)

### Index

<!-- ENGCOM-7073-->

* `Magento_CacheInvalidate` gère désormais correctement les modèles de balises volumineux lors de l’exécution d’une `PURGE`. `sendPurgeRequest` a été refactorisé pour gérer un tableau de balises au lieu d’exiger que l’appelant utilise des `implode()`. _Correctif soumis par Matthew O&#39;Loughlin dans la demande de tirage [26256](https://github.com/magento/magento2/pull/26256)_. [GitHub-26255](https://github.com/magento/magento2/issues/26255)

<!-- MC-30568-->

* Les indexeurs partagés affichent désormais un statut **valide** après l’exécution du `bin/magento indexer:status` après la réindexation. Auparavant, les indexeurs partagés affichaient un statut **non valide** après une réindexation complète.

### Infrastructure

<!-- MC-37243-->

* Les problèmes de chargement des pages de catalogues et de produits sur les déploiements exécutant PHP 7.4.9 ne se produisent plus. Auparavant, l’application générait cette erreur lorsque vous tentiez de charger le catalogue et les pages de produits : `There has been an error processing your request. Exception printing is disabled by default for security reasons`. [GitHub-29502](https://github.com/magento/magento2/issues/29502)

<!-- ENGCOM-7994-->

* Toutes les exceptions qui se produisent lorsque les dispositions sont rendues en mode production sont désormais consignées dans le fichier journal des exceptions (`var/report`). Auparavant, l’application consignait ces messages dans le journal système en tant que problèmes critiques.

<!-- ENGCOM-7154-->

* Les expressions régulières fonctionnent désormais correctement pour les pages volumineuses suite à une augmentation de `ipcre.backtrack_limi`t et `pcre.recursion_limit` à environ 1000000. _Correctif soumis par Mateusz Krzeszowiak dans la demande de tirage [27270](https://github.com/magento/magento2/pull/27270)_. [GitHub-26026](https://github.com/magento/magento2/issues/26026)

<!-- ENGCOM-7483-->

* La génération des intercepteurs a été améliorée. `} else {` instructions ont été supprimées des intercepteurs et `array_map` a remplacé `foreach`. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [27902](https://github.com/magento/magento2/pull/27902)_. [GitHub-28383](https://github.com/magento/magento2/issues/28383)

<!-- ENGCOM-7651-->

* La création de tableau est désormais cohérente dans toute la classe (`app/code/Magento/Sales/Model/Order/Pdf/Items/Invoice/DefaultInvoice.php`). _Correctif soumis par Nathan de Graaf dans la demande de tirage [28515](https://github.com/magento/magento2/pull/28515)_. [GitHub-28795](https://github.com/magento/magento2/issues/28795)

<!-- ENGCOM-7484-->

* Les modules externes ont été migrés hors du framework afin de suivre la bonne pratique qui consiste à interdire les modules externes dans l’espace de noms du framework. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [27965](https://github.com/magento/magento2/pull/27965)_. [GitHub-27962](https://github.com/magento/magento2/issues/27962)

<!-- ENGCOM-7778-->

* Vous pouvez désormais utiliser le nouveau composant `UrlFilterApplier` pour appliquer des filtres sur les grilles de produits, de `cms_page` et de `cms_block` à l’aide du paramètre d’URL GET. _Correctif soumis par Gabriel da Gama dans la demande de tirage [28932](https://github.com/magento/magento2/pull/28932)_. [GitHub-1501](https://github.com/magento/adobe-stock-integration/issues/1501)

<!-- ENGCOM-7713-->

* L’application ne renvoie plus d’erreur `Undefined class constant` lorsqu’un intercepteur est généré. _Correctif soumis par Vova Yatsyuk dans la demande de tirage [28797](https://github.com/magento/magento2/pull/28797)_. [GitHub-28981](https://github.com/magento/magento2/issues/28981)

<!-- ENGCOM-7523-->

* Les données de formulaire sont désormais conservées lorsque l’application renvoie une exception d’intégration lorsque vous enregistrez une intégration à l’aide d’un nom déjà utilisé. _Correctif soumis par Aditya Yadav dans la demande de tirage [26660](https://github.com/magento/magento2/pull/26660)_. [GitHub-28143](https://github.com/magento/magento2/issues/28143)

<!-- ENGCOM-7756-->

* L’application ne tronque plus les en-têtes `X-Forwarded-For` à 32 caractères. _Correctif soumis par Ihor Sviziev dans la demande de tirage [27221](https://github.com/magento/magento2/pull/27221)_. [GitHub-28693](https://github.com/magento/magento2/issues/28693)

<!-- ENGCOM-7820-->

* La logique qui vérifie si une redirection est interne fonctionne désormais correctement dans Admin lors de l’utilisation d’un domaine d’administration personnalisé. Auparavant, les problèmes liés à cette logique entraînaient de nombreuses redirections d’administration vers la page d’accueil du magasin par défaut. _Correctif soumis par Vadim Malesh dans la demande de tirage [29066](https://github.com/magento/magento2/pull/29066)_. [GitHub-28943](https://github.com/magento/magento2/issues/28943)

<!-- ENGCOM-7758-->

* Les problèmes avec le fichier `styles-old.less` ont été éliminés, et linting n&#39;identifie plus les erreurs. _Correctif soumis par Tu Nguyen dans la demande de tirage [28895](https://github.com/magento/magento2/pull/28895)_. [GitHub-24004](https://github.com/magento/magento2/issues/24004)

<!-- ENGCOM-7781-->

* `NonComposerComponentRegistration.php` a été refactorisé. _Correctif soumis par Vitaliy Ryaboy dans la demande de tirage [28975](https://github.com/magento/magento2/pull/28975)_. [GitHub-29308](https://github.com/magento/magento2/issues/29308)

<!-- ENGCOM-7926-->

* `ResourceConnection.php` a été refactorisé pour améliorer la lisibilité de la classe. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [29341](https://github.com/magento/magento2/pull/29341)_. [GitHub-29389](https://github.com/magento/magento2/issues/29389)

<!-- ENGCOM-7910-->

* Le fichier LISEZ-MOI du serveur web intégré a été mis à jour afin d’inclure tous les paramètres Elasticsearch. _Correctif soumis par Yevhenii Dumskyi dans la demande de tirage [29300](https://github.com/magento/magento2/pull/29300)_. [GitHub-29299](https://github.com/magento/magento2/issues/29299)

<!-- ENGCOM-7814-->

* Le plug-in `Magento\CmsUrlRewrite\Plugin\Cms\Model\Store\View::aftersSave` renvoie désormais une valeur comme prévu. Auparavant, ce plug-in ne renvoyait pas de valeur. Par conséquent, l’enregistrement d’une vue de magasin entraînait une erreur. _Correctif soumis par Pieter Hoste dans la demande de tirage [29035](https://github.com/magento/magento2/pull/29035)_. [GitHub-29034](https://github.com/magento/magento2/issues/29034)

<!-- ENGCOM-7566-->

* Ajout de la prise en charge suivante des méthodes magiques pour `DataObject` :

   * nouvelle extension pour prendre en charge `get/set/has/uns` méthodes magiques (avec utilisation de `__call`)
   * Prise en charge de SessionManager, qui transfère tous les appels vers le conteneur DataObject
   * couverture de test pour les extensions
   * tests mis à jour pour la vérification des erreurs filtrées
   * niveau de contrôle PHPStan augmenté de 0 à 1. _Correctif soumis par Oleksandr Kravchuk dans la demande de tirage [27905](https://github.com/magento/magento2/pull/27905)_. [GitHub-28303](https://github.com/magento/magento2/issues/28303)

<!-- ENGCOM-7906-->

* `ScopeConfigInterface` peut désormais être plus qu’une chaîne. La restriction de `magentoConfigFixture` à string uniquement était le résultat involontaire d’une requête d’extraction précédente et a été rétablie. _Correctif soumis par Kristof, Fooman dans la demande de tirage [29305](https://github.com/magento/magento2/pull/29305)_. [GitHub-29345](https://github.com/magento/magento2/issues/29345)

<!-- ENGCOM-8000-->

* La méthode `convertConfigTimeToUtc` ne renvoie plus d’erreur fatale en raison de l’envoi de paramètres incorrects au constructeur `Phrase`. _Correctif soumis par Kos Rafał dans la demande de tirage [29483](https://github.com/magento/magento2/pull/29483)_. [GitHub-29525](https://github.com/magento/magento2/issues/29525)

<!-- ENGCOM-7962 -->

* Les filtres de prix fonctionnent désormais comme prévu sur les données de grille lorsque `Magento\Backend\Block\Widget\Grid\Column\Filter\Price::getCondition` et `Magento\Backend\Block\Widget\Grid\Column\Filter\Price::getValue()` renvoient un tableau avec des index contenant des données de chaîne `from` ou `to`. Auparavant, l’application générait cette erreur : `Notice: A non well formed numeric value encountered in vendor/magento/module-backend/Block/Widget/Grid/Column/Filter/Price.php on line 197`. _Correctif soumis par Nikita Sarychev dans la demande de tirage [29214](https://github.com/magento/magento2/pull/29214)_. [GitHub-29213](https://github.com/magento/magento2/issues/29213)

<!-- ENGCOM-7911 -->

* Ajout d’un point d’extension pour prendre en charge l’ajout d’HTML à la page de catégorie. Cette opération corrige un bug qui avait été introduit par une requête de tirage précédente. _Correctif soumis par iGerchak dans la demande de tirage [29291](https://github.com/magento/magento2/pull/29291)_. [GitHub-29286](https://github.com/magento/magento2/issues/29286)

### Navigation superposée

<!-- MC-25043-->

* La barre latérale de navigation superposée affiche désormais les attributs booléens avec les deux options (**oui**/**non**) et les nombres de produits correspondants. Auparavant, la navigation par couches ne renvoyait pas d’option **no** pour les attributs booléens dans les déploiements utilisant Elasticsearch.

<!-- ENGCOM-7493-->

* Le filtre de navigation en calques d’échantillon est désormais cohérent avec les filtres standard utilisés dans Magento Open Source. _Correctif soumis par Bartłomiej Szubert dans la demande de tirage [28015](https://github.com/magento/magento2/pull/28015)_. [GitHub-28011](https://github.com/magento/magento2/issues/28011)

### Journalisation

<!-- ENGCOM-7692-->

* Toutes les erreurs de référence rompues sont désormais consignées lorsque les déploiements sont en mode Développeur uniquement. Auparavant, une erreur était également consignée pour les déploiements en mode de production, ce qui gonflait les journaux d’erreurs. _Correctif soumis par Bartłomiej Szubert dans la demande de tirage [28735](https://github.com/magento/magento2/pull/28735)_. [GitHub-26504](https://github.com/magento/magento2/issues/26504)

### Galerie de médias

<!-- ENGCOM-8014-->

* L’interface utilisateur de configuration de la Galerie de médias (Admin **Magasins** > **Configuration** >   **Avancé** > **Système** ) a été réorganisé. _Correctif soumis par Shankar Konar dans la demande de tirage [29433](https://github.com/magento/magento2/pull/29433)_. [GitHub-28011](https://github.com/magento/adobe-stock-integration/issues/1738)

<!-- ENGCOM-7972 -->

* Ajout de tests pour couvrir les liens **Utilisé dans** pour une image dans la galerie de médias. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29392](https://github.com/magento/magento2/pull/29392)_. [GitHub-1969](https://github.com/magento/adobe-stock-integration/issues/1693)

### MFTF

<!-- ENGCOM-7963 -->

* Les `AdminSubmitAdvancedInventoryFormActionGroup` , `AdminClickOnAdvancedInventoryLinkActionGroup` et  `AdminSetStockStatusConfigActionGroup` groupes d’actions sont désormais utilisés dans les tests, conformément aux bonnes pratiques. _Correctif soumis par Oleh USIA dans la demande de tirage [29386](https://github.com/magento/magento2/pull/29386)_. [GitHub-29420](https://github.com/magento/magento2/issues/29420)

<!-- ENGCOM-7964 -->

* `SearchProductGridByKeywordActionGroup` est désormais utilisé pour la recherche dans la grille de produits. _Correctif soumis par Oleh Usik dans la demande de tirage [29385](https://github.com/magento/magento2/pull/29385)_. [GitHub-29434](https://github.com/magento/magento2/issues/29434)

<!-- ENGCOM-7915 -->

* `AdminCategoriesClickDoneButtonOnPopupActionGroup` est maintenant utilisé pour cliquer sur **Terminé** dans la fenêtre contextuelle Rechercher des catégories. _Correctif soumis par Oleh Usik dans la demande de tirage [28989](https://github.com/magento/magento2/pull/28989)_. [GitHub-29380](https://github.com/magento/magento2/issues/29380)

<!-- ENGCOM-7529 -->

* `LoginToStorefrontActionGroup` est désormais utilisé pour remplacer une séquence d’actions utilisée pour la connexion du client store front. _Correctif soumis par Sathish Subramanian dans la demande de tirage [28113](https://github.com/magento/magento2/pull/28113)_. [GitHub-28165](https://github.com/magento/magento2/issues/28165)

<!-- ENGCOM-7590 -->

* `AdminUpdateCustomURLRewritesPermanentTest` a été restructuré pour répondre aux meilleures pratiques du MFTF. _Correctif soumis par Kate Kyzyma dans la demande de tirage [28361](https://github.com/magento/magento2/pull/28361)_. [GitHub-28393](https://github.com/magento/magento2/issues/28393)

<!-- ENGCOM-7343 -->

* Les noms des tests ont été modifiés pour respecter les conventions MFTF. _Correctif soumis par Evgeny Levinsky dans la demande de tirage [27839](https://github.com/magento/magento2/pull/27839)_. [GitHub-28305](https://github.com/magento/magento2/issues/28305)

#### Nouveaux groupes d’action

<!-- ENGCOM-7991 -->

* `StorefrontCheckoutClickNextButtonActionGroup` _Correctif soumis par Oleh Usik dans la demande de tirage [29472](https://github.com/magento/magento2/pull/29472)_. [GitHub-29539](https://github.com/magento/magento2/issues/29539)

<!-- ENGCOM-7857 -->

* `AdminProductFormSaveActionGroup`_Correctif soumis par Oleh Usik dans la demande de tirage [29142](https://github.com/magento/magento2/pull/29142)_. [GitHub-29292](https://github.com/magento/magento2/issues/29292)

<!-- ENGCOM-7928 -->

* `AdminSaveCategoryActionGroup` _Correctif soumis par Oleh Usik dans la demande de tirage [28993](https://github.com/magento/magento2/pull/28993)_. [GitHub-29388](https://github.com/magento/magento2/issues/29388)

<!-- ENGCOM-7790 -->

* `AdminProductGridSectionClickFirstRowActionGroup` _Correctif soumis par Oleh Usik dans la demande de tirage [29000](https://github.com/magento/magento2/pull/29000)_. [GitHub-29295](https://github.com/magento/magento2/issues/29295)

<!-- ENGCOM-7591 -->

* `AdminProductFormCategoryExistInCategoryListActionGroup` et `AdminProductFormCategoryNotExistInCategoryListActionGroup` _Correctif soumis par Alexander Steshuk dans la demande de tirage [28287](https://github.com/magento/magento2/pull/28287)_. [GitHub-28392](https://github.com/magento/magento2/issues/28392)

<!-- ENGCOM-7867 -->

* `AdminExpandCategoryTreeActionGroup` _Correctif soumis par Oleh Usik dans la demande de tirage [29133](https://github.com/magento/magento2/pull/29133)_. [GitHub-29289](https://github.com/magento/magento2/issues/29289)

<!-- ENGCOM-7881 -->

* `AdminTaxRateGridOpenPageActionGroup` _Correctif soumis par Oleh Usik dans la demande de tirage [29007](https://github.com/magento/magento2/pull/29007)_. [GitHub-29281](https://github.com/magento/magento2/issues/29281)

<!-- ENGCOM-7868 -->

* `AdminNavigateNewCustomerActionGroup` _Correctif soumis par Oleh Usik dans la demande de tirage [29134](https://github.com/magento/magento2/pull/29134)_. [GitHub-29287](https://github.com/magento/magento2/issues/29287)

#### Nouveaux tests

<!-- ENGCOM-7600 -->

* Ajout d’un test pour la suppression d’une page CMS en tant qu’utilisateur administrateur. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28112](https://github.com/magento/magento2/pull/28112)_. [GitHub-28202](https://github.com/magento/magento2/issues/28202)

* Ajout du test `StorefrontShareCustomerWishlistActionGroup` pour le partage de listes de souhaits de clients avec des adresses électroniques non valides. Le test existant pour le partage de liste de souhaits (`StorefrontShareWishlistEntityTest`) a été restructuré. `StorefrontCustomerShareWishlistActionGroup` a été abandonné.

<!-- ENGCOM-7682 -->

* Ajout d’un test pour vérifier l’implémentation du paramètre de configuration **Seuil gauche X uniquement**. _Correctif soumis par Oleh Usik dans la demande de tirage [27549](https://github.com/magento/magento2/pull/27549)_. [GitHub-28755](https://github.com/magento/magento2/issues/28755)

### Newsletter

<!-- MC-34714-->

* L’exportation de la liste des abonnés à la newsletter à l’aide de l’option `EXCEL XML` entraîne désormais l’exportation de toutes les lignes comme prévu. Auparavant, les données exportées incluaient uniquement la valeur de pagination de la page, et non toutes les lignes.

<!-- ENGCOM-7522-->

* Les e-mails d’abonnement à une newsletter utilisent désormais les mêmes balises HTML que les autres e-mails liés à la newsletter. _Correctif soumis par Paweł Tylek dans la demande de tirage [27357](https://github.com/magento/magento2/pull/27357)_. [GitHub-28165](https://github.com/magento/magento2/issues/28165)

<!-- ENGCOM-7788-->

* Ajout d’un test pour la suppression d’un abonné à une newsletter en tant qu’utilisateur administrateur. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28972](https://github.com/magento/magento2/pull/28972)_. [GitHub-29032](https://github.com/magento/magento2/issues/29032)

<!-- ENGCOM-7739-->

* Ajout de tests pour l’abonnement à la newsletter des invités avec une option non autorisée dans les instructions de configuration. Ce test remplace les `VerifyRegistredLinkDisplayedForGuestSubscriptionNoTest` et `StorefrontCreateNewSubscriberActionGroup` obsolètes. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28872](https://github.com/magento/magento2/pull/28872)_. [GitHub-29039](https://github.com/magento/magento2/issues/29039)

### Commandes

<!-- ENGCOM-7858-->

* Le `GetAssetIdByContentFieldInterface` et son implémentation sur les modules `MediaContent` permettent désormais à l’intégration d’Adobe Stock d’étendre `MediaGallery` fonctionnalité de filtrage. _Correctif soumis par Gabriel da Gama dans la demande de tirage [29058](https://github.com/magento/magento2/pull/29058)_. [GitHub-1464](https://github.com/magento/magento2/issues/1464)

<!-- ENGCOM-7885-->

* Les valeurs `CustomerAddressId` d’un nouveau client sont désormais validées entre guillemets. _Correctif soumis par Andrii Kalinich dans la demande de tirage [29139](https://github.com/magento/magento2/pull/29139)_. [GitHub-28793](https://github.com/magento/magento2/issues/28793)

<!-- ENGCOM-7798-->

* Le statut de commande d&#39;un avoir dont le total est nul est désormais `Closed`. Auparavant, l’application indiquait que son statut de commande était `Complete`. _Correctif soumis par Andrii Kalinich dans la demande de tirage [29023](https://github.com/magento/magento2/pull/29023)_. [GitHub-22762](https://github.com/magento/magento2/issues/22762)

### Modes de paiement

<!-- MC-34363-->

* L’application affiche désormais un message qui vous invite à saisir les données de carte de crédit obligatoires lorsque vous cliquez sur **Soumettre** pour une commande Admin sans saisir d’informations de paiement valides. Auparavant, le programme de validation de carte Braintree ne générait pas d’erreur lorsque les champs d’entrée de paiement n’étaient pas valides et que la page devenait inactive.

<!-- MC-33494-->

* Vous pouvez désormais modifier la méthode d’expédition d’une commande que vous créez à partir de l’administrateur pour un client dont le compte dispose d’une carte de crédit stockée (Braintree). Auparavant, lorsque vous sélectionniez un autre mode d’expédition, la carte stockée n’était pas sélectionnée et l’application ne passait pas de commande.

#### PayPal

<!-- MC-33879-->

* La page de révision des commandes du workflow de passage en caisse affiche désormais le montant d’expédition correct pour PayPal via les commandes Braintree pour lesquelles le mode d’expédition a été modifié lors du passage en caisse. Auparavant, lorsqu’un client modifiait la méthode d’expédition sur la page de Vérification des commandes PayPal du workflow de passage en caisse, l’application ne mettait pas à jour le total de la commande avec la méthode appropriée.

<!-- MC-34152-->

* Les commerçants peuvent désormais annuler avec succès les commandes autorisées à l&#39;aide de PayPal. Auparavant, l’application n’annulait pas la commande et affichait cette erreur : `Declined: 10601-Authorization has expired`.

<!-- MC-33330-->

* L&#39;application ne vide plus votre panier lorsque vous annulez une commande en fermant la fenêtre contextuelle de paiement PayPal après avoir d&#39;abord effectué une autre commande.

### Performances

* Trois nouveaux paramètres de configuration prennent en charge une diminution de la consommation de CPU des files d’attente des consommateurs. Ces paramètres facultatifs permettent de mieux contrôler les consommateurs et d’économiser les ressources du serveur. Voir [Configurer des files d’attente de messages](https://developer.adobe.com/commerce/php/development/components/message-queues/configuration/) pour une description des paramètres `maxIdleTime`, `sleep` et `onlySpawnWhenMessageAvailable`.

<!-- MC-31617-->

* La configuration de la liste de plug-ins est maintenant générée lors de l’exécution de la commande `di:compile`. Ces informations de configuration sont écrites dans des dossiers de métadonnées générés en fonction de la portée. Auparavant, ces informations étaient stockées dans le cache. Les améliorations de performances obtenues sont les suivantes :

   * La taille du cache réseau a diminué
   * Le temps d’exécution de nombreux scénarios a été amélioré.

<!-- ENGCOM-7290-->

* L’application charge désormais le widget de curseur approprié à la demande, ce qui a amélioré le chargement de la page. La personnalisation du widget du curseur tactile a été déplacée vers un fichier distinct afin qu’il ne puisse être chargé que sur les appareils compatibles. Le type de widget de curseur approprié n’est désormais chargé que lorsque la liaison de plage est réellement utilisée sur la page. _Correctif soumis par Mateusz Krzeszowiak dans la demande de tirage [27616](https://github.com/magento/magento2/pull/27616)_. [GitHub-28807](https://github.com/magento/magento2/issues/28807)

<!-- MC-33107-->

* Les performances de passage en caisse avec plusieurs commandes simultanées ont été améliorées.

<!-- MC-25062-->

* Les blocages ne se produisent plus lorsque le processus d&#39;importation exécute une insertion en bloc et que le processus de réindexation exécute simultanément une insertion volumineuse à partir de la sélection. Auparavant, l’application affichait cette erreur : `PDOException: SQLSTATE[40001]: Serialization failure: 1213 Deadlock found when trying to get lock`. [GitHub-8933](https://github.com/magento/magento2/issues/8933)

### Examens

<!-- MC-33405-->

* Une clé unique pour `entity_pk_value-entity_type-store_id` a été ajoutée au tableau `review_entity_summary`, ce qui empêche la création de lignes en double pour le même ID de produit (`entity_pk_value`). Auparavant, cette absence de clé unique entraînait des lignes en double pour le même ID de produit et des erreurs SQL.

### Ventes

<!-- MC-35675-->

* L&#39;application n&#39;affecte plus le statut `Complete` après la facturation d&#39;une commande qui ne nécessite aucun paiement.

<!-- MC-35888-->

* Le nouvel e-mail d’expédition généré par l’API REST contient désormais les mêmes informations d’expédition et de client que les expéditions créées manuellement à partir de l’administration. Auparavant, cet e-mail ne contenait pas le nom du client, les informations de suivi, les produits commandés et d’autres informations sur la commande.

<!-- MC-35837-->

* Les noms d’utilisateurs invités sont désormais visibles comme prévu dans les e-mails relatifs à la facture et à l’expédition lorsque les e-mails sont chargés ou personnalisés à partir de l’administration.

<!-- MC-35707-->

* La facture PDF est maintenant traduite dans la langue de la vue du magasin où la commande a été passée. Auparavant, la facture PDF était traduite dans la langue de l’administrateur.

<!-- MC-35858-->

* Vous pouvez maintenant émettre un remboursement comme prévu à partir de la page avoir. [GitHub-29014](https://github.com/magento/magento2/issues/29014)

<!-- MC-35353-->

* Les noms de zones localisées qui s’affichent sur la page Commande du storefront sont désormais correctement traduits. Auparavant, le nom de la région n’était pas basé sur le paramètre régional spécifié, sauf s’il était modifié dans l’administration.

<!-- MC-35633-->

* Les expéditions créées via le point d’entrée POST `/rest/V1/shipment` mettent désormais correctement à jour les commandes. Auparavant, l&#39;application créait une expédition, mais le statut de l&#39;expédition restait à l&#39;état Traitement.

<!-- ENGCOM-7639 -->

* Les avoirs affichent désormais le mode de paiement dérivé de l&#39;étendue du magasin dans lequel la commande a été effectuée. Auparavant, les avoirs affichaient le nom tel que défini dans la portée de magasin par défaut. _Correctif soumis par Ledian Hymetllari dans la demande de tirage [27582](https://github.com/magento/magento2/pull/27582)_. [GitHub-27570](https://github.com/magento/magento2/issues/27570)

### Rechercher {#search-heading}

<!-- MC-31304-->

* Vous pouvez désormais rechercher des produits par attribut à partir de l’aperçu client Admin à l’aide de la recherche rapide. Auparavant, une exception s’était produite sur la page des résultats de la recherche catalogue.

<!-- MC-32518-->

* L’application affiche désormais les produits configurables sur la page de catégorie comme prévu après l’ajout d’un attribut de produit.

<!-- MC-33952-->

* Les résultats Elasticsearch incluent désormais les valeurs correctes pour les options d’attribut de chaque vue de magasin. Si un attribut `Dropdown` ou `Multiple Select` a une valeur d’option différente dans l’affichage de la boutique autre que par défaut de celle dans l’affichage de la boutique par défaut, Elasticsearch indexe désormais cette valeur ou renvoie le produit avec cette valeur dans les résultats. Auparavant, Elasticsearch n’indexait pas cette valeur ou ne renvoyait pas le produit avec cette valeur dans les résultats.

<!-- MC-35013-->

* La recherche par SKU fonctionne désormais comme prévu dans la recherche avancée avec Elasticsearch. Auparavant, lorsque vous tentiez d’effectuer une recherche par SKU, l’application affichait le message d’erreur suivant : `We can't find any items matching these search criteria. Modify your search`.

<!-- ENGCOM-7222-->

* La recherche avancée ne permet plus aux acheteurs de filtrer les prix négatifs. _Correctif soumis par Rohan Hapani dans la demande de tirage [27359](https://github.com/magento/magento2/pull/27359)_. [GitHub-27358](https://github.com/magento/magento2/issues/27358)

<!-- ENGCOM-7917-->

* Les valeurs d’étendue sont maintenant réinitialisées comme prévu sur le formulaire Nouveau groupe de synonymes . _Correctif soumis par Sathish Subramanian dans la demande de tirage [29206](https://github.com/magento/magento2/pull/29206)_. [GitHub-28947](https://github.com/magento/magento2/issues/28947)

### Expédition

<!-- MC-34734-->

* L’application calcule désormais correctement les tarifs de la table d’expédition après la mise à niveau. Auparavant, les tarifs de la table d’expédition étaient calculés sur la base du prix net, qui excluait la TVA.

<!-- MC-33737-->

* L’application affiche désormais les taux d’expédition dans la devise appropriée dans le workflow de passage en caisse pour les commandes spécifiant FedEx comme méthode d’expédition.

<!-- MC-33267-->

* Les PDF de plusieurs pages d&#39;étiquettes d&#39;expédition pour les commandes expédiées par UPS affichent désormais le nombre correct.

<!-- MC-35514-->

* Les problèmes liés aux composants JavaScript de la page Créer des packages ont été résolus. Auparavant, l&#39;application n&#39;affichait pas la case à cocher **Créer une étiquette d&#39;expédition** sur cette page et vous ne pouviez pas créer d&#39;étiquette d&#39;expédition pour une commande existante.

### Plan du site

<!-- ENGCOM-7924-->

* Le plan du site dans `robots.txt` est désormais spécifique au magasin . _Correctif soumis par Vadim Malesh dans la demande de tirage [29331](https://github.com/magento/magento2/pull/29331)_. [GitHub-28901](https://github.com/magento/magento2/issues/28901)

<!-- MC-34617-->

* Les valeurs codées sont désormais correctement placées dans une séquence d’échappement dans le fichier `sitemap.xml`. Auparavant, lorsque vous incluiez des caractères codés dans le nom d’un produit ou le titre d’une image, le plan de site généré n’était pas valide.

### Stocker

<!-- MC-35853-->

* La suppression d’une vue de magasin créée précédemment n’entraîne plus d’erreur dans les déploiements avec une configuration de base de données fractionnée. Auparavant, l’application générait une exception.

<!-- MC-32634-->

* Vous pouvez désormais exporter le code de site web `config.php` et par défaut d’un site web pour installer et configurer l’application sur un second site web dans un déploiement multisite. Auparavant, le magasin et la vue par défaut disparaissaient après l’exportation et des erreurs se produisaient sur le storefront.

### Swagger

<!-- ENGCOM-7720-->

* Vous pouvez désormais générer un jeton client avec Swagger. Auparavant, Swagger ne générait pas de code de réponse lorsque des informations d’accès client valides étaient saisies, et l’application affichait cette erreur : `The account sign-in was incorrect or your account is disabled temporarily. Please wait and try again later`. _Correctif soumis par Vadim Malesh dans la demande de tirage [28822](https://github.com/magento/magento2/pull/28822)_. [GitHub-27098](https://github.com/magento/magento2/issues/27098)

### Nuanciers

<!-- ENGCOM-7845-->

* Les produits configurables avec des échantillons affichent désormais la tarification de niveau lorsqu’un acheteur clique sur **Modifier** dans le panier. Auparavant, l’application n’affichait pas les prix de niveau dans le panier avant le passage en caisse. _Correctif soumis par Sathish Subramanian dans la demande de tirage [29137](https://github.com/magento/magento2/pull/29137)_. [GitHub-28270](https://github.com/magento/magento2/issues/28270)

<!-- MC-33147-->

* L’application affiche désormais les prix de niveau comme prévu pour les variations de produit configurables.

### Taxe

<!-- MC-36049-->

* L’application n’affiche plus un attribut de taxe de produit fixe sur le storefront pour un produit après qu’un commerçant l’a annulé de l’ensemble d’attributs du produit.

### Test

<!-- ENGCOM-7874-->

* Les erreurs PHPUnit 9 ont été corrigées dans les tests unitaires. _Correctif soumis par Anton Evers dans la demande de tirage [29244](https://github.com/magento/magento2/pull/29244)_. [GitHub-29329](https://github.com/magento/magento2/issues/29329)

<!-- ENGCOM-7995-->

* Des tests unitaires ajoutés pour approuver une commande fournisseur qui a été effectuée avec une remise qui a expiré depuis placeront une commande au montant total et ne mettront pas à jour le total de la commande fournisseur. _Correctif soumis par Joan He dans la demande de tirage [18](https://github.com/magento/partners-magento2-infrastructure/pull/18)_. [GitHub-204](https://github.com/magento/partners-magento2b2b/issues/204)

<!-- ENGCOM-8003-->

* `SynchronizeFilesInterface` est désormais couvert par les tests d’intégration. _Correctif envoyé par jmonteros422 dans la demande de tirage [29493](https://github.com/magento/magento2/pull/29493)_. [GitHub-1742](https://github.com/magento/magento2/issues/1742)

<!-- ENGCOM-8009-->

* Une fonction a été ajoutée à `\Magento\TestFramework\TestCase\WebapiAbstract` qui permet la comparaison de grands tableaux imbriqués de résultats attendus et réels dans les tests et permet aux testeurs d’ignorer les clés non pertinentes dans le résultat réel. _Correctif envoyé par Jekabs dans la demande de tirage [29458](https://github.com/magento/magento2/pull/29458)_. [GitHub-29498](https://github.com/magento/magento2/issues/29498)

<!-- ENGCOM-7887 -->

* Correction de l&#39;inversion de la valeur attendue avec la valeur réelle en `app/code/Magento/Newsletter/Test/Unit/Model/SubscriptionManagerTest.php`. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [29271](https://github.com/magento/magento2/pull/29271)_. [GitHub-29283](https://github.com/magento/magento2/issues/29283)

<!-- ENGCOM-7142 -->

* Les problèmes de sérialisation et de désérialisation des propriétés statiques lors de l’exécution de tests consécutifs ont été résolus. _Correctif soumis par Pavel Bystritsky dans la demande de tirage [26175](https://github.com/magento/magento2/pull/26175)_. [GitHub-28319](https://github.com/magento/magento2/issues/28319), [GitHub-29313](https://github.com/magento/magento2/issues/29313)

<!-- ENGCOM-7886 -->

* L’utilisation de `ObjectManager` pour instancier des classes pendant le test a été remplacée par le nouveau mot-clé dans les tests unitaires. _Correctif soumis par Lukasz Bajsarowicz dans la demande de tirage [29272](https://github.com/magento/magento2/pull/29272)_. [GitHub-29346](https://github.com/magento/magento2/issues/29346)

<!-- ENGCOM-7593 -->

* Une couverture de test a été ajoutée pour ces cas de mutation `updateCustomer` : date de naissance non valide, adresse e-mail non valide et nom de client vide. _Correctif soumis par Alexander Taranovsky dans la demande de tirage [28304](https://github.com/magento/magento2/pull/28304)_. [GitHub-28394](https://github.com/magento/magento2/issues/28394)

<!-- MC-30844-->

* Le client GraphQL `ApiFunctional TestFramework` analyse désormais correctement les en-têtes. [GitHub-26425](https://github.com/magento/magento2/issues/26425)

### Thème

<!-- MC-34397-->

* Les thèmes ajoutés dans les règles de l’agent utilisateur sont désormais affectés comme prévu lorsque vous exécutez `bin/magento catalog:images:resize`. Auparavant, seuls les thèmes affectés aux magasins étaient affectés lorsque `bin/magento catalog:images:resize` était exécuté.

### Traduction et paramètres régionaux

<!-- MC-20372-->

* L’application ne renvoie plus d’erreur lorsqu’un administrateur modifie le champ **Date** lors de la création du produit d’administration ou l’enregistre lorsque les paramètres régionaux d’administration sont chinois ou japonais. [GitHub-24696](https://github.com/magento/magento2/issues/24696)

<!-- ENGCOM-7829-->

* L’application vérifie désormais la zone (front-end ou `adminhtml`) avant d’effectuer le rendu des balises de traduction intégrées. Auparavant, l’exécution d’un appel API vers `POST /V1/integration/admin/token` avec des informations d’identification incorrectes alors que la traduction en ligne était activée entraînait l’inclusion d’un balisage de traduction en ligne autour du message d’erreur dans la réponse API. _Correctif soumis par Zach Nanninga dans la demande de tirage [28856](https://github.com/magento/magento2/pull/28856)_. [GitHub-28656](https://github.com/magento/magento2/issues/28656)

<!-- ENGCOM-7536-->

* Les régions bulgares ont été ajoutées au tableau `directory_country_region`. _Correctif soumis par Nikola Lardev dans la demande de tirage [27957](https://github.com/magento/magento2/pull/27957)_. [GitHub-28215](https://github.com/magento/magento2/issues/28215)

<!-- ENGCOM-7535-->

* Les titres et boutons des modèles Admin **Clients** > **Ajouter une nouvelle adresse** et **Modifier le produit** > **Inventaire avancé** peuvent désormais être traduits. _Correctif soumis par Sathish Subramanian dans la demande de tirage [28174](https://github.com/magento/magento2/pull/28174)_. [GitHub-28201](https://github.com/magento/magento2/issues/28201)

<!-- ENGCOM-7521-->

* Le terme FPT peut désormais être traduit dans Admin **Magasins** > **Configuration** > **Ventes** > **Taxes** > **Taxes sur les produits fixes**. _Correctif soumis par Vadim Malesh dans la demande de tirage [28108](https://github.com/magento/magento2/pull/28108)_. [GitHub-5477](https://github.com/magento/magento2/issues/5477)

<!-- ENGCOM-7631 -->

* Le libellé du bouton **Expédier ici** sur la fenêtre modale d’adresse d’expédition du workflow de passage en caisse a été modifié pour correspondre à la casse mixte utilisée pour d’autres boutons. Cette casse correspond désormais à la casse utilisée dans les fichiers de traduction. Auparavant, en raison de l’incohérence de la casse, ce libellé n’était pas traduit. _Correction envoyée par WK dans la demande de tirage [28547](https://github.com/magento/magento2/pull/28547)_. [GitHub-28685](https://github.com/magento/magento2/issues/28685)

### Interface utilisateur

<!-- ENGCOM-7514-->

* Le lien de la politique de confidentialité et des cookies dans le pied de page s’affiche désormais en tant que lien actif lorsque la page Politique de confidentialité et de cookies s’affiche. _Correctif soumis par Sathish Subramanian dans la demande de tirage [28004](https://github.com/magento/magento2/pull/28004)_. [GitHub-27985](https://github.com/magento/magento2/issues/27985)

<!-- MC-36260-->

* Correction d&#39;un mauvais alignement du curseur dans la zone de texte Commentaires sur la facture associée à une commande que vous avez sélectionnée dans Admin **Ventes** > **Commandes**.

<!-- MC-36044-->

* La page Créer une commande affiche désormais les boutons **Ajouter des produits par SKU** et **Ajouter des produits** comme prévu.

<!-- MC-35974-->

* L’application affiche désormais correctement la page Modifier la révision lorsqu’une évaluation de produit est disponible pour le produit sélectionné.

<!-- MC-35475-->

* L’application affiche désormais correctement la page de modification du client administrateur sur un iPhone exécutant Safari.

<!-- MC-35370-->

* Correction du défilement inutile de la page Créer une commande .

<!-- MC-35345-->

* Cliquer directement sur le bouton **Exporter les taux de taxe** de la page Ajouter une nouvelle règle de taxe (**Magasins** > **Règles de taxe**) télécharge désormais le fichier `tax_rates.csv` comme prévu. Auparavant, les commerçants devaient cliquer sur le bord du bouton **Taux de taxe à l&#39;exportation**. Il s’agissait d’un problème connu dans la version 2.4.0.

<!-- MC-35313-->

* Le bouton **Ajouter des sélections à mon panier** situé en bas du panier fonctionne désormais comme prévu. Il s’agissait d’un problème connu dans la version 2.4.0.

<!-- MC-35296-->

* Le bouton **Actualiser** de la section **Produits récemment consultés** de la page Activités du client fonctionne désormais comme prévu. Auparavant, lorsque vous cliquiez sur **Actualiser**, la liste des produits n’était pas actualisée et la page défilait.

<!-- MC-35412-->

* L’application affiche désormais correctement l’icône de calendrier utilisée pour sélectionner la date de naissance d’un client ou d’une cliente dans l’onglet Conditions de **Clients** > **Segments** > **Ajouter un segment**.

<!-- MC-35658-->

* La section de résumé du passage en caisse du workflow de passage en caisse ne scintille plus lorsqu’un acheteur fait défiler cette page dans Internet Explorer 11.x.

<!-- MC-34602-->

* L’application affiche désormais correctement le widget Trier par SKU sur la page Catégorie de storefront. Auparavant, le code HTML de ce widget n’était pas rendu et le lien **Charger une liste de SKU** n’était pas affiché dans l’application.

<!-- MC-37444-->

* Les composants de l’interface utilisateur qui ont été désactivés à l’aide de `this.disabled(true)` n’apparaissent plus sur le storefront. [GitHub-29098](https://github.com/magento/magento2/issues/29098)

<!-- ENGCOM-7264-->

* L’application affiche désormais correctement le widget de produits récemment consultés dans la vue mobile. _Correctif soumis par Tu Nguyen dans la demande de tirage [27572](https://github.com/magento/magento2/pull/27572)_. [GitHub-27058](https://github.com/magento/magento2/issues/27058)

<!-- ENGCOM-7575-->

* La modification de la position d’un produit à partir de l’administration se reflète désormais dans la position du produit sur le storefront. _Correctif soumis par Oleg Aleksin dans la demande de tirage [28150](https://github.com/magento/magento2/pull/28150)_. [GitHub-28149](https://github.com/magento/magento2/issues/28149)

<!-- ENGCOM-7507-->

* Le style du formulaire de connexion est désormais cohérent avec le style des autres formulaires du thème Vide . Les styles inutiles qui définissent la largeur des champs d&#39;entrée de retour à la ligne de contrôle conteneur ont été supprimés. _Correctif soumis par Tu Nguyen dans la demande de tirage [28084](https://github.com/magento/magento2/pull/28084)_. [GitHub-28059](https://github.com/magento/magento2/issues/28059)

<!-- ENGCOM-7578-->

* Le bouton **OK** sur le pop-up de confirmation de suppression de produit du mini panier se comporte désormais comme prévu. _Correctif soumis par Tu Nguyen dans la demande de tirage [28083](https://github.com/magento/magento2/pull/28083)_. [GitHub-27095](https://github.com/magento/magento2/issues/27095)

<!-- ENGCOM-7456-->

* Les éléments de la galerie de produits ne clignotent plus lors du chargement de la page. _Correctif soumis par Mateusz Krzeszowiak dans la demande de tirage [27871](https://github.com/magento/magento2/pull/27871)_. [GitHub-28339](https://github.com/magento/magento2/issues/28339)

<!-- ENGCOM-8007-->

* La classe CSS qui contrôle la largeur des champs est désormais appliquée comme prévu pour l’élément Start Time dans l’ensemble de l’administration. _Correctif soumis par Shankar Konar dans la demande de tirage [29511](https://github.com/magento/magento2/pull/29511)_. [GitHub-29496](https://github.com/magento/magento2/issues/29496)

<!-- ENGCOM-7992-->

* Le libellé de texte des termes et conditions peut désormais afficher correctement des chaînes de texte plus longues. _Correctif soumis par Bartłomiej Szubert dans la demande de tirage [29413](https://github.com/magento/magento2/pull/29413)_. [GitHub-24060](https://github.com/magento/magento2/issues/24060)

<!-- ENGCOM-7967-->

* Le titre de la page d’échec de commande a été réécrit pour plus de précision. Auparavant, lorsqu’un acheteur annulait une commande, l’application affichait une page avec le titre suivant : `We received your order!`. _Correctif soumis par Angelo Romano dans la demande de tirage [29410](https://github.com/magento/magento2/pull/29410)_. [GitHub-29416](https://github.com/magento/magento2/issues/29416)

<!-- ENGCOM-7770-->

* Le nombre total d&#39;articles annulés sur la page d&#39;affichage des commandes annulées est maintenant correctement identifié sur la page d&#39;affichage des commandes annulées. Auparavant, ce champ était intitulé **Total dû**. _Correctif soumis par Madhu Rajawat dans la demande de tirage [27516](https://github.com/magento/magento2/pull/27516)_. [GitHub-26191](https://github.com/magento/magento2/issues/26191)

<!-- ENGCOM-7579 -->

* Le bouton bascule de la page Créer un produit configurable fonctionne désormais comme prévu. _Correctif soumis par Tu Nguyen dans la demande de tirage [28032](https://github.com/magento/magento2/pull/28032)_. [GitHub-22702](https://github.com/magento/magento2/issues/22702)

<!-- ENGCOM-7579 -->

* L’icône de bloc des propriétés d’attribut avancées de la page Propriétés d’attribut avancées se comporte désormais comme prévu. _Correctif soumis par Tu Nguyen dans la demande de tirage [28032](https://github.com/magento/magento2/pull/28032)_. [GitHub-26022](https://github.com/magento/magento2/issues/26022)

<!-- ENGCOM-7619 -->

* La section Admin de la page de configuration du système se développe désormais pour afficher les champs requis comme prévu lorsque vous essayez d’enregistrer les paramètres de configuration pour un nouveau module. _Correctif soumis par Bartłomiej Szubert dans la demande de tirage [28285](https://github.com/magento/magento2/pull/28285)_. [GitHub-26427](https://github.com/magento/magento2/issues/26427)

<!-- ENGCOM-7826 -->

* Correction du comportement de la loupe lorsque le mode est défini sur `inside`. _Correctif soumis par Sean van Zuidam dans la demande de tirage [29077](https://github.com/magento/magento2/pull/29077)_. [GitHub-29076](https://github.com/magento/magento2/issues/29076)

<!-- ENGCOM-7010 -->

* Correction de la largeur distrayante du champ d’entrée qui se produisait lorsqu’un acheteur saisissait une adresse e-mail non valide dans le champ s’abonner du pied de page. _Correctif soumis par Dipesh Rangani dans la demande de tirage [27106](https://github.com/magento/magento2/pull/27106)_. [GitHub-27099](https://github.com/magento/magento2/issues/27099)

<!-- ENGCOM-7972 -->

* Une erreur `Uncaught ReferenceError` ne s’affiche plus dans la console de développement lorsque vous ajoutez une nouvelle balise et que vous placez le curseur de la souris dessus. _Correctif soumis par Nazar Klovanych dans la demande de tirage [29392](https://github.com/magento/magento2/pull/29392)_. [GitHub-1700](https://github.com/magento/magento2/issues/1700)

### Réécritures d’URL

<!-- MC-34483-->

* Le déplacement d’une vue de boutique vers un autre site web ne réinitialise plus les URL. Auparavant, l’application régénérait incorrectement le CMS et les réécritures d’URL de produit.

<!-- MC-33028-->

* L’application conserve désormais les réécritures d’URL de catalogue existantes comme prévu lorsqu’une vue de magasin est affectée à un autre magasin. Auparavant, l’application supprimait les réécritures d’URL spécifiques au magasin.

### Vernis

<!-- ENGCOM-7761-->

* Le redémarrage du vernis n’entraîne plus d’erreurs 503. _Correctif soumis par Ihor Sviziev dans la demande de tirage [28137](https://github.com/magento/magento2/pull/28137)_. [GitHub-24353](https://github.com/magento/magento2/issues/24353)

### Coffre

<!-- MC-34674-->

* L’application n’enregistre plus les numéros de carte de crédit lorsque la case **Enregistrer pour une utilisation ultérieure** située dans la section Paiement du workflow de passage en caisse n’est pas sélectionnée.

### Framework d’API web

<!-- MC-35838-->

* Les commerçants disposant de plusieurs sites web peuvent désormais utiliser l’API REST pour créer et mettre à jour des produits tout en préservant l’héritage des rôles d’image et d’image. Auparavant, lorsqu’un commerçant utilisait l’API REST pour créer et mettre à jour des produits et qu’un produit était mis à jour pour la vue du magasin, les rôles d’image par défaut étaient chargés et enregistrés pour cette vue du magasin. Par conséquent, les rôles d’image store-view ont cessé d’hériter de l’étendue par défaut après la mise à jour.

<!-- MC-36419-->

* Un compte utilisateur d’intégration sans portée peut désormais accéder à une ressource via l’API REST lorsque les autorisations de ressource l’autorisent.

<!-- MC-35975-->

* Les filtres de critères de recherche fonctionnent désormais comme prévu pour les attributs de produit utilisés lors de la création d’un produit configurable. [GitHub-29126](https://github.com/magento/magento2/issues/29126)

<!-- ENGCOM-7785 -->

* L’ID de groupe client est désormais validé pour les requêtes de `/rest/V1/customers` POST. Auparavant, l’application n’affichait pas de message d’erreur lorsque vous utilisiez un `group_id` non valide dans ces requêtes. _Correctif soumis par Vadim Malesh dans la demande de tirage [28903](https://github.com/magento/magento2/pull/28903)_. [GitHub-28064](https://github.com/magento/magento2/issues/28064)

<!-- ENGCOM-7611 -->

* Les sessions PHP ne sont pas créées par défaut pour les appels REST anonymes. Auparavant, les sessions démarraient même lorsqu’elles étaient inutiles. _Correctif soumis par Maciej Pawłowski dans la demande de tirage [26032](https://github.com/magento/magento2/pull/26032)_. [GitHub-7213](https://github.com/magento/magento2/issues/7213)

<!-- ENGCOM-7612 -->

* L’utilisation de divers points d’entrée REST pour mettre à jour des commandes contenant une option personnalisée ne supprime plus les informations de l’option personnalisée. Auparavant, les valeurs dans `info_buyRequest` étaient supprimées. _Correctif soumis par Vadim Malesh dans la demande de tirage [28483](https://github.com/magento/magento2/pull/28483)_. [GitHub-22431](https://github.com/magento/magento2/issues/22431)

<!-- ENGCOM-7665 -->

* L’utilisation de GET `V1/customers/me` respecte désormais le paramètre **Partager les comptes client** (Admin **Magasins** > **Configuration** > **Clients** > **Configuration client** > **Options de partage de compte**) lors de la récupération des informations utilisateur. _Correctif soumis par Pavel Bystritsky dans la demande de tirage [28213](https://github.com/magento/magento2/pull/28213)_. [GitHub-26089](https://github.com/magento/magento2/issues/26089)

<!-- ENGCOM-7563 -->

* Les attributs d’extension liés aux adresses peuvent être définis sous la forme de tableaux de données. Auparavant, l’application générait une erreur lorsqu’une requête POST contenant  `extension_attributes` a été envoyé à `estimate-shipping-methods`. Ce bug, qui a été introduit par une validation précédente, affectait tout attribut d’extension défini sur des `Magento\Quote\Api\Data\AddressInterface` qui n’étaient pas des objets . _Correctif soumis par Alexander Menk dans la demande de tirage [27338](https://github.com/magento/magento2/pull/27338)_. [GitHub-26682](https://github.com/magento/magento2/issues/26682)

<!-- ENGCOM-7618 -->

* Vous pouvez désormais spécifier un champ unique lors de la mise à jour d’un client avec le point d’entrée de `V1/customers/:id` PUT. Auparavant, le point d’entrée vous obligeait à spécifier l’e-mail du client et d’autres champs requis pour créer un client. _Correctif soumis par Vadim Malesh dans la demande de tirage [28332](https://github.com/magento/magento2/pull/28332)_. [GitHub-21237](https://github.com/magento/magento2/issues/21237)

### Liste de souhaits

<!-- MC-35622-->

* Les clients peuvent désormais modifier la quantité d’un produit dans une liste de souhaits à partir de la liste de souhaits elle-même. Auparavant, l’application ne mettait pas à jour la quantité de produit et n’affichait pas de message.

<!-- MC-35618-->

* Les clients peuvent désormais modifier la quantité d’un produit regroupé dans une liste de souhaits à partir de la liste de souhaits elle-même. Auparavant, l’application ne mettait pas à jour la quantité de produit et n’affichait pas de message.

<!-- ENGCOM-7580-->

* Les polyremplissages pour `Map`, `WeakMap`, `FormData` et `MutationObserver` ne sont désormais chargés que si nécessaire. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28330](https://github.com/magento/magento2/pull/28330)_. [GitHub-28377](https://github.com/magento/magento2/issues/28377)

<!-- ENGCOM-7561-->

* Le processus de mise à jour de liste de souhaits prend désormais en charge la mise à jour simultanée d&#39;un élément de liste de souhaits et de sa description. _Correctif soumis par Eduard Chitoraga dans la demande de tirage [28222](https://github.com/magento/magento2/pull/28222)_. [GitHub-28261](https://github.com/magento/magento2/issues/28261)

<!-- ENGCOM-7660-->

* Ajout d’un test permettant de partager la liste de souhaits d’un client avec un nombre d’e-mails supérieur au nombre autorisé. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28641](https://github.com/magento/magento2/pull/28641)_. [GitHub-28720](https://github.com/magento/magento2/issues/28720)

<!-- MC-36250-->

* Les administrateurs peuvent désormais configurer un produit configurable qui a été ajouté par un client à une liste de souhaits à partir d’un magasin autre que celui par défaut. Auparavant, lorsque le client avait également ajouté le produit configurable à partir d’un magasin autre que celui par défaut, l’application générait une erreur.

<!-- ENGCOM-7660-->

* Ajout d’un test permettant de partager la liste de souhaits d’un client avec un nombre d’e-mails supérieur au nombre autorisé. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28641](https://github.com/magento/magento2/pull/28641)_. [GitHub-28720](https://github.com/magento/magento2/issues/28720)

<!-- ENGCOM-7674-->

* Ajout d’un test pour la suppression d’éléments de la liste de souhaits d’un client en tant qu’utilisateur administrateur. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28632](https://github.com/magento/magento2/pull/28632)_. [GitHub-28721](https://github.com/magento/magento2/issues/28721)

<!-- ENGCOM-7675-->

* Ajout d’un test pour la désactivation de la fonctionnalité de liste de souhaits. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28635](https://github.com/magento/magento2/pull/28635)_. [GitHub-28744](https://github.com/magento/magento2/issues/28744)

<!-- ENGCOM-7580-->

* Ajout d’un test pour l’utilisation d’adresses e-mail non valides lors du partage des listes de souhaits des clients. `StorefrontShareWishlistEntityTest` a été refactorisé. `StorefrontCustomerShareWishlistActionGroup` a été abandonné. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28330](https://github.com/magento/magento2/pull/28330)_. [GitHub-28377](https://github.com/magento/magento2/issues/28377)

<!-- ENGCOM-7717-->

* Ajout d’un test pour le partage de la liste de souhaits d’un client qui dépasse la limite de longueur de texte autorisée. _Correctif soumis par Dmitry Tsymbal dans la demande de tirage [28812](https://github.com/magento/magento2/pull/28812)_. [GitHub-28969](https://github.com/magento/magento2/issues/28969)

## Problèmes connus

**Problème** : la nouvelle fonctionnalité CAPTCHA pour le passage en caisse ne fonctionne pas comme prévu sur la page Passer une commande lors de l’utilisation de fournisseurs de paiement tiers. Les commerçants exécutant la version 2.3.6 ou 2.4.1 qui ont activé la protection CAPTCHA sur la page de storefront Place Order verront cette erreur lors du passage en caisse avec un fournisseur de paiement tiers tel que PayPal : `Please provide CAPTCHA code and try again`. **Solution** : un correctif pour ce problème est désormais disponible. Consultez l’article de la base de connaissances [Magento Open Source v2.3.6/2.4.1 CAPTCHA dans la &#x200B;](https://support.magento.com/hc/en-us/articles/360051235772) de passage en caisse qui ne fonctionne pas. Un correctif sera également inclus dans notre prochain correctif trimestriel (Q12021).

**Problème** : les utilisateurs sans privilèges d’administrateur ne peuvent actuellement pas configurer leur accès 2FA personnel. 2FA comprend deux rôles ACL. Un rôle affecte la configuration globale du système et n&#39;est nécessaire que lors de la configuration du système. Le deuxième rôle ACL affecte les comptes 2FA des utilisateurs individuels. Un utilisateur administrateur doit configurer ce second type de liste de contrôle d’accès 2FA. **Solution** : une fois la connexion établie et l’écran Accès refusé affiché, l’utilisateur peut se rendre sur `https://<magento store>/<admin_path>/tfa/tfa/requestconfig/` pour forcer la configuration. Remarque : il est déconseillé de désactiver les paramètres de sécurité. Cependant, cette solution n’est efficace que lorsque les clés secrètes d’URL d’administration sont désactivées.

**Problème** : le bouton **Créer un compte** de la page Créer un compte reste désactivé si un acheteur a saisi des données non valides. Cela empêche les acheteurs de tenter à nouveau de créer un compte après avoir généré une erreur. **Solution** : appliquez des `MC-38509` correctifs. Un correctif sera également inclus dans nos prochaines versions trimestrielles (2.4.2, 2.4.1-p1 et 2.3.6-p1), dont la publication est prévue pour le 1er trimestre 2021. Consultez l’article Correctif désactivé pour le bouton de création de compte [2.4.1 et 2.3.6](https://support.magento.com/hc/en-us/articles/360051130212) de la base de connaissances .  [GitHub-30513](https://github.com/magento/magento2/issues/30513)

**Problème** : les commerçants ne peuvent pas se connecter à dotdigital à partir de l’administrateur dans Safari lorsque dotdigital est activé. Consultez l’article [Il est impossible de se connecter à dotdigital via le panneau d’administration lorsque le compte dotdigital est activé](https://support.magento.com/hc/en-us/articles/360050092291) de la base de connaissances .

**Problème** : la validation de l’adresse de sommet ne fonctionne pas lors du paiement lorsque l’acheteur sélectionne une adresse de livraison différente de l’adresse de facturation. Le problème sera résolu dans la version 2.4.2. Consultez l’article de la base de connaissances [2.4.1 concernant le problème connu : le message de validation de l’adresse du sommet ne disparaît pas après la mise à jour de l’adresse](https://support.magento.com/hc/en-us/articles/360050139631)

**Problème** : l’application affiche une page vide lorsqu’un commerçant enregistre un formulaire Page Builder numérique sur le navigateur Safari. **Solution** : rechargez la page pour appliquer vos modifications. Consultez l’article de la base de connaissances sur le problème connu [2.4.1 : vider la page après avoir enregistré le formulaire de générateur de page numérique &#x200B;](https://support.magento.com/hc/en-us/articles/360049819092).

**Problème** : sous certaines conditions, l’application connecte automatiquement les clients aux comptes Amazon précédemment utilisés plutôt que de les inviter à se connecter lors du passage en caisse avec Amazon Pay. Consultez l’article de la base de connaissances [2.4.1 concernant le problème connu : impossible de modifier le compte Amazon dans Google Chrome](https://support.magento.com/hc/en-us/articles/360049814152) .

**Problème** : l’application affiche brièvement un message d’erreur sur la page de facturation du workflow de passage en caisse lorsque le paiement PayPal Braintree et l’expédition de plusieurs adresses sont sélectionnés. Consultez le problème connu de la version [2.4.1 : une erreur apparaît dans l’article Passage en caisse avec PayPal Braintree](https://support.magento.com/hc/en-us/articles/360050253211) de la base de connaissances .

**Problème** : l’application affiche un message d’erreur non informatif lorsqu’un client invité tente de passer une commande avec PayPal via Braintree lorsque le passage en caisse des invités est désactivé. Consultez l’article sur le problème connu de la version [2.4.1 : message d’erreur non informatif lors du passage en caisse des invités à l’aide de Paypal via Braintree](https://support.magento.com/hc/en-us/articles/360050368111) de la base de connaissances .

## Contributions de la Communauté

Nous sommes reconnaissants envers l’ensemble de la communauté Magento Open Source et souhaitons saluer leurs contributions à cette version. Découvrez les méthodes suivantes pour en savoir plus sur les contributions de la communauté à nos versions actuelles :

* Si un membre de la communauté a fourni un correctif pour cette version, nous l’identifions dans la section Problème résolu de ces notes avec l’expression « *Correctif fourni par le membre de la communauté* ».

* L’équipe d’ingénierie de communauté [Magento Contributors](https://magento.biterg.io/app/kibana) tient à jour une liste des principaux contributeurs individuels et partenaires par mois, trimestre et année. Depuis cette page Contributeurs, vous pouvez suivre les liens vers leurs relations publiques fusionnées sur GitHub.

### Contributions des partenaires

Le tableau suivant présente les contributions des partenaires. Ce tableau répertorie le partenaire qui a contribué à la demande d’extraction, la demande d’extraction externe et le numéro de problème GitHub qui lui est associé (le cas échéant).

{{$include /help/_includes/release-notes/engcomm-2-4-1-partner.md}}

### Contributions des contributeurs individuels

Le tableau suivant identifie les contributions des membres de notre communauté. Ce tableau répertorie les demandes d’extraction externes, le numéro de problème GitHub qui lui est associé (le cas échéant) et le membre de la communauté qui a contribué à la demande d’extraction.

{{$include /help/_includes/release-notes/engcomm-2-4-1-issues.md}}

### Configuration requise

Notre pile technologique est construite sur PHP et MySQL. Pour plus d&#39;informations, voir [Configuration requise](../../../installation/system-requirements.md).

### Instructions d’installation et de mise à niveau

Vous pouvez installer Magento Open Source 2.4.1 à l’aide du compositeur.

## Kits d’outils de migration

L’outil de migration de données permet de transférer les données de stockage Magento 1.x vers Magento 2.x. Cette interface de ligne de commande comprend des fonctions de vérification, de suivi de la progression, de journalisation et de test. Pour obtenir des instructions d’installation, voir [Installation de l’outil de migration des données](../../../tools/data-migration-tool/install.md). Envisagez d’explorer le [référentiel de migration de données](https://github.com/magento/data-migration-tool) ou d’y contribuer.

Le [kit de migration du code](https://github.com/magento-commerce/code-migration) permet de transférer les extensions et personnalisations de magasin Magento 1.x existantes vers Magento 2.x. L’interface de ligne de commande comprend des scripts permettant de convertir des modules et des mises en page Magento 1.x.

<!-- Last updated from includes: 2022-11-04 11:49:04 -->
