---
title: Notes de mise à jour d’Adobe Commerce 2.4.4
description: Découvrez les nouvelles fonctionnalités, les améliorations, les correctifs et les problèmes connus de la version 2.4.4 d’Adobe Commerce.
exl-id: 03d68115-b847-4744-a989-8e16d8d80e45
source-git-commit: 55512521254c49511100a557a4b00cf3ebee0311
workflow-type: tm+mt
source-wordcount: '11809'
ht-degree: 0%

---

# Notes de mise à jour d’Adobe Commerce 2.4.4

Adobe Commerce 2.4.4 introduit la prise en charge de PHP 8.1. Toutes les bibliothèques et dépendances de projet ont été mises à jour pour des raisons de compatibilité avec PHP 8.1. Les dépendances du compositeur principal et les bibliothèques tierces ont également été mises à niveau vers les dernières versions compatibles avec PHP 8.1. Cette version prend également en charge OpenSearch 1.2.

Cette version comprend près de 250 correctifs et améliorations de qualité.

>[!NOTE]
>
>Merci à notre partenaire [Atwix](https://www.atwix.com/) pour leurs contributions substantielles à rendre notre framework 2.4.4 compatible avec PHP 8.1.

{{bics}}

## Appliquez `AC-3022.patch` pour continuer à proposer DHL comme transporteur

DHL a introduit la version 6.2 du schéma et abandonnera la version 6.0 dans un avenir proche. Adobe Commerce 2.4.4 et les versions antérieures qui prennent en charge l’intégration DHL ne prennent en charge que la version 6.0. Les commerçants qui déploient ces mainlevées devraient appliquer `AC-3022.patch` dès que possible pour continuer à offrir DHL en tant que transporteur. Pour plus d’informations sur le téléchargement et l’installation du correctif, consultez l’article de la base de connaissances [Appliquer un correctif pour continuer à proposer DHL en tant que transporteur](https://support.magento.com/hc/en-us/articles/7707818131597-Apply-a-patch-to-continue-offering-DHL-as-shipping-carrier).

## Autres informations de mise à jour

Bien que le code de ces fonctionnalités soit fourni avec les versions trimestrielles du code principal d’Adobe Commerce, plusieurs de ces projets (par exemple, B2B, Page Builder et Progressive Web Applications (PWA) Studio) sont également publiés indépendamment. Les correctifs de bugs pour ces projets sont documentés dans les informations de mise à jour distinctes spécifiques au projet disponibles dans la documentation de chaque projet.

>[!NOTE]
>
>Toutes les extensions groupées avec des fournisseurs, à l’exception de Braintree, ont été supprimées d’Adobe Commerce 2.4.4.

>[!NOTE]
>
>Le compositeur 2.2 a introduit une fonctionnalité de sécurité qui exige que les commerçants identifient les modules externes de confiance dans leur fichier `composer.json` avant que les modules externes ne soient exécutés. Actuellement, les plug-ins inclus dans le fichier `composer.json` mais non marqués comme approuvés sont automatiquement installés. Cependant, à compter de juillet 2022, le compositeur ne chargera pas les modules externes à moins qu’ils n’aient été explicitement autorisés. Consultez l’article de la base de connaissances [Problèmes liés aux modules externes du compositeur lors de la mise à niveau vers Adobe Commerce 2.4.4](https://support.magento.com/hc/en-us/articles/6215997614093-Composer-plugins-issues-when-upgrading-to-Adobe-Commerce-2-4-4) pour obtenir des instructions sur la modification du fichier `composer.json` afin d’autoriser explicitement le chargement des modules externes.

### Correctifs inclus dans cette version

Adobe Commerce 2.4.4 inclut la résolution de tous les problèmes qui ont été résolus par les correctifs suivants, fournis pour Adobe Commerce et Magento Open Source 2.4.3, 2.4.3-p1 et 2.3.7-p2 :

* La vulnérabilité gérée par `MDVA-43395_EE_2.4.3-p1_COMPOSER_v1.patch` et `MDVA-43443_EE_2.4.3-p1_COMPOSER_v1.patch` a été résolue dans cette version.

* `AC-384_Fix_Incompatible_PHP_Method__2.4.3_ce.patch`. Ce correctif corrige une erreur PHP fatale qui s&#39;est produite lors de la mise à niveau. Consultez l’article [Mise à niveau d’Adobe Commerce 2.4.3, 2.3.7-p1 PHP Correctif d’erreur fatale &#x200B;](https://support.magento.com/hc/en-us/articles/4408021533069-Adobe-Commerce-upgrade-2-4-3-2-3-7-p1-PHP-Fatal-error-Hotfix) de la base de connaissances .

### Appliquez ce correctif après avoir installé la version 2.4.4

Nous vous recommandons d’appliquer le correctif suivant après avoir installé Adobe Commerce 2.4.4 :

* `braintree-disabled-partial-capture-for-applepay-googlepay.patch`.  Les commerçants ne peuvent pas effectuer de remboursement partiel pour les commandes payées avec Apple Pay via Braintree. Lorsqu&#39;un commerçant tente de créer un avoir pour un remboursement partiel à partir de la facture de commande, le champ **Qté à rembourser** n&#39;est pas modifiable. Ce correctif résout ce problème. Voir l’article de la base de connaissances [Adobe Commerce 2.4.4 : Impossible de créer des factures partielles](https://support.magento.com/hc/en-us/articles/4487952754957-Adobe-Commerce-2-4-4-Unable-to-create-partial-invoices)  <!-- BUNDLE-3088-->

## Points forts d’Adobe Commerce 2.4.4

Recherchez les points forts suivants dans cette version.

### Améliorations de la sécurité

Cette version comprend un correctif de sécurité et des améliorations de la sécurité de la plateforme. Ce correctif de sécurité a été rétroporté dans Adobe Commerce 2.4.3-p2 et Adobe Commerce 2.3.7-p3.

Aucune attaque confirmée liée à ces problèmes ne s’est produite à ce jour. Cependant, certaines vulnérabilités peuvent potentiellement être exploitées pour accéder aux informations sur les clients ou prendre le contrôle de sessions d’administration. La plupart de ces problèmes nécessitent qu’un attaquant obtienne d’abord l’accès à l’administrateur. Par conséquent, nous vous rappelons de prendre toutes les mesures nécessaires pour protéger votre administrateur, y compris, mais sans s’y limiter, les mesures suivantes :

* PLACER SUR LA LISTE AUTORISÉE IP en cours de traitement
* [authentification à deux facteurs](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* utilisation d&#39;un VPN
* utilisation d’un emplacement unique plutôt que de `/admin`
* bonne hygiène des mots de passe

Consultez le [Bulletin de sécurité d’Adobe](https://helpx.adobe.com/fr/security/products/magento/apsb22-13.html) pour connaître la dernière discussion sur ces problèmes résolus.

#### Améliorations de la sécurité supplémentaires

Les améliorations apportées à la sécurité dans cette version améliorent la conformité aux dernières bonnes pratiques de sécurité, notamment :

* L’utilisation des variables d’e-mail a été abandonnée dans la version 2.3.4 dans le cadre d’une réduction des risques de sécurité au profit d’une syntaxe de variable plus stricte. Ce comportement hérité a été entièrement supprimé dans cette version dans le cadre de la réduction des risques de sécurité.

  Par conséquent, les modèles d’e-mail ou de newsletter qui fonctionnaient dans les versions précédentes d’Adobe Commerce peuvent ne pas fonctionner correctement après la mise à niveau vers Adobe Commerce 2.4.4 ou Magento Open Source 2.4.4. Les modèles concernés sont les remplacements administrateur, les thèmes, les thèmes enfants et les modèles provenant de modules personnalisés ou d’extensions tierces. Votre déploiement peut toujours être affecté, même après avoir utilisé l’outil de compatibilité de mise à niveau [Upgrade](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/upgrade-compatibility-tool/overview.html?lang=fr) pour corriger les utilisations obsolètes. Voir [Migration de modèles d’e-mail personnalisés](https://developer.adobe.com/commerce/frontend-core/guide/templates/email-migration/) pour plus d’informations sur les effets potentiels et des instructions pour migrer les modèles affectés.

* Les jetons d’intégration ne peuvent plus être utilisés pour l’authentification par jeton du porteur API. Auparavant, un jeton d’intégration pouvait être utilisé comme clé autonome pour l’authentification basée sur les jetons. Cependant, ce comportement a été désactivé par défaut en raison des implications pour la sécurité d’un jeton d’accès qui n’expire jamais. Le comportement précédent peut être activé via la ligne de commande ou Admin. Voir [Authentification basée sur les jetons](https://developer.adobe.com/commerce/webapi/get-started/authentication/gs-authentication-token/). <!-- AC-1619 -->

* Les ID de session ne sont plus stockés dans la base de données. <!-- AC-522-->

* Les jetons d’accès OAuth et les jetons de réinitialisation de mot de passe sont désormais chiffrés lorsqu’ils sont stockés dans la base de données. <!-- AC-520 1323-->

* La validation a été renforcée pour empêcher le chargement d’extensions de fichier non alphanumériques. <!-- AC-479-->

* Ajout de la prise en charge de reCAPTCHA aux codes coupon. <!-- AC-461-->

* Swagger est désormais désactivé par défaut lorsqu’Adobe Commerce est en mode de production. <!-- AC-1450-->

* Le protocole HTTPS est désormais activé par défaut pour le storefront Adobe Commerce. Les paramètres **Utiliser des URL sécurisées sur Storefront** et **Utiliser des URL sécurisées dans Admin** sont activés par défaut et tous les cookies intégrés sont désormais définis comme sécurisés.  <!-- AC-1173-->

* Le plug-in de confusion des dépendances est désormais requis pour toutes les installations d’Adobe Commerce. Auparavant, ce plug-in n’était requis que pour les installations basées sur le compositeur . Il autorise désormais les versions approuvées. Les commerçants peuvent contourner les contraintes définies dans ce plug-in qui interdisent certaines combinaisons d’installations du compositeur. Les contraintes peuvent être ignorées pour les versions approuvées. Adobe Commerce affiche désormais un avertissement avant de poursuivre l’installation.  <!-- AC-501 970-->

* L’équipe de développement peut désormais configurer la taille maximale des tableaux acceptés par les points d’entrée RESTful Adobe Commerce par point d’entrée. Voir [Sécurité des API](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-465-->

* Ajout de mécanismes pour limiter la taille et le nombre de ressources qu’un utilisateur peut demander par le biais d’une API web à l’échelle du système et pour remplacer les valeurs par défaut sur des modules individuels. Cela résout le problème abordé par `MC-43048__set_rate_limits__2.4.3.patch`. Voir [Sécurité des API](https://developer.adobe.com/commerce/webapi/get-started/api-security/). <!-- AC-1120-->

### Améliorations de Platform

Adobe Commerce 2.4.4 prend désormais en charge PHP 8.1. Toutes les bibliothèques et dépendances de projet ont été mises à jour pour des raisons de compatibilité avec PHP 8.1. Autres améliorations apportées à la plateforme :

* Adobe Commerce 2.4.4 prend en charge Elasticsearch 7.16 et OpenSearch 1.2. Les commerçants Adobe Commerce avec des déploiements hébergés sur site peuvent utiliser l’une ou l’autre des solutions. Cependant, OpenSearch est désormais le moteur de recherche par défaut pour les déploiements d’Adobe Commerce 2.4.4 hébergés dans le cloud. Tous les clients disposant de déploiements cloud qui effectuent une mise à niveau vers la version 2.4.4 doivent utiliser OpenSearch. Voir [Passage à OpenSearch pour Adobe Commerce sur Cloud 2.4.4](https://support.magento.com/hc/en-us/articles/4419942355725-Switching-to-OpenSearch-for-Adobe-Commerce-on-Cloud-2-4-4)

* La bibliothèque `JQuery` a été mise à niveau vers la version 3.6. La bibliothèque `jquery-ui` a été mise à niveau vers la version 1.13.0. Plusieurs autres bibliothèques JavaScript ont été mises à jour vers les dernières versions.

* TinyMCE 5.8.1 est désormais pris en charge. TinyMCE 4 a été supprimé de la base de code. <!-- AC-41-->

* La bibliothèque `RequireJS` a été mise à niveau vers la dernière version (v2.3.6). [GitHub-33672](https://github.com/magento/magento2/issues/33672) <!-- AC-40 422-->

* PHPUnit a été mis à niveau vers la dernière version (9.5.x). Les tests et les structures de test ont été mis à jour pour être compatibles avec la nouvelle version. <!-- AC-404-->

* La plupart des dépendances Laminas ont été mises à niveau vers les dernières versions compatibles avec PHP 8.1. Trois dépendances Laminas ont été supprimées de la base de code pour réduire le nombre de dépendances.

#### Mise à niveau de l’interface utilisateur jQuery

L’interface utilisateur de jQuery a été mise à niveau vers la dernière version (v1.13.0). Les composants jQuery v1.10.0 suivants ont été supprimés :

* `ajaxOptions` et `cache` des onglets. Voir [&#x200B; Onglets &#x200B;](https://jqueryui.com/changelog/1.10.0/#tabs).

* `.zIndex()`. L’interface utilisateur jQuery v1.12.1 comprend `jquery/z-index.js`, qui prend en charge l’utilisation de `.zIndex()`. Voir [IU principale](https://jqueryui.com/changelog/1.12.0/#ui-core).

* Basculement des données pour les noms de widgets. Vous devez utiliser le nom complet pour la clé `.data()`.

* Codage en dur de classes telles que `ui-corner-all` dans les widgets.

### Améliorations des performances et de l’évolutivité

Les améliorations de performances d’Adobe Commerce améliorent le traitement des ordres à débit élevé et l’optimisation des files d’attente des messages. La fonctionnalité de commandes asynchrones introduite dans cette version prend en charge la création d’environ 60 000 commandes par heure. Les versions antérieures d’Adobe Commerce prenaient en charge le traitement d’environ 10 000 commandes/heure, ce qui constituait un goulot d’étranglement potentiel pour les ventes flash. La nouvelle fonctionnalité consommateurs multiples prend en charge la mise à l’échelle du nombre de consommateurs de files d’attente de messages sur une seule instance cloud et augmente le nombre de commandes traitées par heure.

Améliorations des performances de cette version :

* La fonction AsyncOrder prend en charge un placement de commande plus rapide que l’exécution synchrone ne le permet. Lorsque AsyncOrder est activé, le placement de la commande est exécuté en arrière-plan pendant que les acheteurs effectuent d’autres tâches sur le storefront.

* La nouvelle option de configuration **Activer la vérification de l’inventaire au chargement du panier** permet de basculer la vérification de l’inventaire lors du chargement d’un produit dans le panier. Elle est activée par défaut. Lorsque vous désactivez cette option, Adobe Commerce ignore la vérification de l’inventaire au chargement du devis, ce qui accélère le passage en caisse, en particulier pour les paniers contenant de nombreux articles.

* La nouvelle option de configuration `multiple_processes` prend en charge l’exécution de consommateurs parallèles dans plusieurs processus. Auparavant, `cron` exécutait un seul client lorsque cela était nécessaire. Le lancement de plusieurs consommateurs pour exécuter des processus en parallèle peut améliorer la vitesse d’exécution des tâches. Pour activer cette fonctionnalité, ajoutez `multiple_processes` au fichier `app/etc/env.php`.

* Les opérations de panier pour les paniers contenant plus de 750 produits configurables ont été améliorées en augmentant la limite de mémoire définie par `max_input_vars` dans le fichier `php.ini` pour prendre en charge le volume des variables d’entrée.

* Optimisation du traitement des règles de vente lors du passage en caisse en différant le calcul du total. En règle générale, le traitement des règles de vente se produit chaque fois qu’un acheteur ajoute un produit à son panier, met à jour la quantité de produit ou clique sur le bouton **Passer une commande**. Les commerçants peuvent activer ce report en définissant la variable `checkout/deferred_total_calculating` dans le fichier `env.php`. Vous pouvez également exécuter `bin/magento setup:config:set --deferred-total-calculating 1|0`. <!-- MCP-573-->

* Améliorations apportées au processus de validation des commandes affectées par une règle de prix de panier lors du placement asynchrone de la commande. <!-- MCP-304-->

Voir [Traitement de commande à débit élevé](../../../performance/high-throughput-order-processing.md).

### GraphQL

Cette version comprend les améliorations GraphQL suivantes :

* **Couverture GraphQL complète pour les devis négociables**.  Les utilisateurs de la société B2B peuvent désormais effectuer toutes les tâches liées aux devis négociables à l’aide de GraphQL. Les versions précédentes de cette API prenaient en charge les flux de négociation, mais pas le passage en caisse. <!-- PWA-2101-->

#### Nouvelles mutations

* mutation [`assignCustomerToGuestCart`](https://developer.adobe.com/commerce/webapi/graphql/schema/cart/mutations/assign-customer-to-guest-cart/)

* mutation [`placeNegotiableQuoteOrder`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/place-order/)

* mutation [`setNegotiableQuoteBillingAddress`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/set-billing-address/)

* [`setNegotiableQuotePaymentMethod`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/set-payment-method/) mutation<!-- PWA-2114-->

* mutation [`setNegotiableQuoteShippingMethods`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/set-shipping-methods/)

* mutation [`setNegotiableQuoteShippingAddress`](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/negotiable-quote/mutations/set-shipping-address/)

* **Amélioration des performances** :

   * Les performances des opérations de panier GraphQL se sont améliorées. La méthode `collectQuoteTotals()` n’est désormais appelée qu’une seule fois lors d’une requête GraphQL, ce qui réduit le temps de réponse. <!-- PWA-2110-->

   * Les performances du storefront ont été améliorées par les modifications apportées à la mise en cache des requêtes GraphQL. Fastly et Varnish mettent désormais en cache les requêtes GraphQL envoyées avec des jetons `auth`. <!-- PWA-1817-->

* **Nouveaux paramètres de configuration d’administration liés au storefront**. La requête `storeConfig` renvoie désormais les paramètres de configuration des modes de paiement Passage en caisse du sous-total zéro et Chèque/mandat. <!-- PWA-1576-->

* **Mise à jour de la bibliothèque GraphQL principale**. La bibliothèque `webonyx`, qui permet au cœur de GraphQL de fonctionner, a été mise à niveau vers la version ^14.9. <!-- PWA-2137 2184 -->

* **Correction de problèmes de traduction dans GraphQL avec les magasins multisites et multilingues**. Le résolveur GraphQL renvoie désormais les chaînes traduites en fonction de la portée du magasin comme prévu. <!-- PWA-1946-->

* GraphQL fournit désormais à New Relic des noms de transaction descriptifs, ce qui peut s’avérer utile pour le débogage. [GitHub-30915](https://github.com/magento/magento2/issues/30915) <!-- PWA-1311-->

Consultez le [Guide du développeur de GraphQL](https://developer.adobe.com/commerce/webapi/graphql/) pour plus d’informations sur ces améliorations.

### B2B

Cette version comprend plusieurs correctifs. Voir Notes De Mise À Jour [B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html?lang=fr).

### Extensions groupées par le fournisseur

À l’exception de [Braintree](https://experienceleague.adobe.com/fr/docs/commerce-admin/stores-sales/payments/braintree), toutes les extensions fournies par le fournisseur ont été supprimées de la base de code d’Adobe Commerce 2.4.4. Les commerçants doivent migrer vers les extensions officielles, qui sont disponibles sur le [Commerce Marketplace](https://marketplace.magento.com/extensions.html). <!-- AC-1165-->

[Amazon Pay](https://experienceleague.adobe.com/fr/docs/commerce-admin/stores-sales/payments/payments)

[dotdigital](https://experienceleague.adobe.com/fr/docs/commerce-admin/systems/introduction#variables-and-customer-communications)

[Klarna &#x200B;](https://experienceleague.adobe.com/fr/docs/commerce-admin/stores-sales/payments/payments)

[Sommet](https://experienceleague.adobe.com/fr/docs/commerce-admin/stores-sales/site-store/taxes/taxes)

[YotPo](https://experienceleague.adobe.com/fr/docs/commerce-admin/marketing/merchandising/product-reviews/product-reviews)

### PWA Studio

PWA Studio v.12.3.0 est compatible avec Adobe Commerce 2.4.4. Elle prend en charge reCaptcha, l’optimisation du contenu de Page Builder et le contenu personnalisé. Pour plus d’informations sur les améliorations et les correctifs, voir [Versions de PWA Studio](https://github.com/magento/pwa-studio/releases). Consultez [Compatibilité des versions](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) pour obtenir la liste des versions de PWA Studio et de leurs versions principales d’Adobe Commerce compatibles.

### Améliorations apportées aux paiements PayPal

* L’option de paiement Venmo est désormais prise en charge.  <!-- AC-1229-->

* Payer plus tard a été ajouté comme option pour les acheteurs en fonction de l’emplacement de l’acheteur, et non de celui du vendeur.

* Les commerçants peuvent désormais définir le pays de l’acheteur lors du test de l’expérience de l’acheteur dans le pays de leur choix. Auparavant, les tests étaient limités au pays dans lequel le commerçant est établi. Cette modification n’est valide qu’en mode sandbox.

* Les messages de la page de passage en caisse affichent désormais un message précis sur le montant et le nombre d’incréments que l’acheteur devra payer lors de l’utilisation de Pay Later.

### Recherche en direct

Live Search prend désormais en charge PHP 8.1.

Le nouveau module `Magento_ElasticsearchCatalogPermissionsGraphQl` est désactivé pendant l’installation de la recherche en direct mise à jour [installation](https://experienceleague.adobe.com/docs/commerce/live-search/onboard/install.html?lang=fr). Les installations de Live Search existantes doivent être mises à niveau vers Live Search 2.0.0 pour tirer parti de ces fonctionnalités. Pour plus d’informations, consultez la section Live Search [Notes de mise à jour](https://experienceleague.adobe.com/docs/commerce/live-search/release-notes.html?lang=fr).

### Mises à jour de l’accessibilité

Cette version renforce la conformité aux directives d’accessibilité standard. Ces améliorations améliorent l’expérience des utilisateurs et utilisatrices ayant une vision limitée ou des capacités linguistiques, cognitives et d’apprentissage limitées.  Les performances des outils de Reader d’écran ont également été améliorées.

Les améliorations apportées à l’accessibilité sont les suivantes :

* Les infobulles contiennent du texte et des libellés visibles, précis et axés sur les tâches pour les entrées
* Les boutons Modifier comportent désormais un texte unique.
* Les boutons d’administration ont désormais un objectif unique, accessible et descriptif en termes de conformité aux normes AA
* Les images d’icônes qui véhiculent du sens offrent désormais une alternative textuelle.
* Amélioration du contraste des boutons d’administration et des champs de formulaire avec un rapport de contraste d’au moins 3 :1 avec les couleurs adjacentes.

### Page Builder

* Les commerçants peuvent désormais ajouter un texte secondaire (`alt_text`) aux images (image, bannière, diapositive) pour améliorer l’accessibilité du contenu. [GitHub-746](https://github.com/magento/magento2-page-builder/issues/746) <!-- PB-1193-->

## Problèmes résolus

Nous résolvons des centaines de problèmes dans le code principal d’Adobe Commerce 2.4.4. Un sous-ensemble de ces problèmes résolus est décrit ci-dessous.

### Installation, mise à niveau, déploiement

<!-- MC-42026-->

* Adobe Commerce consigne désormais comme prévu les erreurs de déploiement de contenu statique dans les fichiers journaux de génération.

<!-- MC-43094-->

* Les correctifs de données ne peuvent plus ignorer les contraintes uniques d&#39;une table et insérer des valeurs en double dans une table de base de données MySQL. Auparavant, les correctifs pouvaient insérer des valeurs en double, ce qui corrompait la base de données.

<!-- AC-1480-->

* Les commerçants peuvent désormais effectuer une mise à niveau d’un déploiement Adobe Commerce 2.4.2 avec Klarna vers Adobe Commerce 2.4.3. [GitHub-33760](https://github.com/magento/magento2/issues/33760)

<!-- ACP2E-77-->

* La configuration du générateur de plans de site peut désormais être modifiée avec succès à partir de la ligne de commande. Auparavant, Adobe Commerce affichait cette erreur lorsque vous tentiez de modifier la configuration du plan de site en dehors d’Admin : `Import failed: Notice: Trying to access array offset on value of type null in app/code/Magento/Cron/Model/Config/Backend/Sitemap.php on line 78`.  [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-215-->

* La commande `bin/magento app:config:import` s’exécute désormais sans erreur lorsque vous mettez à jour `time` valeurs dans `config.php`. Auparavant, la modification de la configuration des alertes de produit par modification manuelle (c’est-à-dire sans utiliser Admin) entraînait une erreur.

### Accessibilité

<!-- AC-1589-->

* Les erreurs d’accessibilité avec la navigation sur le panier et les pages de passage en caisse ont été résolues. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Les lecteurs d’écran peuvent désormais lire tous les éléments de formulaire pertinents dans les pages de produits.

<!-- AC-1277-->

* Le contraste a été amélioré pour les boutons de suppression d’images et de déplacement d’icônes dans tout le storefront afin d’améliorer la lisibilité pour les utilisateurs peu voyants.

<!-- AC-1272-->

* Un nom accessible et un texte secondaire ont été attribués à l’icône en forme de loupe utilisée pour exécuter des recherches dans l’interface du produit.

<!-- AC-1275-->

* La barre d’outils de l’éditeur de texte enrichi est désormais accessible à l’aide de la touche de tabulation.

<!-- AC-1283-->

* L’entrée **Cet élément a un poids** sélectionnez-le dans la page de détails **Catalogue** > **Produit** a désormais des libellés visibles et un nom accessible.

<!-- AC-1284-->

* Le nom accessible du contrôle inclut désormais le texte de son libellé visible pour le nombre d&#39;éléments par liste déroulante de page.

<!-- AC-1287-->

* Les contrôles de tableau de la page de détails **Catalogue** > **Produit** sont désormais dotés de libellés visibles et d’un nom accessible lorsque le tableau est réduit.

<!-- AC-1288-->

* Les liens de modification dans la table Produits possèdent désormais un texte de lien unique et significatif.

<!-- AC-1276-->

* Les déclencheurs qui développent les infobulles fournissent désormais des noms textuels.

<!-- AC-1285-->

* Les boutons du storefront ont désormais des noms accessibles, descriptifs et uniques. Auparavant, les boutons fractionnés avec un bouton de texte et un bouton d’icône de flèche vers le bas adjacent avaient le même nom accessible.

<!-- AC-1277-->

* Le contraste a été amélioré pour les boutons de suppression d’images et de déplacement d’icônes dans tout le storefront afin d’améliorer la lisibilité pour les utilisateurs peu voyants.

<!-- AC-1279-->

* Des alternatives textuelles ont été ajoutées à l’icône en forme de crayon qui s’affiche lorsqu’un commerçant modifie une entrée pour l’accordéon Optimisation du moteur de recherche.

<!-- AC-1272-->

* Un nom accessible et un texte secondaire ont été attribués à l’icône en forme de loupe utilisée pour exécuter des recherches dans l’interface du produit.

<!-- AC-1286-->

* Le champ de saisie de texte de la page produit **Nouvelle vue** est désormais accessible.

<!-- AC-1283-->

* L’entrée **Cet élément a un poids** sélectionnez-le dans la page de détails **Catalogue** > **Produit** a désormais des libellés visibles et un nom accessible.

### AdminGWS

<!-- MC-42239-->

* Les administrateurs disposant d’autorisations restreintes peuvent désormais créer un retour comme prévu.

### Serveur principal

<!-- MC-43161-->

* Les administrateurs peuvent désormais se connecter à l’administrateur dans un déploiement pour lequel un chemin d’administration personnalisé est configuré et la clé secrète est activée. Auparavant, Adobe Commerce affichait cette erreur : `Invalid security or form key. Please refresh the page`.

<!-- MC-41949-->

* Adobe Commerce ne redirige plus vers la portée Vue Tous les magasins lorsque la hiérarchie multi-magasin change. Auparavant, une fois la hiérarchie enregistrée, les acheteurs étaient redirigés vers une URL de magasin incorrecte et la portée Toutes les vues de magasin était sélectionnée dans un déploiement multi-magasin.

### Lots de produits

<!-- MC-42885-->

* Les acheteurs peuvent désormais ajouter un produit groupé avec une taxe sur les produits fixe et deux options à leur panier. Auparavant, Adobe Commerce n’ajoutait pas le produit et affichait cette erreur : `We can't add this item to your shopping cart right now`.

<!-- MC-42249-->

* La validation du formulaire sous la forme des attributs `data-validate` et `min` a été ajoutée au champ Quantité du panier pour éviter les valeurs négatives pour les produits groupés.

<!-- MC-41794-->

* La requête `products` filtre désormais correctement les produits groupés lorsque les produits enfants sont désactivés au niveau de la vue du magasin. Auparavant, la requête renvoyait des produits enfants qui étaient désactivés au niveau de la vue du magasin.

<!-- MC-42811-->

* `cron` efface désormais le cache de catégorie de produits comme prévu lors de l’exécution du `indexer_update_all_views`. Auparavant, Adobe Commerce affichait un nombre de produits incorrect sur la page de catégorie après la mise à jour en masse de nombreux produits de la catégorie.

<!-- MC-42811-->

* Adobe Commerce met désormais à jour le cache de produit de catégorie comme prévu lorsqu’un produit groupé réapparaît en stock.

<!-- MC-42811-->

* L’algorithme de nettoyage du cache qui s’exécute lors de la réindexation a été optimisé. Les produits groupés s’affichent désormais comme prévu lorsqu’une catégorie est mise en cache lors de la réindexation. Auparavant, les produits groupés ne s’affichaient pas pendant des heures après la mise en cache des catégories de produits lors de la réindexation.

<!-- AC-715-->

* La conversion de devise se produit désormais comme prévu dans les confirmations par e-mail pour les achats de produits groupés dans des déploiements multi-magasin qui utilisent différentes devises. [GitHub-33426](https://github.com/magento/magento2/issues/33426)

<!-- ACP2E-64-->

* Les remises de prix spéciaux de prix avancés sont désormais correctement affichées pour les produits groupés avec un préfixe de % dans la grille de produits. Auparavant, une remise de % s’affichait incorrectement avec le préfixe $ au lieu de % dans la grille de produits.

<!-- ACP2E-262-->

* Le statut du produit groupé dans l’administrateur est désormais automatiquement mis à jour lorsqu’un produit associé modifie son statut.

<!-- ACP2E-326-->

* Le résolveur GraphQL pour les produits groupés vérifie désormais si les produits groupés enfants ont été désactivés. Auparavant, cette vérification ne se produisait pas et des requêtes telles que `categoryList` renvoyaient des produits enfants qui n’étaient pas vendables.

<!-- MC-43223-->

* Les réponses aux requêtes `cart` renvoient désormais des remises précises pour les produits groupés avec des prix dynamiques. Auparavant, les réponses à la requête incluaient des remises appliquées à chaque produit groupé individuellement.

### Cache

<!-- AC-328-->

* Le cache de page ne croît plus rapidement avec une utilisation standard. [GitHub-9458](https://github.com/magento/magento2/issues/9458)

<!-- magento/magento2/pull/33468-->

* Le fait de passer une commande n’entraîne plus la suppression de toutes les balises de cache liées aux produits commandés du cache de vernis. [GitHub-30128](https://github.com/magento/magento2/issues/30128)

<!-- AC-1478-->

* Le cache de page complet du site n’est plus effacé lorsque vous mettez à jour un produit à partir des catégories principales ou exécutez un index pour mettre à jour les attributs du produit ou l’état du stock. Auparavant, le cache de vernis ajoutait les identifiants de catégorie de menu supérieur à toutes les balises du cache de page. [GitHub-33465](https://github.com/magento/magento2/issues/33465)

### Panier et passer en caisse

<!-- MC-41494-->

* Le prix minimum annoncé **Qu&#39;est-ce que c&#39;est ?** lien de la page du panier est désormais cliquable et ouvre la fenêtre contextuelle d’informations comme prévu. Auparavant, cliquer sur ce lien n’avait aucun effet.

<!-- MC-42639-->

* Les acheteurs peuvent désormais passer des commandes sans erreur après une temporisation de session dans les déploiements où le panier persistant est activé. Auparavant, Adobe Commerce affichait une erreur de paiement après un délai d’expiration de session.

<!-- MC-42638-->

* L’affectation d’une valeur d’ordre de tri élevé à un attribut d’adresse du client n’entraîne plus de dégradation des performances sur la page du passage en caisse.

<!-- MC-42813-->

* Adobe Commerce rétablit désormais la quantité de produits du panier à la valeur précédente si la quantité mise à jour n’est pas valide.

<!-- MC-42347-->

* Cliquer sur le bouton **Ajouter au panier** dans la section Récemment consultés redirige désormais comme prévu vers la page des détails du produit. Auparavant, les acheteurs étaient redirigés vers la page de liste des produits.

<!-- MC-33705-->

* Les acheteurs invités peuvent désormais passer en caisse avec une adresse client qui contient plusieurs types d’attributs d’adresse client personnalisés. Auparavant, les valeurs des attributs personnalisés n’étaient pas correctement formatées lorsqu’elles s’affichaient lors de l’extraction. [GitHub-30290](https://github.com/magento/magento2/issues/30290)

<!-- MC-24379-->

* Adobe Commerce applique désormais correctement le seuil de livraison gratuite aux commandes lorsque les taux du tableau sont activés. [GitHub-21832](https://github.com/magento/magento2/issues/21832)

<!-- AC-271-->

* Vous pouvez désormais utiliser `POST /V1/guest-carts/:cartId/items` pour ajouter au panier des produits simples avec différentes options. Auparavant, cet appel modifiait la quantité du premier produit simple que vous ajoutiez au lieu d’ajouter un second produit simple avec les options spécifiées. [GitHub-32302](https://github.com/magento/magento2/issues/32302)

<!-- AC-1089-->

* La section Résumé de la commande de la page de passage en caisse affiche désormais la devise et le montant corrects lorsqu’un déploiement est configuré pour `Poland` pays et la devise `PLN`. Auparavant, la page de panier et de passage en caisse affichait le montant **0 PLN**.

<!-- MC-32805-->

* Adobe Commerce ne renvoie plus d’erreur lorsqu’un acheteur clique sur **Mettre à jour le panier** après avoir modifié la quantité d’un produit dans le mini panier. Auparavant, Adobe Commerce affichait cette erreur : `The quote item isn't found. Verify the item and try again`.

<!-- MC-43176-->

* Les requêtes de `products` GraphQL pour les produits configurables dans un magasin spécifique renvoient désormais les plages de prix des produits sur le magasin spécifié uniquement. Auparavant, les requêtes renvoyaient des plages de prix pour des produits simples sur des magasins non spécifiés.

<!-- AC-691-->

* Adobe Commerce ne renvoie plus cette erreur lorsqu’un acheteur ajoute une adresse de facturation à laquelle il manque un champ de rue : `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- AC-1625-->

* Adobe Commerce ne renvoie plus d’erreur de console lors du passage en caisse dans les magasins desquels le mini panier a été supprimé. [GitHub-34513](https://github.com/magento/magento2/issues/34513)

<!-- AC-691-->

* Le passage en caisse n’échoue plus au stade du paiement lorsque les valeurs de champ rue de l’adresse de facturation sont manquantes ou que la valeur de champ rue n’est pas un tableau. Auparavant, l’extraction échouait avec cette erreur : `Uncaught TypeError: Unable to process binding "text: function(){return currentBillingAddress().street.join(', ') }"`. [GitHub-33826](https://github.com/magento/magento2/issues/33826)

<!-- ACP2E-22-->

* Le total des ventes est désormais correctement calculé dans la grille de rapport des coupons. Auparavant, le total des ventes n&#39;incluait pas le montant des frais d&#39;expédition.

<!-- ACP2E-44-->

* Les remises globales du panier sont désormais correctement calculées lorsque l’acheteur change de mode d’expédition.

<!-- ACP2E-159-->

* La liste déroulante du champ **État** de la page Créer une commande d’administration est désormais renseignée par les valeurs prédéfinies pour le pays sélectionné. Auparavant, ce champ était un champ de texte d’entrée au lieu d’un menu déroulant.

<!-- ACP2E-172-->

* Adobe Commerce ne renvoie plus d’erreur une fois que vous avez utilisé la mutation `addConfigurableProductsToCart` pour ajouter un produit configurable à un panier directement après avoir modifié la vue du magasin.

<!-- ACP2E-176-->

* Adobe Commerce ne renvoie plus d’erreur lorsque vous utilisez la mutation `addConfigurableProductsToCart` pour ajouter au panier un enfant désactivé d’un produit configurable. Auparavant, Adobe Commerce générait une erreur de violation de contrainte d’intégrité.

<!-- ACP2E-206-->

* Les produits de vente croisée ne sont plus visibles sur la page du panier lorsque le paramètre de configuration **Afficher les articles de vente croisée dans le panier** est désactivé.

<!-- ACP2E-157-->

* La valeur d’utilisation du coupon ne change plus si la commande à laquelle le coupon a été appliqué échoue.  Auparavant, les coupons générés automatiquement à usage unique étaient marqués comme non valides après l’application du coupon dans le panier, mais la commande n’était pas passée.

<!-- ACP2E-137-->

* Une validation a été ajoutée au workflow de passage en caisse pour comparer l’adresse postale du client à la valeur par défaut. Si le processus de validation identifie des modifications, il `customer_address_id` définit sur `null` pour le traiter comme une nouvelle adresse client. Auparavant, si le client enregistrait l’adresse sans validation lors du passage en caisse et que ce même client tentait de passer une commande à l’aide de la même adresse après l’application de la validation au champ de passage en caisse , Adobe Commerce n’acceptait pas l’adresse modifiée et générait une exception.

### Règles de prix du panier

<!-- MC-42288-->

* La génération des coupons est désormais bloquée jusqu’à ce que la règle de prix de panier associée soit enregistrée avec l’option `auto` activée. Si vous essayez d’enregistrer cette règle sans activer l’option `auto` , Adobe Commerce affiche le message suivant : `Rule is not saved with auto generate option enabled. Please save the rule and try again`.

<!-- MC-42743-->

* Ajout d’un test pour confirmer l’application correcte d’une remise de règle de prix de panier.

<!-- ACP2E-213-->

* Les règles de prix de panier qui utilisent une condition de SKU avec **Si un article est TROUVÉ/INTROUVABLE dans le panier avec Toutes/L’une de ces conditions est vraie** fonctionnent désormais comme prévu avec des produits configurables.

<!-- ACP2E-225-->

* Les règles de prix de panier sont désormais correctement appliquées pour les produits groupés à prix fixe. Auparavant, les règles de prix de panier ne s’appliquaient pas à ces produits lorsqu’au moins un produit enfant avait le même attribut défini dans la condition de règle.

<!-- ACP2E-285-->

* Un produit au prix de 0 peut désormais être ajouté avec succès au panier lorsqu’Adobe Commerce est configuré avec la règle de prix de panier **Remise forfaitaire pour l’ensemble du panier**. Auparavant, Adobe Commerce affichait cette erreur : `report.ERROR: Warning: Division by zero in /home/mer33515/public_html/ee24develop/app/code/Magento/SalesRule/Helper/CartFixedDiscount.php on line 85`.

<!-- ACP2E-306-->

* Correction d’une condition en raison de laquelle la requête `cart` renvoyait un montant de remise inexact lorsque les règles de panier avec des remises à montant fixe étaient activées.

### Catalogue

<!-- MC-41796-->

* Adobe Commerce ne renvoie plus d’exception lors de l’exécution d’une action de mise à jour en masse d’attributs sur la grille de produits lorsqu’un produit possède un attribut `datetime`.

<!-- MC-42571-->

* Les requêtes GraphQL renvoient désormais des résultats pour les produits enfants d’un produit configurable en fonction des paramètres de filtre de visibilité du ou des produits enfants.

<!-- MC-41853-->

* Adobe Commerce ne modifie plus les prix des produits associés lorsque les attributs de produit configurables sont modifiés. Auparavant, le prix minimum annoncé (MAP) pour un produit configurable remplaçait le prix des produits associés en magasin.

<!-- MC-42659-->

* Les administrateurs peuvent désormais réaffecter le dernier produit restant dans une catégorie et enregistrer la catégorie vide.

<!-- MC-42132-->

* Les valeurs d’attribut de liste déroulante/sélection multiple pour la grille de produit et les filtres Admin sont désormais dérivées comme prévu des paramètres d’administration. Auparavant, les valeurs d’attribut étaient dérivées des paramètres de magasin par défaut.

<!-- MC-43010-->

* Les requêtes de catégorie GraphQL renvoient des informations sur les modifications apportées aux catégories intermédiaires comme prévu.

<!-- AC-711-->

* Les listes de produits sont désormais rendues avec précision dans l’interface d’administration dans les déploiements avec des produits affectés à la fois à une catégorie parente et à ses sous-catégories, mais à des positions différentes dans chaque catégorie. Auparavant, le rendu de la liste de produits échouait avec cette erreur : `Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "<ID>" already exists`. [GitHub-33145](https://github.com/magento/magento2/issues/33145)

<!-- AC-1148-->

* Les attributs à sélection multiple dotés de nombreuses options (plus de 150) peuvent désormais être affectés à de nouveaux produits. Auparavant, les options d’attribut étaient enregistrées dans le tableau `catalog_product_entity_varchar` et toutes les options n’étaient pas présentes lorsque vous avez rouvert le produit dans l’Administration. [GitHub-33486](https://github.com/magento/magento2/issues/33486)

<!-- AC-904-->

* Ajout d&#39;une validation pour le cas où un routeur ne peut pas instancier une classe d&#39;action collectée à partir d&#39;une URL. Adobe Commerce affiche désormais le message d’erreur standard. Auparavant, Adobe Commerce affichait cette erreur : `PHP Error: Cannot instantiate abstract class Magento\Catalog\Controller\Product\Compare`.

<!-- ACP2E-10-->

* Adobe Commerce calcule désormais correctement les remises lorsque deux règles de panier sont appliquées à une commande qui répond à ces conditions : une règle de panier est appliquée avec un code de coupon et une condition **Prix fixe sur l’ensemble du panier** et la deuxième règle de prix de panier ne comporte aucun coupon et une condition **Pourcentage de remise sur le prix du produit**. Auparavant, l’algorithme approprié ne pouvait pas répartir correctement la remise proportionnellement entre les produits du panier lorsqu’une règle de panier précédente avait déjà appliqué une remise sur certains produits.

<!-- ACP2E-115-->

* L’affectation de nombreux produits (environ 10 000) à une catégorie n’entraîne plus le blocage du navigateur.

<!-- ACP2E-122-->

* Les attributs d’image sont désormais enregistrés de manière cohérente dans la base de données, que ce soit depuis Admin ou lors d’un import. Auparavant, les valeurs de texte de remplacement d’image étaient enregistrées de manière incohérente. Si l’image existait et que le libellé était défini sur « null », la valeur du libellé n’était pas réinitialisée dans la base de données.

<!-- ACP2E-155-->

* La requête SQL du widget de catalogue a été optimisée. Auparavant, les requêtes MySQL volumineuses ralentissaient le chargement des pages et entraînaient des pannes MySQL.

<!-- ACP2E-165-->

* Les filtres de prix fonctionnent désormais correctement avec les produits configurables en rupture de stock. Auparavant, les produits configurables en rupture de stock n’étaient pas affichés dans leur plage de prix correcte.

<!-- ACP2E-330-->

* La mise à jour d’un produit enfant ne supprime plus la remise de règle de catalogue héritée de son produit configurable parent pendant le processus d’indexation partielle. Auparavant, lorsque nous affections un produit configurable à une catégorie, mais pas à ses produits simples associés, et que nous utilisions cette catégorie pour créer une règle de catalogue, Adobe Commerce supprimait la règle de catalogue affectée au produit simple au cours du processus d’indexation partielle.

<!-- ACP2E-216-->

* La liste des produits groupés et configurables dans la vue Grille contient désormais uniquement des produits simples et virtuels lors de l’ajout d’options de produit. Auparavant, l’application incluait des produits simples avec des options.

### Règle de catalogue

<!-- MC-41807-->

* Les mises à jour quotidiennes des règles de catalogue n’entraînent plus de dégradation des performances. Auparavant, l’indexation partielle des prix des produits du catalogue ne supprimait pas les anciens prix ou dates.

<!-- MC-38263-->

* Adobe Commerce ne supprime plus les règles de prix de catalogue sur les produits configurables lors d’une réindexation partielle. Auparavant, seuls les sous-produits étaient réindexés lorsque les produits configurables étaient réindexés.

<!-- ACP2E-331-->

* Les règles de prix de catalogue avec la condition **category n’est pas category_id** s’appliquent désormais aux produits qui n’appartiennent à aucune catégorie.

### Produits configurables

<!-- MC-42188-->

* Le nom du libellé d’option de produit configurable est désormais basé sur la vue de magasin sélectionnée lors de la création de la commande d’administration. Auparavant, Adobe Commerce utilisait le nom du libellé à partir de la vue de magasin par défaut.

<!-- MC-42187-->

* Les listes de produits incluent désormais correctement les produits enfants d’un produit en rupture de stock lorsque l’indicateur global d’affichage des produits en rupture de stock est activé. Auparavant, la liste de produits n’incluait pas le produit enfant si l’une des options de plusieurs produits enfants était en rupture de stock lorsque cet indicateur était activé.

<!-- MC-42340-->

* Vous pouvez désormais utiliser la mutation `addConfigurableProductsToCart` pour ajouter un produit configurable au panier sur une vue de magasin autre que celle par défaut. Auparavant, vous ne pouviez pas ajouter un produit configurable à un panier lorsque l’ID de site web et l’ID de magasin étaient différents. [GitHub-30948](https://github.com/magento/magento2/issues/30948)

<!-- MC-43051-->

* Les requêtes `products` GraphQL ne renvoient plus de données sur les produits enfants désactivés des produits configurables.

<!-- ACP2E-101-->

* La création de configurations pour un produit configurable ne remplace plus les modifications apportées aux configurations existantes. Auparavant, le statut des variations existantes était remplacé par le statut par défaut `enabled` après la génération de nouvelles variations.

<!-- ACP2E-175-->

* Adobe Commerce ne renvoie plus d’erreur interne lorsque vous tentez d’ajouter au panier un enfant désactivé d’un produit configurable.

### Client

<!-- MC-24204-->

* Adobe Commerce prend désormais en compte la portée du site web pour les paramètres régionaux d’administration lors de la création de la commande. Auparavant, les détails de commande tels que les attributs d’adresse du client fonctionnaient correctement sur un seul site web dans un déploiement multisite. [GitHub-23254](https://github.com/magento/magento2/issues/23254)

### Segment client

<!-- MC-42241-->

* Le nombre de clients appariés pour un nouveau segment de clients est désormais mis à jour automatiquement lorsque vous créez un compte d’entreprise. Auparavant, vous deviez actualiser les données de segment pour obtenir un comptage précis.

### E-mail

<!-- MC-42592-->

* Les erreurs de validation des champs d’e-mail sur la fenêtre contextuelle de connexion au passage en caisse correspondent désormais aux erreurs de validation des e-mails sur la page de connexion du client lorsqu’un client tente de se connecter à l’aide d’un compte de messagerie non valide.

<!-- MC-42764-->

* Adobe Commerce n’inclut plus de message d’erreur dans l’e-mail des détails de l’expédition lorsqu’un commentaire d’expédition est ajouté par l’administrateur et que la case **Notifier le client** est activée. Auparavant, les e-mails de confirmation d’expédition incluaient le message suivant : `We're sorry, an error has occurred while generating this content`.

<!-- MC-42486-->

* Les valeurs d’ID de région et de pays sont désormais correctement converties dans les modèles d’e-mail. Auparavant, lorsque vous cliquiez sur le lien **Aperçu** à partir du modèle d’e-mail Administrateur, le pays et le nom de la région ne s’affichaient pas correctement.

<!-- MC-36262-->

* Les e-mails de mise à jour des ventes envoyés par l’administrateur pour les affichages de boutique autres que ceux par défaut contiennent désormais les libellés de statut de commande corrects. Auparavant, ces e-mails affichaient toujours le statut à partir du magasin par défaut. [GitHub-29263](https://github.com/magento/magento2/issues/29263)

<!-- AC-721-->

* Adobe Commerce inclut désormais `Content-Disposition: inline` en-têtes dans les e-mails comme prévu. [GitHub-29258](https://github.com/magento/magento2/issues/29258)

<!-- magento/magento2/pull/32720-->

* Les e-mails de notification de commande et d’expédition fonctionnent désormais comme prévu dans les déploiements utilisant Microsoft Outlook et MS Exchange Server. Auparavant, le corps de l’e-mail était vide, mais contenait une pièce jointe étiquetée ATT*. [GitHub-25076](https://github.com/magento/magento2/issues/25076)

<!-- ACP2E-47-->

* Les e-mails de commande contiennent désormais des données localisées à l’aide des paramètres régionaux de l’acheteur comme prévu. Auparavant, les e-mails de commande utilisaient les paramètres régionaux d’administration.

<!-- ACP2E-107-->

* Cliquez sur l’aperçu d’un modèle d’e-mail pour afficher l’aperçu du modèle dans une fenêtre distincte, comme prévu.  Auparavant, Adobe Commerce ouvrait l’aperçu du modèle simultanément à partir de la grille Modèles d’e-mail et dans une fenêtre contextuelle.

<!-- ACP2E-127-->

* Les e-mails de commande asynchrones envoyés à partir d’un site web autre que celui par défaut incluent désormais des URL de logo provenant du site web approprié. Auparavant, ces e-mails incluaient toujours les logos du site web principal ou par défaut. (Une clé par défaut avec une valeur `storeCode` a été affectée au deuxième argument de tableau transmis à la fonction `UrlInterface` `getUrl`. Cette valeur distingue les URL par rapport à différents magasins/sites web et génère un `baseUrl` correct pour le contenu d’e-mail envoyé au client ou à la cliente.)

### Frameworks

<!-- AC-515-->

* Les comparaisons non strictes entre des nombres et des chaînes non numériques fonctionnent désormais en convertissant le nombre en chaîne et en comparant les chaînes. Les comparaisons entre des nombres et des chaînes numériques continuent de fonctionner comme avant. Cela signifie que `0 == "not-a-number"` est désormais considéré comme faux. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-1338-->

* Le `Magento\Payment\Helper\Data` d’assistance ne crée plus de mises en page dans les constructeurs. Auparavant, lorsque cet helper était utilisé dans des commandes personnalisées sans spécifier d’indicatif régional, Adobe Commerce générait une erreur. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1068-->

* Mise à jour de la dépendance du compositeur d’`allure-framework/allure-php-api`.

<!-- MC-42091-->

* Adobe Commerce renvoie désormais un code de réponse 500 lorsqu’une exception se produit dans le fichier d’amorçage. Auparavant, Adobe Commerce renvoyait un code d’état 200 OK. [GitHub-22196](https://github.com/magento/magento2/issues/22196)

<!-- AC-1318-->

* Le symbole de devise est maintenant chargé comme prévu sur les pages de détails du produit Storefront. Auparavant, ce symbole disparaissait parfois après le rechargement de la page JavaScript.

<!-- AC-719-->

* La mise à jour des `symfony/console` n’entraîne plus d’échec lors de l’exécution des `bin/magento setup:di:compile`. [GitHub-33595](https://github.com/magento/magento2/issues/33595)

<!-- AC-1504-->

* De nouvelles options requises ont été ajoutées aux fichiers `.htaccess` et `nginx.conf` distribués avec Adobe Commerce pour la prise en charge de PHP 8.x. Les options obsolètes ont également été supprimées. [GitHub-34358](https://github.com/magento/magento2/issues/34358)

<!-- MC-42448-->

* Les commerçants peuvent désormais charger une vidéo pour plusieurs produits. Le processus de génération de fichier ajoute désormais une extension au nom de fichier uniquement si le nom de fichier chargé contient une extension. Auparavant, lorsqu’un commerçant tentait de charger puis d’enregistrer la même vidéo pour deux produits différents, Adobe Commerce générait cette erreur : `Notice: Undefined index: extension in /app/7ha7zds7wvqys_stg/vendor/magento/framework/File/Uploader.php on line 699`. Cela est dû au fait qu’Adobe Commerce a tenté d’ajouter une extension de fichier au nom, que le nom du fichier chargé ait ou non une extension.

<!-- magento/magento2/pull/34106-->

* Correction de problèmes de construction de `sprintf(__())` et `sprintf(Magento\Framework\Phrase())` pour la compatibilité avec PHP 8.x dans toute la base de code. Auparavant, Adobe Commerce générait ce type d’erreur : `Expected parameter of type 'string', 'Magento\Framework\Phrase' provided`. [GitHub-34085](https://github.com/magento/magento2/issues/34085)

<!-- AC-1605-->

<!-- MC-42934-->

* Amélioration de la validation des paramètres de requête de recherche avancée. [GitHub-33589](https://github.com/magento/magento2/issues/33589)

<!-- ACP2E-69-->

* L’exécution de `bin/magento support:backup:code` crée désormais une sauvegarde comme prévu. Auparavant, Adobe Commerce créait une sauvegarde, mais générait une erreur.

<!-- ACP2E-82-->

* Les processus `cron` exécutés avec succès se voient désormais attribuer le statut `success`. Auparavant, le même processus `cron` pouvait être exécuté deux fois, car les processus `cron` réussis se voyaient attribuer un statut `pending`.

<!-- ACP2E-170-->

* La tâche `staging_synchronize_entities_period` `cron` fonctionne désormais comme prévu. Auparavant, la première mise à jour d’évaluation était appliquée avec succès, mais Adobe Commerce a généré cette erreur avec les mises à jour suivantes : `report.ERROR: Cron Job staging_synchronize_entities_period has an error: The active update can't be deleted`.

<!-- ACP2E-102-->

* Le module `Magento_Logging` prend désormais en charge IPv6.

### Correctifs généraux

<!-- MC-42506-->

* Adobe Commerce copie désormais tous les champs de produit en fonction de leurs portées définies lors de la duplication d’un produit. Auparavant, les champs **nom** et **description** étaient réinitialisés à `global` portée.

<!-- MC-42612-->

* Adobe Commerce n’applique plus l’arrondi delta à une remise lorsque le prix du produit est de 0. Auparavant, Adobe Commerce calculait un montant de remise négatif.

<!-- MC-42215-->

* Les produits dotés d’un attribut **Définir comme nouveau** auquel une date de début vide et une date de fin expirée sont attribuées peuvent désormais être enregistrés. Auparavant, Adobe Commerce générait cette erreur lorsque vous enregistrez un produit avec les paramètres suivants : `Make sure the To Date is later than or the same as the From Date`.

<!-- MC-41803-->

* Adobe Commerce ne duplique plus une page CMS existante dans la hiérarchie CMS lorsque vous modifiez son identifiant d’URL d’optimisation du moteur de recherche. Auparavant, Adobe Commerce créait un nœud dans la hiérarchie CMS, dupliquant un nœud existant.

<!-- MC-42775-->

* Les administrateurs peuvent désormais relancer les opérations qui ont été exécutées pendant la durée de traitement maximale. La valeur maximale par défaut est de 12 heures.

<!-- MC-42514-->

* Les erreurs de canal rompu ne se produisent plus lors du traitement d’une action en masse en raison de messages non confirmés pour le client. Une propriété de nombre de prérécupérations limite désormais ces messages pour le client et évite les erreurs. Auparavant, l’exécution de `bin/magento queue:consumers:start async.operations.all` générait cette erreur : `Broken pipe or closed connection`.

<!-- MC-42075-->

* Les acheteurs sont maintenant redirigés vers la page de connexion comme prévu après une deuxième tentative de connexion ayant échoué. Auparavant, les acheteurs étaient redirigés vers une page 404 après une deuxième tentative de connexion infructueuse. [GitHub-32885](https://github.com/magento/magento2/issues/32885)

<!-- magento/magento2/pull/25279-->

* La validité du jeton de réinitialisation de mot de passe a été étendue pour éviter l’occurrence d’une condition de concurrence lors de l’envoi de la page de changement de mot de passe. [GitHub-29647](https://github.com/magento/magento2/issues/29647)

<!-- AC-1316-->

* Les autorisations affectées aux nouvelles intégrations sont désormais respectées. [GitHub-33347](https://github.com/magento/magento2/issues/33347)

<!-- AC-1328-->

* Correction d&#39;un problème de régression qui affectait les messages laissés dans les journaux d&#39;exceptions pour le formulaire Contactez-nous. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- magento/magento2/pull/31654-->

* Résolution de plusieurs problèmes liés au chargement des données client dans JavaScript. [GitHub-30498](https://github.com/magento/magento2/issues/30498)

<!-- magento/magento2/pull/33324-->

* L’utilisation de `QuoteIdToMaskedQuoteId` dans une extension n’augmente plus significativement le temps de réponse. [GitHub-33676](https://github.com/magento/magento2/issues/33676)

<!-- AC-720-->

* La classe `BundleDiscountPrice` dans `magento2/app/code/Magento/Bundle/Pricing/Price/ConfiguredPrice.php` est maintenant déclarée comme prévu. Auparavant, Adobe Commerce générait cette erreur : `Class Magento\Bundle\Pricing\Price\BundleDiscountPrice not found`. [GitHub-33334](https://github.com/magento/magento2/issues/33334)

<!-- AC-1239-->

* Les valeurs de champ CSV d&#39;échappement écrites par l&#39;adaptateur AWS S3 correspondent désormais aux données écrites par d&#39;autres adaptateurs de système de fichiers.

<!-- MC-43046-->

* Le stockage compatible S3 est désormais pris en charge. [GitHub-32114](https://github.com/magento/magento2/issues/32114)

<!-- ACP2E-123-->

* La déconnexion d’un appareil ne déconnecte plus automatiquement l’acheteur des autres appareils.

<!-- ACP2E-168-->

* Adobe Commerce enregistre désormais une page CMS lorsque vous la modifiez à partir de la grille intégrée au niveau du magasin d’affichage lorsque le paramètre de configuration **Utiliser la hiérarchie de nœuds parents** est désactivé. Auparavant, Adobe Commerce affichait cette erreur et n’enregistrait pas les modifications de votre page CMS : `A technical problem with the server created an error. Try again to continue what you were doing. If the problem persists, try again later`.

<!-- ACP2E-171-->

* Les chemins de navigation s’affichent désormais correctement pour les nœuds qui contiennent la même page. Auparavant, Adobe Commerce affichait le même nom de nœud pour les pages appartenant à plusieurs nœuds. Adobe Commerce a récupéré uniquement le premier nœud d’une page, même s’il en existait plusieurs pour chaque page.

<!-- ACP2E-202-->

* Les événements de réécriture d’URL lors de la modification en ligne sont désormais consignés dans les rapports.

<!-- ACP2E-290-->

* Le cookie `mage-messages` n’est pas réinitialisé en l’absence de nouveaux messages.

### Cartes cadeaux

<!-- MC-42327-->

* Ajout d’un message d’erreur plus informatif lorsqu’un acheteur saisit une carte cadeau non valide.

### GraphQL

<!-- PWA-1938-->

* Les mutations `generateCustomerToken` et `revokeCustomerToken` fournissent désormais l’identifiant de cache correct pour l’état de l’utilisateur. Auparavant, ces mutations utilisaient un `x-magento-cache-id` non valide, ce qui dégradait les performances.

<!-- PWA-1506-->

* La mutation `setBillingAddressToCart` utilise désormais correctement le paramètre `same_as_shipping` pour définir l’adresse de facturation de sorte qu’elle corresponde à l’adresse d’expédition prévue. Auparavant, Adobe Commerce affichait cette erreur : `The shipping method is missing. Select the shipping method and try again`. [GitHub-30924](https://github.com/magento/magento2/issues/30924)

<!-- PWA-1980-->

* Les opérations de panier GraphQL calculent désormais les totaux généraux du panier uniquement lorsque la requête le demande. Auparavant, les opérations du panier calculaient toujours le total général, qui est une opération gourmande en ressources.

<!-- MC-42781-->

* La mutation `addProductsToCart` ajoute désormais au panier uniquement les produits affectés au magasin défini dans l’en-tête .

<!-- MC-42783-->

* Les requêtes `products` à l’aide de filtres de navigation superposés renvoient désormais des listes de catégories enfants correctes. [GitHub-33387](https://github.com/magento/magento2/issues/33387)

<!-- MC-42831-->

* Les requêtes et les mutations qui renvoient l’objet `ConfigurableCartItem` contiennent des informations sur les variantes configurées comme prévu.

<!-- MC-42082-->

* La requête `products` renvoie désormais des valeurs d’option de produit de configuration et des valeurs d’attribut de variante. Auparavant, ces valeurs étaient vides dans les réponses aux requêtes.

<!-- MC-41794-->

* La requête `products` filtre désormais correctement les produits groupés lorsque les produits enfants sont désactivés au niveau de la vue du magasin. Auparavant, la requête renvoyait des produits enfants qui étaient désactivés au niveau de la vue du magasin.

<!-- PWA-1311-->

* GraphQL fournit désormais à New Relic des noms de transaction descriptifs, ce qui peut s’avérer utile pour le débogage. [GitHub-30915](https://github.com/magento/magento2/issues/30915)

<!-- MC-42903-->

* La mutation `setShippingAddressesOnCart` prend désormais en charge la définition des adresses d’expédition sur un panier avec une valeur de numéro de téléphone vide lorsque le paramètre de configuration **Afficher le téléphone** Admin est défini sur facultatif. Auparavant, Adobe Commerce générait cette erreur : `Field CartAddressInput.telephone of required type String! was not provided`.

<!-- MC-42970-->

* Correction d’un problème en raison duquel la mutation `addSimpleProductsToCart` vous permettait d’ajouter des produits simples à un panier qui ne sont pas affectés au site web cible.

<!-- MC-42600-->

* Les requêtes MySQL ont été optimisées pour les requêtes `products` GraphQL qui utilisent des paramètres de recherche pour affiner les résultats de recherche.

<!-- MC-43189-->

* La mutation `addConfigurableProductToCart` ne prend plus en charge l’ajout d’un produit à un panier si le produit n’est pas inclus dans la portée demandée.

<!-- MC-42666-->

* La requête `products` renvoie désormais uniquement les variantes configurables qui sont affectées à l’entrepôt demandé. Auparavant, toutes les variantes du produit configurable demandé étaient renvoyées.

<!-- MC-42652-->

* `addSimpleProductsToCart` requêtes peuvent désormais s’exécuter correctement en parallèle. Auparavant, plusieurs demandes pour le même SKU créaient des éléments de ligne en double pour le même ID de panier plutôt que d’augmenter la quantité de produit comme prévu.

<!-- AC-856-->

* La mutation `addProductsToCompareList` peut désormais être utilisée pour comparer des variantes de produits configurables.

<!-- MC-42443-->

* Lorsque le prix d’un produit de niveau est mis à jour à partir du serveur principal, le nouveau prix est mis à jour correctement sur le panier du client. Auparavant, bien que le sous-total de la section de résumé du panier ait été correctement mis à jour, le sous-total de la ligne n’était pas mis à jour.

<!-- AC-697-->

* La mutation `addProductsToCart` ajoute désormais toutes les options sélectionnées au panier lorsqu’elle est utilisée pour ajouter des produits groupés avec plusieurs options de sélection. Auparavant, la mutation ajoutait uniquement la dernière sélection. [GitHub-33123](https://github.com/magento/magento2/issues/33123)

<!-- MC-38815-->

* Les requêtes GraphQL renvoient désormais l’adresse de facturation attendue lorsque la valeur d’un champ téléphonique facultatif est définie sur une chaîne vide. Auparavant, les requêtes renvoyaient une valeur d’adresse nulle. [GitHub-30218](https://github.com/magento/magento2/issues/30218)

<!-- ACP2E-51-->

* La réponse à la requête `products` répertorie désormais les produits selon l’ordre de tri spécifié lorsque plusieurs produits ont la même pertinence ou valeur de prix.

<!-- ACP2E-75-->

* Les demandes de `addSimpleProductsToCart` et de `addProductsToCart` simultanées ne génèrent plus d&#39;éléments de devis dupliqués.

<!-- ACP2E-76-->

* `products` filtres de navigation superposés sur les requêtes renvoient désormais les listes correctes des catégories enfants. Seules les sous-catégories directes sont désormais incluses lorsque l’indicateur `includeDirectChildrenOnly` est fourni dans la requête. Auparavant, toutes les catégories étaient incluses en réponse dans la section agrégation lorsqu’un produit était affecté à plusieurs catégories.

<!-- ACP2E-132-->

* Ajout d’une fonctionnalité de suggestion de recherche pour les requêtes de recherche GraphQL.

<!-- ACP2E-288-->

* Le champ `OrderAddress.telephone` est désormais facultatif dans la requête `customer` ou dans d’autres requêtes et mutations qui renvoient ou modifient les adresses de commande client.

<!-- ACP2E-278-->

* Les prix sont désormais correctement mis à jour pour les clients d’un groupe spécifié dans le storefront et l’admin lorsqu’un ID de groupe est modifié via l’API. Auparavant, ces prix n’étaient pas correctement mis à jour lorsqu’un ID de groupe était modifié via l’API.

### Image

<!-- MC-42080-->

* Les images de filigrane avec arrière-plans transparents n’ont plus d’arrière-plan blanc sur l’image de produit transparente qu’elle recouvre. Auparavant, lorsque l’image du filigrane et l’image du produit avaient un arrière-plan transparent, le filigrane s’affichait avec un arrière-plan blanc.

<!-- AC-1240-->

* Les logos des factures et des reçus d’expédition sont désormais chargés et affichés comme prévu lorsque AWS S3 est activé.

<!-- MC-42160-->

* La balise de média associée à une image ajoutée à une page CMS dans un déploiement où l’administrateur est défini sur un domaine différent de l’URL du magasin contient désormais les URL de magasin attendues. Auparavant, les balises multimédias contenaient des URL d’administration statiques au lieu des URL de magasin attendues. [GitHub-32930](https://github.com/magento/magento2/issues/32930)

<!-- ACP2E-315-->

* Adobe Commerce ne renvoie plus d’erreur lorsque vous videz le cache d’images lors du chargement simultané d’images sur le storefront.

### Importer/exporter

<!-- AC-1486-->

* `bin/magento remote-storage:sync` n’échoue plus lorsque les noms de fichier sont similaires, mais ne diffèrent que d’un ou deux caractères. Auparavant, la première image était correctement stockée, mais la seconde image, portant le même nom, déclenchait un échec de synchronisation et cette erreur : `Notice: Undefined index: media/catalog/product/5/_ in /src/vendor/magento/module-remote-storage/Driver/Adapter/Cache/Generic.php on line 197`. [GitHub-34337](https://github.com/magento/magento2/issues/34337)

<!-- MC-41672-->

* Adobe Commerce convertit désormais la date et l’heure dans le nom du fichier d’exportation au fuseau horaire de l’utilisateur ou de l’utilisatrice après une exportation planifiée. Auparavant, ces valeurs n’étaient pas converties et Adobe Commerce affichait la date et l’heure UTC.

<!-- MC-42330-->

* Adobe Commerce ne crée plus d’images en double dans le stockage distant lorsque le même fichier CSV est importé plusieurs fois.

<!-- AC-1045-->

* L’importation n’échoue plus avec le message suivant : `Import failed: Area code not set: Area code must be set before starting a session`. [GitHub-16171](https://github.com/magento/magento2/issues/16171)

<!-- AC-988-->

* Vous pouvez désormais importer avec succès après avoir exécuté `bin/magento app:config:dump` et modifié manuellement les `config.php`. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- MC-41672 23734-->

* Les séparateurs à plusieurs valeurs non par défaut peuvent désormais être utilisés dans les attributs à sélection multiple personnalisés. Auparavant, la validation échouait lors de l’importation. [GitHub-23156](https://github.com/magento/magento2/issues/23156)

<!-- ACP2E-86-->

* La position du produit dans les catégories est désormais correctement attribuée lors de l’importation à partir de CSV.

### Index

<!-- MC-42791-->

* Adobe Commerce affiche désormais les produits comme prévu sur le storefront après la réindexation. Auparavant, lorsque les 500 premiers produits réindexés étaient en stock et que les 500 produits suivants étaient en rupture de stock, le storefront n’affichait aucun produit supplémentaire.

<!-- magento/magento2/pull/27212-->

* Résolution des problèmes de cohérence dans les fichiers `indexer.xml` fusionnés. Les valeurs autorisées dans `classType` sont désormais les mêmes dans les fichiers `indexer.xml` non fusionnés et fusionnés. [GitHub-29609](https://github.com/magento/magento2/issues/29609)

<!-- AC-190-->

* Un mécanisme de synchronisation a été implémenté dans les indexeurs de catégorie pour empêcher les indexeurs complets et partiels de s’exécuter en parallèle. Auparavant, lorsque ces indexeurs s’exécutaient en parallèle, les produits pouvaient être temporairement omis des pages de catégorie du storefront ou les pages de catégorie pouvaient être temporairement vides de produits.

### Infrastructure

<!-- AC-1172-->

* La méthode `str_contains` non prise en charge a été remplacée par une fonction prise en charge. Il s’agissait d’un problème connu pour Adobe Commerce 2.4.3. [GitHub-33680](https://github.com/magento/magento2/issues/33680)

<!-- magento/partners-magento2ee/pull/573-->

* Refactorisation de la base de code pour corriger l&#39;utilisation du mot clé `match`, qui est un mot clé réservé en PHP 8.x. [GitHub-33626](https://github.com/magento/magento2/issues/33626)

* Les balises HTML sont désormais imbriquées et fermées correctement afin de répondre aux normes de JQuery 3.5.x pour les éléments non nuls, y compris les éléments personnalisés. <!-- AC-1942-->

<!-- magento/magento2/pull/34234)-->

* Correction des fonctions `abs()` et `round()` pour la compatibilité avec PHP7.x et PHP8.x.  [GitHub-34322](https://github.com/magento/magento2/issues/34322)

<!-- AC-719-->

* La mise à jour des `symfony/console` n’entraîne plus d’échec lors de l’exécution des `bin/magento setup:di:compile`. [GitHub-33595](https://github.com/magento/magento2/issues/33595)

<!-- magento/magento2/pull/34175-->

* Correction de la restriction de la dépendance du compositeur d’`colinmollenhour/cache-backend-redis` . [GitHub-34177](https://github.com/magento/magento2/issues/34177)

<!-- magento/magento2/pull/33932 magento/magento2/pull/33992-->

* La base de code a été refactorisée afin de supprimer les appels aux méthodes obsolètes de `phpunit/phpunit`. [GitHub-33916](https://github.com/magento/magento2/issues/33916)

<!-- MC-42960-->

* Adobe Commerce affiche désormais un message d’erreur informatif lorsqu’un administrateur disposant d’une `pubs/media` en lecture seule tente d’accéder à la page des détails d’un produit qui inclut des images. Auparavant, Adobe Commerce générait une erreur PHP. [GitHub-32819](https://github.com/magento/magento2/issues/32819)

<!-- AC-853-->

* Toutes les annotations `@api` au niveau des membres ont été déplacées vers leur classe dans toute la base de code.

<!-- AC-1977-->

* `gift-card Cms` données de widget ont été déplacées de `Magento/WidgetSampleData` (Magento Open Source) vers `Magento/GiftCardSampleData` (Adobe Commerce). Cela a résolu les problèmes d&#39;installation de (Magento Open Source) avec des exemples de données sur PHP8.1.

<!-- AC-1001-->

* Interfaces marquées dans toute la base de code d’intégration d’Adobe Stock avec `@api` selon les besoins. [GitHub-32875](https://github.com/magento/magento2/issues/32875)

<!-- AC-1770-->

* Les entiers et les nombres flottants des ensembles de résultats sont désormais renvoyés en utilisant des types PHP natifs au lieu de chaînes lors de l’utilisation d’instructions préparées émulées. [GitHub-34625](https://github.com/magento/magento2/issues/34625)

<!-- AC-1697-->

* La création automatique de tableaux à partir de fausses valeurs a été désactivée pour assurer la compatibilité avec PHP 8.1.

<!-- AC-1338-->

* Le `Magento\Payment\Helper\Data` d’assistance ne crée plus de mises en page dans les constructeurs. Auparavant, lorsque cet helper était utilisé dans des commandes personnalisées sans spécifier d’indicatif régional, Adobe Commerce générait une erreur. [GitHub-33908](https://github.com/magento/magento2/issues/33908)

<!-- AC-1077-->

* Vous pouvez désormais transmettre un argument `data` à un constructeur d’instance de bloc par `di.xml`.

<!-- MC-43096-->

* `Generator.php` optimisée pour la lisibilité. [GitHub-33809](https://github.com/magento/magento2/issues/33809)

<!-- AC-1313-->

* Amélioration de la vérification JWK dans la classe `JwsManager` pour gérer les situations où l’algorithme est défini directement dans l’en-tête. Auparavant, ce contrôle ignorait ce scénario valide. [GitHub-32636](https://github.com/magento/magento2/issues/32636)

#### Mises à niveau pour la compatibilité PHP 8.1

<!-- AC-1605-->

* Les fonctions obsolètes de PHP 8.1 ont été supprimées de la base de code. [GitHub-34497](https://github.com/magento/magento2/issues/34497)

* Ajout de déclarations de type retour aux méthodes internes avec des types retour incomplets pour la compatibilité avec PHP 8.1. [GitHub-34498](https://github.com/magento/magento2/issues/34498) <!-- AC-1606-->

<!-- AC-1147-->

* Mise à jour du métapaquet de `composer.json` racine et du fichier `composer.json` pour chaque module vers PHP 8.1. [GitHub-34009](https://github.com/magento/magento2/issues/34009)

* Bibliothèque `jquery.tabs` tierce (dernière version)

* Packages NPM (dernière version) [GitHub-33512](https://github.com/magento/magento2/issues/33512), [GitHub-33972](https://github.com/magento/magento2/issues/33972) <!-- magento/magento2/pull/33515 33998-->

* `jquery.cookie` bibliothèque tierce (dernière version) [GitHub-34427](https://github.com/magento/magento2/issues/34427) <!-- AC-101-->

#### Mises à jour des dépendances du compositeur

* Toutes les dépendances du compositeur ont été mises à jour vers les versions compatibles avec PHP 8.1.

* PHPUnit a été mis à niveau vers la dernière version (9.5.x). Les tests et les structures de test ont été mis à jour pour être compatibles avec la nouvelle version. <!-- AC-404-->

#### Mises à jour des dépendances de JavaScript

<!-- magento/magento2/pull/33871-->

* `jquery-validate` bibliothèque tierce [GitHub-33853](https://github.com/magento/magento2/issues/33853)

<!-- ENGCOM-8667-->

* `Less.js` (v3.13.1) [GitHub-32845](https://github.com/magento/magento2/issues/32845)

#### Suppressions et obsolescence de bibliothèques

* Les bibliothèques suivantes ont été supprimées, car tous les navigateurs pris en charge par Adobe Commerce 2.4.x disposent d’une prise en charge intégrée de cette fonctionnalité :

   * `es6-collections.js`   <!-- AC-18-->
   * `MutationObserver.js` <!-- AC-15-->
   * `Modernizr` <!-- AC-12-->
   * `FormData.js`

* Suppression de la bibliothèque `jquery.hoverIntent` JavaScript inutilisée. [GitHub-33732](https://github.com/magento/magento2/issues/33732) <!-- AC-97-->

* `lib/internal/Magento/Framework/Filter/Money.php` a été abandonné. Il contient la fonction `money_format()`, qui a été supprimée en PHP 8.x. [GitHub-33870](https://github.com/magento/magento2/issues/33870)<!-- magento/magento2/pull/34366)-->

* Suppression du package `grunt-autoprefixer` obsolète et non pris en charge. [GitHub-34037](https://github.com/magento/magento2/issues/34037) <!-- magento/magento2/pull/34032-->

#### Mises à niveau des bibliothèques

* Les bibliothèques suivantes ont été mises à niveau vers des versions plus récentes :

   * `script.aculo.us` <!-- AC-363-->
   * `Chart.js`  <!-- AC-361-->
   * `moment.js` <!-- AC-11-->
   * `moment-timezone-with-data.js`   <!-- AC-10-->
   * `matchMedia.js` <!-- AC-8-->
   * `underscore.js`  <!-- AC-13-->
   * `PrototypeJS`  <!-- AC-17-->
   * `RequireJS`
   * `LessCSS`

### Facture

<!-- AC-1564-->

* La conversion en `int` a été supprimée pour les identifiants de facture auto-incrémentés lorsqu’ils sont précédés d’une chaîne. Par conséquent, les factures affichent désormais un 0 pour les nombres précédés d&#39;une chaîne. [GitHub-34451](https://github.com/magento/magento2/issues/34451)

### Journalisation

<!-- MC-42360-->

* Adobe Commerce ne crée plus d’entrées de journal pour les appels API ayant échoué exécutant des actions en masse dans **System** > **Bulk Actions**. Auparavant, les entrées permanentes pour les appels API ayant échoué étaient ajoutées au journal d’actions en masse.

<!-- AC-1607-->

* La création automatique de tableaux à partir de valeurs fausses n’est plus autorisée. [GitHub-34499](https://github.com/magento/magento2/issues/34499), [GitHub-34589](https://github.com/magento/magento2/issues/34589)

### norme de codage Adobe Commerce

<!-- magento/magento-coding-standard/pull/219-->

* Mise à jour d’`phpunit/ phpunit` vers la dernière version du référentiel `magento-coding-standard`. [GitHub-33622](https://github.com/magento/magento2/issues/33622)

<!-- magento/magento2/pull/33858-->

* Mise à jour de la dépendance `webonyx/graphql-php` vers la version ^14.9 dans le référentiel Adobe Commerce coding standard. [GitHub-32863](https://github.com/magento/magento2/issues/32863)

<!-- magento/magento-coding-standard/pull/322-->

* Ajout d’un nouveau `Magento2.PHP.ArrayAutovivification` de reniflement à la norme de codage Adobe Commerce pour identifier la création automatique de tableaux à partir d’une valeur false. [GitHub-34509](https://github.com/magento/magento2/issues/34509)

<!-- magento/magento-coding-standard/pull/325-->

* Ajout de nouvelles `Magento2.Functions.DeprecatedFunction` de reniflement à la norme de codage Adobe Commerce. [GitHub-34547](https://github.com/magento/magento2/issues/34547)

<!-- magento/magento-coding-standard/pull/326-->

* Ajout de fonctions obsolètes pour renifler les `Magento2.Functions.DiscouragedFunction` dans la norme de codage Adobe Commerce. [GitHub-34548](https://github.com/magento/magento2/issues/34548)

<!-- magento/magento-coding-standard/pull/335-->

* Le reniflement `Magento2.Annotation.MethodAnnotationStructure` n’échoue plus avec un faux positif. [GitHub-34679](https://github.com/magento/magento2/issues/34679)

### Galerie de médias

<!-- AC-1054-->

* La commande `bin/magento media-gallery:sync` n’échoue plus dans les déploiements où AWS S3 est activé.

<!-- AC-1000-->

* Les titres du sous-menu Contenu de la Galerie de médias nouvellement ajoutés s’affichent désormais lorsque les éléments de menu dépassent 11 et que le paramètre de configuration **Activer l’ancienne Galerie de médias** est activé. [GitHub-33889](https://github.com/magento/magento2/issues/33889)

<!-- MC-42837-->

* Le temps de chargement de l’onglet Galerie de médias lors de la modification d’un produit avec de nombreuses images a été amélioré. [GitHub-33434](https://github.com/magento/magento2/issues/33434)

### MFTF

<!-- AC-516-->

* `CURLOPT_POSTFIELDS` n’accepte plus les objets en tant que tableaux. Pour interpréter un objet en tant que tableau, effectuez un cast explicite (`array`). Cette pratique s’applique également aux autres options qui acceptent des tableaux. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

* `curl_init()` renvoie désormais un objet `CurlHandle` plutôt qu’une ressource. La fonction `curl_close()` n’a plus d’effet. Au lieu de cela, l’instance `CurlHandle` est automatiquement détruite si elle n’est plus référencée. [GitHub-33781](https://github.com/magento/magento2/issues/33781)

<!-- AC-1397-->

* Correction d’erreurs dans les tests MFTF pour les produits téléchargeables. [GitHub-34270](https://github.com/magento/magento2/issues/34270)

<!-- magento/magento2/pull/33530-->

* Suppression de `CliCacheFlushActionGroup` des modules `CatalogSearch`, `GroupedProduct`, `Newsletter`, `Paypal`, `Quote` et `Review`. [GitHub-33531](https://github.com/magento/magento2/issues/33531)

<!-- AC-515-->

* Les comparaisons non strictes entre des nombres et des chaînes non numériques fonctionnent désormais en convertissant le nombre en chaîne et en comparant les chaînes. Les comparaisons entre des nombres et des chaînes numériques continuent de fonctionner comme avant. Cela signifie que 0 == « not-a-number » est désormais considéré comme faux. [GitHub-33780](https://github.com/magento/magento2/issues/33780)

<!-- AC-517-->

* `parse_url()` fait maintenant la distinction entre les requêtes et les fragments absents et vides. [GitHub-33782](https://github.com/magento/magento2/issues/33782)

<!-- magento/magento2-functional-testing-framework/pull/873-->

* Mise à jour de la base de code pour éviter une erreur fatale lors de l’utilisation de la méthode `ReflectionType::isBuiltin()`. [GitHub-34194](https://github.com/magento/magento2/issues/34194)

#### Nouveaux groupes d’action

`AdminCheckOrderStatusInGridActionGroup` [GitHub-33747](https://github.com/magento/magento2/issues/33747)

`StorefrontSelectFirstShippingMethodActionGroup` [GitHub-33773](https://github.com/magento/magento2/issues/33773)

`AdminClickUpdateChangesOnCreateOrderPageActionGroup` [GitHub-33689](https://github.com/magento/magento2/issues/33689)

#### Groupes d&#39;actions

Les actions répétitives ont été remplacées par des groupes d’actions dans ces tests :

`AdminAddInStockProductToTheCartTest` [GitHub-34512](https://github.com/magento/magento2/issues/34512)

`AdminAddBundleItemsTest` [GitHub-34312](https://github.com/magento/magento2/issues/34312)

`AdminConfigurableProductAddConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductBulkUpdateTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminConfigurableProductDisableAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductOutOfStockAndDeleteCombinationTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductOutOfStockTestDeleteChildrenTest` [GitHub-34316](https://github.com/magento/magento2/issues/34316)

`AdminConfigurableProductRemoveAnOptionTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminConfigurableProductRemoveConfigurationTest` [GitHub-34511](https://github.com/magento/magento2/issues/34511)

`AdminCreateAndEditSimpleProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateAndEditVirtualProductSettingsTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminCreateInactiveFlatCategoryTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminCreateInactiveInMenuFlatCategoryTest` [GitHub-34510](https://github.com/magento/magento2/issues/34510)

`AdminCreateDuplicateCategoryTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminCreateDuplicateProductTest` [GitHub-34414](https://github.com/magento/magento2/issues/34414)

`AdminDeleteSimpleProductTest` [GitHub-33783](https://github.com/magento/magento2/issues/33783)

`AdminEditRelatedBundleProductTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminMassDeleteBundleProductsTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`AdminNavigateMultipleUpSellProductsTest` [GitHub-34314](https://github.com/magento/magento2/issues/34314)

`AdminSimpleProductSetEditContentTest` [GitHub-34435](https://github.com/magento/magento2/issues/34435)

`AdminSimpleProductTypeSwitchingToConfigurableProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminConfigurableProductTypeSwitchingToVirtualProductTest` [GitHub-33788](https://github.com/magento/magento2/issues/33788)

`AdminCreateConfigurableProductWithDisabledChildrenProductsTest` [GitHub-33775](https://github.com/magento/magento2/issues/33775)

`AdminUpdateFlatCategoryAndAddProductsTest` [GitHub-34490](https://github.com/magento/magento2/issues/34490)

`AdminUpdateTopCategoryUrlWithNoRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`AdminUpdateTopCategoryUrlWithRedirectTest` [GitHub-33774](https://github.com/magento/magento2/issues/33774)

`CatalogProductListWidgetOperatorsTest` [GitHub-34579](https://github.com/magento/magento2/issues/34579)

`CreateProductAttributeEntityWithReservedKeysTest`[GitHub-34422](https://github.com/magento/magento2/issues/34422)

`EnableDisableBundleProductStatusTest` [GitHub-34313](https://github.com/magento/magento2/issues/34313)

`StorefrontCheckRefundGrandTotalActionGroup` [GitHub-34315](https://github.com/magento/magento2/issues/34315)

`StorefrontInactiveCatalogRuleTest` [GitHub-33556](https://github.com/magento/magento2/issues/33556)

`StorefrontConfigurableProductCantAddToCartTest` [GitHub-33786](https://github.com/magento/magento2/issues/33786)

`StorefrontConfigurableProductOptionsTest` [GitHub-33785](https://github.com/magento/magento2/issues/33785)

`StorefrontConfigurableProductCanAddToCartTest` [GitHub-33784](https://github.com/magento/magento2/issues/33784)

`StorefrontConfigurableProductGridViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontConfigurableProductListViewTest` [GitHub-34311](https://github.com/magento/magento2/issues/34311)

`StorefrontProductNameWithHTMLEntitiesTest` [GitHub-33806](https://github.com/magento/magento2/issues/33806)

`StorefrontProductNameWithDoubleQuoteTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

#### Nouveaux tests

`AdminCreateOrderWithCheckedAppendCommentCheckboxTest` [GitHub-32381](https://github.com/magento/magento2/issues/32381)

`CheckoutWithEnabledCaptchaTest` [GitHub-32991](https://github.com/magento/magento2/issues/32991)

`StorefrontAddProductWithBackordersAllowedOnProductLevelToCartTest` [GitHub-33635](https://github.com/magento/magento2/issues/33635)

`StorefrontGiftMessageForOrderOnCheckoutCartPageTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCaptchaCheckoutWithEnabledCaptchaTest` [GitHub-32821](https://github.com/magento/magento2/issues/32821)

`StorefrontCheckoutWithEnabledMinimumOrderAmountOptionTest` [GitHub-33460](https://github.com/magento/magento2/issues/33460)

#### Tests refactorisés

`CaptchaWithDisabledGuestCheckoutTest` [GitHub-30828](https://github.com/magento/magento2/issues/30828)

### Newsletters

<!-- ACP2E-147-->

* Les utilisateurs disposant des autorisations appropriées peuvent désormais gérer les abonnements aux newsletters clientes comme prévu. Auparavant, seuls les administrateurs disposant d’autorisations complètes pouvaient gérer les abonnements aux newsletters des clients sur la page Compte client d’administration .

### Ordre

<!-- MC-41981-->

* Les acheteurs peuvent désormais commander à nouveau une commande existante contenant un produit en combinant des options personnalisées de type fichier et liste déroulante de type à partir du storefront et de l’administrateur. Auparavant, Adobe Commerce générait une erreur et ne traitait pas la réorganisation.

<!-- MC-42746-->

* Les factures pour les commandes payées par crédit de magasin et pour lesquelles les taxes produit fixes (FPT) ont été appliquées incluent désormais le total général correct.

<!-- MC-42332-->

* La page Détails de la commande d’administration se charge désormais comme prévu. Auparavant, Adobe Commerce générait l’erreur suivante lors du chargement de la page des détails des commandes pour les commandes avec certaines taxes : `Call to a member function getId() on array`.

<!-- MC-38521-->

* Les administrateurs disposant d’autorisations restreintes incluant des droits de commande et d’expédition peuvent désormais afficher la page de commande comme prévu. Auparavant, Adobe Commerce générait une erreur lorsqu’un administrateur disposant de ces autorisations tentait d’afficher une commande. [GitHub-14633](https://github.com/magento/magento2/issues/14633)

<!-- ACP2E-74-->

* Les acheteurs peuvent désormais passer une commande qui inclut un produit configurable enfant lorsqu’une limite de quantité maximale autorisée est définie.

### Modes de paiement

<!-- AC-1830-->

* Les acheteurs peuvent désormais utiliser Braintree pour passer une commande à l’aide d’une adresse de facturation sans région définie dans les déploiements avec 3DS activé. Auparavant, le passage en caisse était bloqué lorsque l’acheteur cliquait sur **Passer une commande** et l’achat ne pouvait pas être effectué. [GitHub-34204](https://github.com/magento/magento2/issues/34204)

<!-- AC-1229-->

* L’option de paiement Venmo est désormais prise en charge.

<!-- AC-1228-->

* PayPal peut maintenant effectuer le suivi par code BN.

<!-- AC-493-->

* `bin/magento setup:upgrade` s’exécute désormais comme prévu lors de la mise à niveau à partir d’Adobe Commerce 2.4.2-p1. Auparavant, Adobe Commerce générait cette erreur : `Unable to apply data patch Magento\Paypal\Setup\Patch\Data\UpdateBmltoPayLater for module Magento_Paypal`. [GitHub-33678](https://github.com/magento/magento2/issues/33678)

<!-- MC-42830-->

* L’ID de magasin correct est désormais utilisé pour récupérer les cartes de crédit enregistrées lors du placement de la commande administrateur. Les cartes de crédit stockées s’affichent désormais lors du placement de la commande en fonction du paramètre de configuration de la portée du site web. Auparavant, lorsqu’un administrateur tentait de créer une commande pour un client à partir de l’Administration et sélectionnait la méthode Cartes de crédit stockées , aucune option n’était disponible pour les cartes stockées.

<!-- AC-344-->

* Les anomalies liées à l&#39;affichage des montants des cartes-cadeaux avec le crédit PayPal ont été résolues. Auparavant, lorsque le crédit PayPal était activé et que plusieurs montants de carte cadeau étaient configurés, si un acheteur modifiait le montant pour la valeur d&#39;une carte cadeau, le storefront ne mettait pas à jour le montant pour les paiements échelonnés. Il s’agissait d’un problème connu dans Adobe Commerce 2.4.3.

#### PayPal

<!-- MC-42154-->

* Adobe Commerce n&#39;affiche plus d&#39;erreur lors du passage en caisse avec le mode de paiement PayPal Express. Auparavant, bien que le processus de passage en caisse soit terminé, Adobe Commerce affichait cette erreur : `Something went wrong`.

<!-- AC-722-->

* PayPal Express fonctionne maintenant comme prévu à partir du panier. Auparavant, lorsque vous cliquiez sur le bouton **PayPal** pour commencer le passage en caisse express du panier, Adobe Commerce générait cette erreur : `To check out, please sign in with your email address`. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42279-->

* PayPal Payflow Pro effectue désormais une capture différée avec les ID de transaction parents corrects dans les déploiements où la passerelle PayPal Payflow Pro avec **Action de paiement** est définie sur **Autorisation**. Une transaction **Sale** est envoyée à Payflow avec un ID de transaction parent du jeton de coffre créé lors du passage en caisse comme prévu. Auparavant, une transaction **capture différée** était créée et envoyée à PayPal Payflow. [GitHub-33445](https://github.com/magento/magento2/issues/33445)

<!-- MC-42442-->

* Les acheteurs sont maintenant redirigés vers la page de succès comme prévu une fois le paiement avec PayPal Payments Advanced terminé. Auparavant, les acheteurs n’étaient pas redirigés vers cette page même si le paiement avait été traité avec succès et qu’aucune erreur n’avait été consignée.

### Performances

<!-- AC-705-->

* Ajout d’un index à `magento_giftcardaccount.code` pour améliorer les performances.

<!-- MC-42158-->

* Le temps d’exécution du chargement de la liste des modules a été amélioré.

<!-- AC-932-->

* Les performances du cache des termes de recherche populaires ont été améliorées. Auparavant, plus la table `search_query` était grande, plus la durée d’exécution d’une requête de recherche était longue. [GitHub-27559](https://github.com/magento/magento2/issues/27559)

<!-- MC-42892-->

* Par défaut, Adobe Commerce redimensionne les images de manière synchrone lors de l’enregistrement du produit. Les commerçants peuvent désormais redimensionner les images en tant que processus asynchrone en arrière-plan en apportant des modifications mineures à un fichier `di.xml`.

<!-- ENGCOM-9168-->

* Les performances de l’indexeur des produits de catégorie ont été améliorées dans les déploiements multi-magasin. [GitHub-33984](https://github.com/magento/magento2/issues/33984)

<!-- AC-1179-->

* Le nouveau cache en mémoire pour les appels système `glob()` améliore les performances en réduisant le nombre d’appels `glob()`.  [GitHub-34025](https://github.com/magento/magento2/issues/34025)

<!-- ACP2E-63-->

* Les performances du processus de réindexation asynchrone de la grille d’ordres ont été améliorées.

<!-- ACP2E-117-->

* La consommation de mémoire pendant l’exportation du produit a été optimisée.

<!-- ACP2E-325-->

* Le chargement des pages de détails du produit avec les produits associés a été optimisé. Les requêtes relatives aux conditions des produits associés ont également été optimisées.

### Tarification

<!-- MC-42243-->

* Le tri par prix fonctionne désormais comme prévu lorsque les prix des produits sont proches de zéro ou égaux à zéro et que les catalogues partagés sont activés. Auparavant, les prix de niveau zéro étaient ignorés lors de la réindexation des prix.

<!-- ACP2E-87-->

* Adobe Commerce ne renvoie plus d’erreur si le filtre de prix de la page Catégorie ne contient pas de seconde valeur. Auparavant, Adobe Commerce générait une exception dans le fichier journal.

### AlerteProduit

<!-- MC-41917-->

* Le nouveau client `product_alert` améliore l’envoi des alertes aux clients en créant des messages de file d’attente, en exécutant le client et en améliorant le temps d’exécution. Auparavant, Adobe Commerce générait une exception de mémoire insuffisante lors de l’envoi de plus de 100 000 alertes de produits. Adobe Commerce a également mis plus de 20 heures à envoyer toutes les alertes.

### Vidéo du produit

<!-- MC-42105-->

* Adobe Commerce active désormais le bouton **Enregistrer** et remplit automatiquement les champs lorsque vous saisissez une URL incomplète lors de l’ajout d’une vidéo (Admin **Catalogue** > **Produits** > **Ajouter une vidéo**). Auparavant, le bouton **Enregistrer** était désactivé et les champs n’étaient pas renseignés.

### Autorisations de retour de marchandises (RMA)

<!-- MC-42987-->

* La grille Créer un retour produit d&#39;administration affiche désormais la taxe, y compris les prix, uniquement pour les produits configurés pour afficher la taxe avec les prix. Auparavant, Adobe Commerce ne vérifiait pas les paramètres d’affichage de configuration sur l’indicateur `tax/calculation/price_includes_tax`.

### Examens

* La vue Liste de produits affiche désormais la notation marquée correcte pour les produits. [GitHub-30196](https://github.com/magento/magento2/issues/30196)

<!-- ACP2E-89-->

* Les évaluations sont désormais visibles comme prévu lorsqu’un acheteur clique sur **Évaluation** sur la page du produit storefront.

<!-- ACP2E-111-->

* L’évaluation par étoiles du produit est désormais cohérente dans les vues Grille et Liste de la page de liste des produits de storefront. Auparavant, le même produit pouvait avoir des évaluations différentes dans les modes d’affichage Grille et Liste.

### Récompenses

<!-- ACP2E-129-->

* Le solde des points de récompense et l’historique des points de récompense affichent désormais le même solde. Les points expirés sont désormais correctement déduits. Auparavant, le solde des points de récompense ne reflétait pas précisément les points expirés.

<!-- ACP2E-158-->

* Les points de récompense expirés sont désormais marqués comme **Expirés** dans la section Motif de la grille Historique des points de récompense du storefront.

### Ventes

<!-- MC-42025-->

* Les performances des mises à jour de grille de ventes en mode asynchrone pour les tables avec des jeux de données volumineux après la mise à niveau vers MariaDB 10.2.34 ont été améliorées.

<!-- MC-42531-->

* Adobe Commerce supprime désormais les balises HTML comme prévu de la page storefront **Compte** > **Mes commandes** > **Afficher la commande**. Auparavant, Adobe Commerce affichait les balises HTML dans la section de commentaire des commandes des clients du storefront.

<!-- MC-42377-->

* Ajout d’une couverture de test automatisée pour vérifier l’existence d’un index pour `sales_shipment_grid.order_id`.

<!-- MC-43163-->

* Les appels `POST V1/orders` mettent désormais à jour les attributs d’extension sans erreur. Auparavant, une erreur de syntaxe SQL se produisait.

### Rechercher {#search-heading}

<!-- MC-42799-->

* Les options de navigation superposée pour les fourchettes de prix fonctionnent désormais comme prévu avec les attributs de prix personnalisés. Adobe Commerce utilise la configuration de l’étape de navigation des prix lors du filtrage des attributs de prix personnalisés. Auparavant, Adobe Commerce utilisait la configuration manuelle des étapes.

<!-- MC-42545-->

* Le storefront affiche désormais toutes les sous-catégories de la catégorie actuelle dans la navigation superposée, quel que soit le nombre de catégories disponibles dans le catalogue.

<!-- MC-41706-->

* Les recherches dans les catalogues Elasticsearch ne respectent plus les signes diacritiques. Auparavant, les recherches de termes sans accent donnaient des résultats différents de ceux des recherches effectuées sur le même terme avec un accent.

<!-- ACP2E-8-->

* Le poids de la recherche est désormais correctement défini sur les attributs de SKU qui contiennent des caractères spéciaux.

<!-- ACP2E-36-->

* `category_name` a été ajouté aux codes d&#39;attribut de produit réservés au système. Adobe Commerce affiche désormais une erreur si un utilisateur tente de créer un attribut de produit avec le code d’attribut `category_name`. Auparavant, les produits n’étaient pas répertoriés dans la catégorie prévue et une erreur Elasticsearch était consignée.

<!-- ACP2E-68-->

* Les termes de recherche populaires sont désormais mis à jour après chaque requête GraphQL.

<!-- ACP2E-249-->

* Adobe Commerce ajoute désormais les champs de prix corrects au mappage de l’indice de prix Elasticsearch. Auparavant, les champs de prix incorrects étaient ajoutés à l’index avec l’ID de magasin au lieu de l’ID de site web.

### Expédition

<!-- MC-42758-->

* L’e-mail d’expédition inclut désormais le numéro de suivi de l’expédition actuelle uniquement. Auparavant, lorsqu’une commande incluait plusieurs expéditions, l’e-mail de chaque expédition incluait les numéros de suivi de toutes les expéditions liées à la commande.

<!-- MC-42396-->

* Adobe Commerce met désormais à jour le mini panier avec succès lorsqu’un acheteur supprime un produit de son panier en mode multi-expédition, puis passe à une seule adresse d’expédition. Auparavant, les prix des produits n’étaient pas mis à jour comme prévu.

<!-- AC-267-->

* L&#39;importation des taux de table fonctionne désormais comme prévu lors de l&#39;utilisation de l&#39;adaptateur de stockage S3. Auparavant, Adobe Commerce affichait cette erreur : `File "https://[bucket].s3.eu-central-1.amazonaws.com/[prefix]/tmp/phpLjGmHf" not found`. [GitHub-33072](https://github.com/magento/magento2/issues/33072)

<!-- MC-42577-->

* Vous pouvez désormais désactiver les e-mails de mise à jour d’expédition comme prévu dans **Magasins** > **Configuration** > **Ventes** > **E-mails de vente**. [GitHub-33165](https://github.com/magento/magento2/issues/33165)

<!-- ACP2E-31-->

* Adobe Commerce affiche désormais les frais de livraison gratuits (0) sur les totaux des pages de facture d’administration et de storefront. Auparavant, lorsque l’expédition était égale à zéro pour une commande, Adobe Commerce n’affichait pas le montant d’expédition dans les totaux sur le total d’expédition de la page de facture.

<!-- ACP2E-120-->

* Les demandes de taux aux transporteurs maritimes en ligne ont été réduites de plusieurs à une seule. L&#39;assurance des colis et le prix de manutention par article/colis sont désormais correctement calculés. Auparavant, Adobe Commerce affichait des tarifs d’expédition incorrects pour les méthodes d’expédition FedEx.

<!-- ACP2E-174-->

* Adobe Commerce affiche désormais les taux UPS lors de la création d’étiquettes d’expédition pour l’expédition depuis Porto Rico. Auparavant, Adobe Commerce n’affichait pas ces taux d’UPS.

<!-- ACP2E-227-->

* L’adresse postale d’expédition est maintenant effacée complètement comme prévu après suppression de la zone de saisie. Auparavant, la zone de texte conservait un ou plusieurs caractères après la suppression de l’adresse.

### Évaluation

<!-- MC-42194  -->

* Les images et les vidéos des mises à jour planifiées des produits sont désormais correctement enregistrées. Auparavant, les vidéos, URL, titres et descriptions étaient supprimés après la création d’une mise à jour planifiée.

<!-- MC-42501-->

* Adobe Commerce affiche désormais l’attribut Prix minimum annoncé dans le formulaire Planifier une nouvelle mise à jour pour les vues de magasin pour lesquelles l’attribut est activé.

<!-- MC-42590-->

* Adobe Commerce n’affiche désormais qu’un seul onglet Images dans le formulaire de mise à jour planifiée du produit comme prévu. Auparavant, Adobe Commerce dupliquait cet onglet.

<!-- MC-23994-->

* Le statut du stock de produits s’affiche désormais correctement dans les aperçus de mise à jour planifiée. Auparavant, le statut du produit s’affichait comme étant en rupture de stock lorsqu’un produit précédemment désactivé était activé lors de la création de la mise à jour de la planification.

### Stocker

<!-- MC-42884-->

* La fonction Connexion en tant que client fonctionne désormais comme prévu dans les déploiements contenant plusieurs magasins sur différentes URL. Auparavant, Adobe Commerce ne chargeait pas le magasin approprié, même lors de l’accès au domaine de magasin approprié.

### Outil d’analyse à l’échelle du site

<!-- ACP2E-240-->

* Les commerçants peuvent maintenant accéder à l&#39;outil d&#39;analyse à l&#39;échelle du site comme prévu. Auparavant, les paires de clés rompues empêchaient certains commerçants d’accéder à l’outil.

### Taxe

<!-- MC-41924-->

* Adobe Commerce calcule désormais correctement le sous-total du mini panier lorsqu’un client supprime un article après avoir sélectionné l’expédition à plusieurs adresses.

<!-- MC-41945-->

* Adobe Commerce affiche désormais le même taux de taxe sur toutes les pages de passage en caisse lorsque le panier ne contient que des produits virtuels.

<!-- AC-714-->

* Les prix de niveau pour les produits configurables affichent désormais des valeurs exactes de taxe incluse et exclue sur le storefront. Auparavant, les mêmes valeurs s&#39;affichaient pour les taxes incluses et exclues. [GitHub-33673](https://github.com/magento/magento2/issues/33673)

### Test

<!-- magento/magento2/pull/34798-->

* Les tests WebAPI sont désormais compatibles avec PHP 8.1. [GitHub-34653](https://github.com/magento/magento2/issues/34653)

<!-- magento/magento2/pull/34820-->

* Les tests d&#39;intégration sont désormais compatibles avec PHP 8.1. [GitHub-34567](https://github.com/magento/magento2/issues/34567), [GitHub-34569](https://github.com/magento/magento2/issues/34569)

<!-- AC-1225-->

* Les commerçants peuvent désormais tester l’expérience de l’acheteur dans le pays où il se trouve, plutôt que dans son lieu d’origine.

<!-- AC-266-->

* La consommation de mémoire de test d&#39;intégration a été réduite, ce qui améliore les performances de test et réduit le temps nécessaire à l&#39;achèvement du test.

<!-- MC-41955-->

* Ajout d’un test pour vérifier le format d’attribut de date personnalisé pour storefront et Admin.

<!-- AC-1517-->

* Correction des erreurs avec `StorefrontPOWorkflowVerifyApprovalFlowTabTest`. [GitHub-34378](https://github.com/magento/magento2/issues/34378)

<!-- AC-1571-->

* Les tests fonctionnels ont été stabilisés pour la compatibilité PHP 8.x. [GitHub-34327](https://github.com/magento/magento2/issues/34327), [GitHub-34188](https://github.com/magento/magento2/issues/34188)

<!-- magento/magento2/pull/34198-->

* Correction de problèmes fonctionnels dans les tests WebAPI. [GitHub-34196](https://github.com/magento/magento2/issues/34196)

<!-- AC-1207-->

* Correction d’erreurs qui entraînaient des tests statiques faux positifs. [GitHub-34056](https://github.com/magento/magento2/issues/34056)

<!-- magento/magento2/pull/34300-->

* La couverture de test a été mise à jour pour `call_user_func_array`. [GitHub-34301](https://github.com/magento/magento2/issues/34301)

<!-- AC-1978-->

* Le test `Magento\GraphQl\CatalogGraphQl\ProductSearchTest` ne renvoie plus cette erreur lorsqu’il est exécuté avec AWS Elasticsearch : `Magento\GraphQl\CatalogGraphQl\ProductSearchTest::testSearchSuggestions Failed asserting that an array is not empty. /var/www/html/dev/tests/api-functional/testsuite/Magento/GraphQl/CatalogGraphQl/ProductSearchTest.php:94 /var/www/html/dev/tests/api-functional/framework/Magento/TestFramework/TestCase/GraphQlAbstract.php:257`.

<!-- magento/magento2/pull/33699-->

* Correction de nombreux avertissements de test unitaire non critiques en renommant toutes les variables simulées pour inclure le suffixe `Mock` et en supprimant les références à une classe Object Manager obsolète. [GitHub-33695](https://github.com/magento/magento2/issues/33695)

* Le test `Magento\Framework\MessageQueue\TopologyTest` est désormais compatible avec le service AWS MQ for [!DNL RabbitMQ]. Auparavant, ce test échouait avec le message suivant : `Invalid exchange configuration: magento-topic-based-exchange1 Failed asserting that two arrays are equal`. <!-- AC-1248-->

<!-- magento/magento2/pull/34454-->

* Les tests unitaires sont désormais compatibles avec PHP 8.1. [GitHub-34441](https://github.com/magento/magento2/issues/34441)

#### Tests unitaires

Les tests unitaires suivants ont été refactorisés afin d’utiliser `PHPUnit` au lieu de `AspectMock` :

`AllureHelperTest` [GitHub-33294](https://github.com/magento/magento2/issues/33294)

`ObjectHandlerUtil` [GitHub-33584](https://github.com/magento/magento2/issues/33584)

`MockModuleResolverBuilder` [GitHub-33583](https://github.com/magento/magento2/issues/33583)

`MagentoTestCase` [GitHub-33582](https://github.com/magento/magento2/issues/33582)

`ModuleResolverTest` [GitHub-33308](https://github.com/magento/magento2/issues/33308)

`ParallelGroupSorterTest` [GitHub-33306](https://github.com/magento/magento2/issues/33306)

`SuiteGeneratorTest` [GitHub-33299](https://github.com/magento/magento2/issues/33299)

`OperationDataArrayResolverTest` [GitHub-33296](https://github.com/magento/magento2/issues/33296)

### Thème

<!-- MC-41887-->

* Les messages de notification s’affichent désormais correctement lorsqu’un sous-chemin d’accès est configuré dans l’URL de base d’Adobe Commerce.

<!-- MC-42469-->

* Ajout d’un élément `aria-label` au modèle de page du storefront pour indiquer la page à laquelle l’acheteur accédera lorsqu’il clique sur un lien. Auparavant, le même texte de lien était utilisé pour les liens vers différentes pages. [GitHub-33075](https://github.com/magento/magento2/issues/33075)

<!-- ACP2E-73-->

* Adobe Commerce n’affiche plus de message d’erreur lors du chargement de la page d’accueil d’un magasin avec un thème personnalisé préexistant. Auparavant, Adobe Commerce affichait le message suivant : `The store will not work correctly in the case when cookies are disabled`.

### Traductions et paramètres régionaux

<!-- AC-285 MC-41400-->

* Le programme de validation des `UserExpiration` n’échoue plus avec les paramètres régionaux `de_DE` et `uk_UA`. Auparavant, Adobe Commerce générait une erreur lorsqu’un administrateur tentait de définir une date d’expiration lors de la création d’un nouvel utilisateur à partir de l’Administration avec des paramètres régionaux définis sur `de_DE` ou `uk_UA`. [GitHub-32497](https://github.com/magento/magento2/issues/32497)

<!-- MC-41583 AC-989-->

* Les noms des régions suisses sont désormais systématiquement présentés en anglais dans les formulaires de création ou de modification d’adresses. [GitHub-32602](https://github.com/magento/magento2/issues/32602)

<!-- magento/magento2/pull/33128-->

* Mise à jour des modèles `zip_codes.xml` pour Guernesey afin de prendre en charge les codes postaux GY10 pour l&#39;île de Sercq. [GitHub-33144](https://github.com/magento/magento2/issues/33144)

<!-- AC-1080-->

* Ajout des régions Biélorussie au tableau `directory_country_region`. [GitHub-33924](https://github.com/magento/magento2/issues/33924)

<!-- AC-1178-->

* Les anomalies d’affichage avec les storefronts exécutant les paramètres régionaux Philippins ont été résolues. [GitHub-33996](https://github.com/magento/magento2/issues/33996)

<!-- AC-1308-->

* Vous pouvez désormais saisir une date de naissance de client lors de la création d’un compte dans des magasins définis sur un paramètre régional portugais (Portugal). Auparavant, Adobe Commerce générait une erreur lorsque vous tentiez de créer un compte. [GitHub-34130](https://github.com/magento/magento2/issues/34130)

<!-- ACP2E-457-->

* La page des détails du produit s’affiche désormais avec le paramètre régional Arabe (Arabie saoudite). Auparavant, ce paramètre régional interrompait la page des détails du produit.

### Interface utilisateur

<!-- AC-258-->

* Correction des erreurs avec les tests MFTF qui utilisent `maps.googleapis.com`.

<!-- MC-41850-->

* Adobe Commerce tronque désormais les espaces insécables dans le champ de saisie d’e-mail Nous contacter . Auparavant, le formulaire était envoyé sans supprimer les espaces insécables de l’entrée d’e-mail (si elle était indiquée), ce qui provoquait des erreurs dans les fichiers journaux. Le champ **Répondre à** était également absent de l’e-mail de contact généré à l’intention de l’administrateur du magasin.

<!-- MC-42793-->

* Adobe Commerce affiche désormais les produits associés, les produits de montée en gamme et les produits de vente croisée en fonction de leur position dans l’administration.

<!-- MC-42502-->

* `.action-close` boutons fonctionnent désormais comme prévu lorsque `Multiselect` est utilisé dans une boîte de dialogue modale. Auparavant, le bouton `action-close` ne fonctionnait pas, car il héritait du CSS du bouton `.action-close` de la boîte de dialogue modale. [GitHub-27240](https://github.com/magento/magento2/issues/27240)

<!-- AC-1217-->

* Le fragment de code riche Offres est désormais présent dans le champ de prix principal dans la vue Produit. Auparavant, ce fragment de code était absent de ce champ dans le bloc Produits associés dans la vue Produit, ce qui entraînait l’affichage de prix incorrects dans les résultats de recherche Google. [GitHub-34063](https://github.com/magento/magento2/issues/34063)

<!-- AC-1584-->

* Les problèmes de hauteur modale sur les appareils exécutant iOS ont été résolus. [GitHub-34467](https://github.com/magento/magento2/issues/34467)

<!-- MC-40106-->

* Les menus déroulants Actions sont désormais correctement positionnés dans tout le storefront. [GitHub-31379](https://github.com/magento/magento2/issues/31379)

<!-- AC-1589-->

* Les erreurs d’accessibilité avec la navigation sur le panier et les pages de passage en caisse ont été résolues. [GitHub-34483](https://github.com/magento/magento2/issues/34483)

<!-- AC-1289-->

* Les lecteurs d’écran peuvent désormais lire tous les éléments de formulaire pertinents dans les pages de produits.

<!-- AC-872-->

* L’ordre de tri des widgets de produits du catalogue Storefront (**Catalogue** > **Catégorie** > **Produits**) correspond désormais à l’ordre configuré dans l’administrateur. [GitHub-27126](https://github.com/magento/magento2/issues/27126)

<!-- AC-725-->

* Le sélecteur de zone géographique fonctionne désormais comme prévu sur la page Créer un compte . [GitHub-30099](https://github.com/magento/magento2/issues/30099)

<!-- MC-42750-->

* La grille des clients d’administration affiche désormais toutes les données client, y compris les nouveaux attributs personnalisés `date`, comme prévu. Auparavant, Adobe Commerce générait une erreur et n’affichait pas correctement la grille client d’administration lorsque le jeu d’attributs `date` était défini sous la forme d’une colonne.

<!-- AC-1280-->

* Les libellés d’entrée de la page de détails **Catalogue** > **Produit** ont été modifiés afin de refléter précisément l’objectif de l’entrée. Les champs pour lesquels aucune entrée utilisateur n’est requise n’affichent plus de libellés avec un astérisque.

<!-- AC-1275-->

* La barre d’outils de l’éditeur de texte enrichi est désormais accessible à l’aide de la touche de tabulation.

<!-- AC-1284-->

* Le nom accessible du contrôle inclut désormais le texte de son libellé visible pour le nombre d&#39;éléments par liste déroulante de page.

<!-- AC-1287-->

* Les contrôles de tableau de la page de détails **Catalogue** > **Produit** sont désormais dotés de libellés visibles et d’un nom accessible lorsque le tableau est réduit.

<!-- AC-1285-->

* Les boutons du storefront ont désormais des noms accessibles, descriptifs et uniques. Auparavant, les boutons fractionnés avec un bouton de texte et un bouton d’icône de flèche vers le bas adjacent avaient le même nom accessible.

<!-- AC-1168-->

* Ajout d&#39;une option d&#39;affichage **Aujourd&#39;hui** aux graphiques du tableau de bord d&#39;administration des commandes et des montants afin de fournir un résumé des ventes et des commandes tout au long de la journée. [GitHub-34008](https://github.com/magento/magento2/issues/34008)

<!-- AC-1481-->

* L’état actif (clic) du bouton à sélection multiple **Fermer** fonctionne désormais de manière cohérente. [GitHub-34338](https://github.com/magento/magento2/issues/34338)

<!-- magento/magento2/pull/31879-->

* Adobe Commerce n’affiche plus ce message après la mise à niveau lorsque le mode de restriction des cookies est désactivé : `The store will not work correctly in the case when cookies are disabled`. [GitHub-33811](https://github.com/magento/magento2/issues/33811)

<!-- ACP2E-7-->

* Les images de produit en plein écran s’affichent désormais correctement sur les thèmes avec une direction de navigation verticale des miniatures sur les appareils mobiles. Auparavant, les images de produit étaient incorrectement mises à l’échelle ou invisibles sur les thèmes avec une direction de navigation verticale entre les miniatures sur les appareils mobiles en mode plein écran.

<!-- ACP2E-23-->

* Les messages d’erreur de la page des détails du produit ne disparaissent plus rapidement lorsque le paramètre de configuration **Synchroniser les produits du widget avec le stockage principal** est activé.

<!-- ACP2E-70-->

* La validation des valeurs négatives a été ajoutée au champ **Quantité à retourner** dans le formulaire Créer un retour.

<!-- ACP2E-105-->

* Adobe Commerce n’affiche plus les adresses en double lorsqu’un acheteur clique sur **Modifier l’adresse** sur la page Vérification et paiements d’un déploiement dans lequel le paramètre de configuration **Recherche d’adresse** est activé.

<!-- ACP2E-136-->

* Le bouton **Ajouter des produits** est désormais activé comme prévu pour les administrateurs disposant d’autorisations limitées lors de l’utilisation de la portée d’affichage du magasin sur la page Catégorie d’administration.

<!-- ACP2E-169-->

* Les points d’arrêt d’affichage sont désormais cohérents dans Adobe Commerce.

<!-- ACP2E-199-->

* Adobe Commerce affiche désormais correctement les attributs de date client personnalisés avec des paramètres régionaux personnalisés sur la page Admin des clients.

<!-- MC-41760-->

* Les images ajoutées à l’aide de Page Builder ne sont plus dupliquées sur le storefront lorsqu’elles sont affichées avec une largeur de fenêtre de navigateur de 768 px. Auparavant, avec cette largeur de fenêtre de navigateur, Adobe Commerce dupliquait les images sur le storefront en affichant la version mobile et la version bureau des images.

### Réécritures d’URL

<!-- AC-1510-->

* Les réécritures d’URL ne sont plus regénérées pour toutes les vues de magasin lors de la création d’une vue de magasin lors de l’exécution de `bin/magento setup:upgrade`. [GitHub-32954](https://github.com/magento/magento2/issues/32954)

### Marchandiseur visuel

<!-- ACP2E-19-->

* L’option de tri automatique Visual Merchandiser **Déplacer les produits en rupture de stock vers le bas** fonctionne désormais comme prévu pour les produits configurables lorsque tous les produits simples sont en rupture de stock.

<!-- ACP2E-61-->

* La règle Marchandiseur visuel n’est plus enregistrée lorsqu’aucune condition n’a été ajoutée.

### Framework d’API web

<!-- MC-42008-->

* Les requêtes d’API web pour les ressources client auto-autorisées ne génèrent plus d’erreurs d’autorisation lorsque le panier persistant est activé.

<!-- MC-42313-->

* Vous pouvez maintenant créer des objets en utilisant les classes enfants de `\Magento\Framework\Api\AbstractSimpleObjectBuilder` sur PHP 7.3. Auparavant, `preg_match` lançait ce message d’avertissement lorsqu’Adobe Commerce était hébergé sur Redhat avec PHP 7.3 : `Warning: preg_match(): Compilation failed: unrecognized character follows...`.

<!-- MC-24548-->

* Les totaux récupérés par la requête `PUT /V1/guest-carts/:cartId/collect-totals` sont désormais mis à jour par le bon `shippingMethod`. [GitHub-18508](https://github.com/magento/magento2/issues/18508)

<!-- MC-30627 AC-796-->

* L’ajout d’un nouveau désérialiseur à l’API REST ne supprime plus les autres désérialiseurs. Auparavant, l’API REST acceptait un nouveau type de contenu, mais les types de contenu définis par CORE pour les API ne fonctionnaient plus et renvoyaient une erreur 400. [GitHub-26433](https://github.com/magento/magento2/issues/26433)

<!-- AC-698-->

* Vous pouvez désormais supprimer un remplacement pour un paramètre défini dans un fichier `webapi.xml`. [GitHub-33843](https://github.com/magento/magento2/issues/33843)

<!-- AC-1212-->

* Adobe Commerce génère désormais une `customertoken` par requêtes d’API GraphQL ou REST comme prévu après plusieurs échecs de tentative de connexion consécutifs. Auparavant, Adobe Commerce ne vérifiait pas si la valeur de `lock_expires_at` dans `oauth_token_request_log` était supérieure à la date et à l’heure actuelles. Il renvoyait toujours le nombre de tentatives ayant échoué, ce qui empêchait le client de se connecter. [GitHub-34067](https://github.com/magento/magento2/issues/34067)

<!-- AC-1190-->

* L’ajout d’un ID de guillemet masqué à `QuoteRepository::getList` n’entraîne plus une boucle infinie. Auparavant, l’utilisation du processeur de paiements qui dépendait de l’API REST pour mettre à jour les commandes déclenchait ce comportement. [GitHub-33675](https://github.com/magento/magento2/issues/33675)

<!-- MC-41612-->

* Le `/rest/all/V1/categories/<above_created_category_id>`  L’appel PUT respecte désormais les valeurs spécifiées par `available_sort_by`.  Auparavant, la liste déroulante Trier par liste de produits disponible était sélectionnée avec toutes les options possibles dans la page Catégorie et la case **Tout utiliser** était cochée. [GitHub-32596](https://github.com/magento/magento2/issues/32596)

<!-- ACP2E-11-->

* Les performances des requêtes d’API REST pour créer des jetons client ont été améliorées.

<!-- ACP2E-91-->

* Correction d’une erreur qui se produisait lorsque **Ajouter le code de magasin aux URL** était défini sur **Oui** et qu’un appel REST n’incluait pas de code de magasin. Bien que la payload soit valide, l’appel a renvoyé l’erreur suivante : `Fatal error: Allowed memory size of **&#x200B;**&#x200B;**&#x200B;**&#x200B;**&#x200B; bytes exhausted (tried to allocate &#x200B;**&#x200B;** bytes) in vendor/magento/module-store/Model/StoreRepository.php on line 75`.

<!-- ACP2E-153-->

* Des factures partielles pour la même commande peuvent désormais être créées simultanément à l’aide de l’API REST.

### Liste de souhaits

<!-- MC-41880-->

* Adobe Commerce n’affiche plus de liste de souhaits dans la barre latérale de catégorie lorsque l’option **Afficher dans la barre latérale** est désactivée. Auparavant, Adobe Commerce ignorait cette option.

### WYSIWYG

<!-- ACP2E-17-->

* PageBuilder effectue désormais correctement le rendu des widgets personnalisés avec l’éditeur WYSIWYG.

## Problèmes connus

**Problème** : les commerçants peuvent remarquer des avis de rétrogradation de version de package lors de la mise à niveau d’Adobe Commerce 2.4.4 vers Adobe Commerce 2.4.4-p1. Ces messages peuvent être ignorés. La différence dans les versions de package résulte d’anomalies lors de la génération du package. Aucune fonctionnalité du produit n’a été affectée. Consultez l’article de la base de connaissances [Packages rétrogradés après la mise à niveau de la version 2.4.4 vers la version 2.4.4-p1](https://support.magento.com/hc/en-us/articles/8214752983949) pour une discussion sur les scénarios et solutions de contournement concernés.

**Problème** : les commerçants ne peuvent pas effectuer de remboursements partiels pour les commandes payées avec Apple Pay via Braintree. Lorsqu&#39;un commerçant tente de créer un avoir pour un remboursement partiel à partir de la facture de commande, le champ **Qté à rembourser** n&#39;est pas modifiable.  **Solution** : appliquez des `braintree-disabled-partial-capture-for-applepay-googlepay.patch` correctifs. Voir l’article de la base de connaissances [Adobe Commerce 2.4.4 : Impossible de créer des factures partielles](https://support.magento.com/hc/en-us/articles/4487952754957-Adobe-Commerce-2-4-4-Unable-to-create-partial-invoices)  <!-- BUNDLE-3088-->

**Problème** : les acheteurs ne peuvent pas ajouter un produit à leur panier lorsqu’aucune option n’est sélectionnée dans Admin **Store** > **Configuration** > **Général** > **Options du pays** > **Autoriser les pays**. Adobe Commerce affiche à la place cette erreur de console suivante : `Failed to load resource: the server responded with a status of 400 (Bad Request)`. <!-- AC-2564-->

**Problème** : la description de Dotdigital sur **Rechercher des partenaires et des extensions** > **Magento Marketplace** est obsolète. Voici une description mise à jour :

Dotdigital est une plateforme d’engagement des clients qui aide les spécialistes du marketing digital et les développeurs à diffuser des communications sur le parcours client. Nous exploitons la puissance des données client, pour stimuler l’engagement, la conversion et la fidélisation des marques au fur et à mesure de leur croissance et de leur évolution. Les clients adorent notre plateforme conviviale qui connecte les données propriétaires aux systèmes, affichant de puissantes informations et automatisant les messages cross-canal prédictifs.

Plus de 350 employés de Dotdigital sont au service des moyennes et moyennes entreprises du monde entier et de tous les secteurs d&#39;activité. Nous aspirons à inspirer un marketing responsable et nous sommes engagés envers la durabilité, la confidentialité et la sécurité. Dotdigital est fière d&#39;être la première plateforme d&#39;automatisation marketing neutre en carbone au monde, certifiée ISO 14001, ISO 27701 et ISO 27001.

Voir [Dotdigital — Marketing Automation](https://marketplace.magento.com/dotdigital-dotdigital-magento2-os-package.html) pour les informations d’achat et de téléchargement.

## Contributions de la Communauté

Nous sommes reconnaissants envers l’ensemble de la communauté Magento Open Source et souhaitons saluer leurs contributions à cette version.

L’équipe d’ingénierie de communauté [Magento Contributors](https://magento.biterg.io/app/kibana) tient à jour une liste des principaux contributeurs individuels et partenaires par mois, trimestre et année. Depuis cette page Contributeurs, vous pouvez suivre les liens vers leurs relations publiques fusionnées sur GitHub.

### Contributions des partenaires

Le tableau suivant présente les contributions des partenaires. Ce tableau répertorie le partenaire qui a contribué à la demande d’extraction, le numéro de la demande d’extraction externe et le numéro de problème GitHub qui lui est associé (le cas échéant).

{{$include /help/_includes/release-notes/engcomm-2-4-4-partner.md}}

### Contributions des contributeurs individuels

Le tableau suivant identifie les contributions des membres de notre communauté. Ce tableau répertorie le membre de la communauté qui a contribué à la demande d’extraction, le numéro de demande d’extraction externe et le numéro de problème GitHub qui lui est associé (le cas échéant).

{{$include /help/_includes/release-notes/engcomm-2-4-4-issues.md}}

### Configuration requise

Notre pile technologique est construite sur PHP et MySQL. Pour plus d&#39;informations, voir [Configuration requise](../../../installation/system-requirements.md).

### Instructions d’installation et de mise à niveau

Vous pouvez installer Adobe Commerce 2.4.4 à l’aide du [compositeur](../../../installation/composer.md).

## Kits d’outils de migration

L’outil de migration de données permet de transférer les données de stockage Magento 1.x vers Magento 2.x. Cette interface de ligne de commande comprend des fonctions de vérification, de suivi de la progression, de journalisation et de test. Pour obtenir des instructions d’installation, voir [Installation de l’outil de migration des données](../../../tools/data-migration-tool/install.md). Envisagez d’explorer le [référentiel de migration de données](https://github.com/magento/data-migration-tool) ou d’y contribuer.

Le [kit de migration du code](https://github.com/magento-commerce/code-migration) permet de transférer les extensions et personnalisations de magasin Magento 1.x existantes vers Magento 2.x. L’interface de ligne de commande comprend des scripts permettant de convertir des modules et des mises en page Magento 1.x.

<!-- Last updated from includes: 2022-10-13 13:44:41 -->
