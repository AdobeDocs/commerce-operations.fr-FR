---
title: Notes de mise à jour d’Adobe Commerce 2.4.6
description: Découvrez les nouvelles fonctionnalités, les améliorations, les correctifs et les problèmes connus de la version 2.4.6 d’Adobe Commerce.
exl-id: c25f3ad8-da18-421f-a77a-03f1cc9c45e4
source-git-commit: 54aef3d7db7b8333721fb56db0ba8f098aea030b
workflow-type: tm+mt
source-wordcount: '9559'
ht-degree: 0%

---

# Notes de mise à jour d’Adobe Commerce 2.4.6

Adobe Commerce 2.4.6 introduit la prise en charge de PHP 8.2. PHP 8.1 reste entièrement pris en charge, mais la prise en charge de PHP 7.4 a été supprimée. Elle comprend des améliorations significatives en termes de performances et d’évolutivité. Les opérations GraphQL pour les opérations de panier en masse et la réponse de rendu de l’arborescence de catégories ont été optimisées. Cette version introduit le métapaquet Extension d’Adobe Commerce .

Cette version comprend plus de 300 correctifs et améliorations de qualité. Les dépendances du compositeur principal et les bibliothèques tierces ont été mises à niveau vers les dernières versions compatibles avec PHP 8.2.

{{bics}}

## Autres informations de mise à jour

Bien que le code de ces fonctionnalités soit fourni avec les versions du code principal Adobe Commerce, plusieurs de ces projets (par exemple, B2B, Page Builder et Progressive Web Applications (PWA) Studio) sont également publiés indépendamment. Les correctifs de bugs pour ces projets sont documentés dans les informations de mise à jour distinctes spécifiques au projet disponibles dans la documentation de chaque projet.

## Points forts d’Adobe Commerce 2.4.6

Recherchez les points forts suivants dans cette version.

### Améliorations de la sécurité

Cette version comprend huit correctifs de sécurité et des améliorations de la sécurité de la plateforme.

Aucune attaque confirmée liée à ces problèmes ne s’est produite à ce jour. Cependant, certaines vulnérabilités peuvent potentiellement être exploitées pour accéder aux informations sur les clients ou prendre le contrôle de sessions d’administration. La plupart de ces problèmes nécessitent qu’un attaquant obtienne d’abord l’accès à l’administrateur. Par conséquent, nous vous rappelons de prendre toutes les mesures nécessaires pour protéger votre administrateur, y compris, mais sans s’y limiter, les mesures suivantes :

* PLACER SUR LA LISTE AUTORISÉE IP en cours de traitement
* [ Authentification à deux facteurs ](https://developer.adobe.com/commerce/testing/functional-testing-framework/two-factor-authentication/)
* Utilisation d&#39;un VPN
* Utilisation d’un emplacement unique plutôt que d’une `/admin`
* Bonne hygiène des mots de passe

Consultez le [Bulletin de sécurité d’Adobe](https://helpx.adobe.com/security/products/magento/apsb23-17.html) pour connaître la dernière discussion sur ces problèmes résolus.

#### Améliorations de la sécurité supplémentaires

Les améliorations apportées à la sécurité dans cette version améliorent la conformité aux dernières bonnes pratiques de sécurité, notamment :

* Les lacunes des logs d’actions d’administration ont été corrigées par un audit plus spécifique des actions dans les vues de grille, les actions en masse et les exportations. <!-- AC-1553 -->

* La validation reCAPTCHA n&#39;échoue plus lors du passage en caisse lorsque des erreurs inattendues se produisent lors du traitement des paiements. [GitHub-35093](https://github.com/magento/magento2/issues/35093) <!-- AC-2642 -->

* **Nouvelle configuration système pour exiger une confirmation par e-mail lorsqu’un utilisateur administrateur modifie son e-mail**. Pour réduire la vulnérabilité du site, un nouveau paramètre de configuration du système (désactivé par défaut) a été ajouté pour exiger une confirmation par e-mail lorsqu’un utilisateur administrateur modifie son adresse e-mail : **[!UICONTROL Stores]** > **[!UICONTROL Settings:Configuration]** > **[!UICONTROL Customers]** > **[!UICONTROL Customer Configuration]** > **[!UICONTROL Account Information Options]** > **[!UICONTROL Require email confirmation if an email has been changed]**. Lorsque cette option est activée, l’application demande une confirmation par e-mail chaque fois que l’utilisateur administrateur modifie son adresse e-mail. Le module suivant est affecté par cette modification : `Magento_Customer`. <!-- AC-3064 -->


### Améliorations de Platform

Adobe Commerce 2.4.6 introduit la prise en charge de PHP 8.2. PHP 8.1 reste entièrement pris en charge. <!-- AC-6598 -->

La prise en charge de PHP 7.4 a été supprimée de cette version. Vous ne pouvez pas exécuter Adobe Commerce 2.4.6 sur PHP 7.4.

Adobe Commerce 2.4.6 prend désormais en charge :

* Compositeur 2.2.x. Le compositeur 1.x a été supprimé. <!-- AC-2839 -->

* Redis 7.0.x. Bien que la compatibilité avec Redis 6.2 soit toujours présente, nous vous recommandons de déployer cette version avec Redis 7.0.x, car Redis 6.2 devrait atteindre sa fin de vie en 2024. <!-- AC-6606 -->

* OpenSearch est désormais pris en charge comme moteur de recherche par défaut pour les déploiements sur site et dans le cloud d’Adobe Commerce. Il est pris en charge en tant que moteur de recherche indépendant pour Magento Open Source. Cette version prend en charge OpenSearch v2.x et a été testée avec OpenSearch 2.5. Bien que la compatibilité avec OpenSearch 1.x soit toujours présente, nous vous recommandons d’utiliser cette version avec OpenSearch 2.x. Vous pouvez installer et exécuter Adobe Commerce et Magento Open Source 2.4.6 avec OpenSearch 2.x sur Cloud et sur site [Conditions préalables pour les moteurs de recherche](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/prerequisites/search-engine/overview.html). <!-- AC-449 3555 -->

* Elasticsearch 8.x. Voir [Mise à niveau d’Elasticsearch](../../../upgrade/prepare/prerequisites.md#upgrade-elasticsearch). <!-- AC-6597 -->

* MariaDB 10.6 (version LTS). Cette version est toujours compatible avec MariaDB 10.4, mais nous vous recommandons de la mettre à niveau vers MariaDB 10.6. <!-- AC-6921 -->

#### Autres mises à niveau et remplacements

* Le schéma DHL a été migré de la v6.2 vers la v10.0. <!-- AC-3023-->

* Les bibliothèques JavaScript obsolètes ont été mises à jour vers leurs dernières versions et les dépendances obsolètes ont été supprimées. Ces modifications sont rétrocompatibles. <!-- AC-2036-->

* La compatibilité PHP 7.4 a été supprimée du code de base de Commerce. <!-- AC-2841-->

* Les dépendances Symfony ont été mises à niveau vers la nouvelle version de LTS. Les dépendances sont les suivantes <!-- AC-2656-->

   * `friendsofphp/php-cs-fixer`
   * `symfony/console`
   * `symfony/event-dispatcher`
   * `symfony/finder`
   * `symfony/process`
   * `web-token/jwt-framework`

* `jquery-migrate` a été supprimé de la base de code Commerce. [GitHub-21406](https://github.com/magento/magento2/issues/21406) <!-- AC-1199 -->

* Mise à niveau de la bibliothèque `jQuery/fileUpload` vers la version 10.32. <!-- AC-2658-->

* Les composants Zend Framework (ZF1) qui ont atteint leur fin de vie ont été supprimés de la base de code. Voir [Modifications non rétrocompatibles mises en évidence](https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/).<!-- AC-1512 -->

* Les dépendances Laminas ont été mises à jour pour prendre en charge PHP 8.2. <!-- AC-7019-->

* Le plug-in `laminas/laminas-dependency-plugin` Composer a été supprimé. [GitHub-36515](https://github.com/magento/magento2/issues/36515) <!-- AC-7100-->

* `Zend_Filter` remplacé par `laminas/laminas-filter`. <!-- AC-5922-->

* Mise à niveau de `web-token/jwt-framework` vers la version 3.0.5. (dernière version) <!-- AC-3772-->

* Mise à niveau de `allure-framework/allure-phpunit` vers v2.x. <!-- AC-2660-->

* Mise à niveau de la bibliothèque `Chart-js` vers la version 3.9.1 <!-- AC-2661-->


### Améliorations des performances et de l’évolutivité

* **Amélioration des performances des opérations affectant de nombreux segments de clients**. Les commerçants peuvent améliorer les performances des opérations impliquant plus de 100 segments de clients en activant un nouveau paramètre de configuration. Le paramètre **[!UICONTROL Real-time Check if Customer is Matched by Segment]** peut être désactivé selon les besoins afin de réduire le temps de traitement en réduisant la validation de chaque segment client par rapport aux clients. Voir [Validation des segments clients](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/configuration.html#customer-segments-validation). <!-- AC-6832 ACPT-835-->

* **Nouveau paramètre de configuration système pour limiter le nombre de produits affichés dans la grille de produits**. Les commerçants peuvent utiliser le nouveau paramètre de configuration **[!UICONTROL Limit Number of Products in Grid]** pour améliorer les performances de la grille de produits. Cette limite est configurée pour 20000 par défaut et affecte uniquement les collections de produits utilisées par les composants de l’interface utilisateur. La limitation du nombre de produits affichés peut améliorer les performances des opérations pour les grilles contenant plus de 200 000 produits. Voir [Limiter le nombre de produits dans la grille](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/configuration.html#limit-number-of-products-in-grid)<!-- ACPT-42 -->

* **Amélioration des performances des importations (jusqu’à 100 000 enregistrements par minute)**. Les commerçants peuvent utiliser le nouveau point d’entrée de l’API REST `POST /rest/<store_view_code>/V1/import/csv` pour importer des données dans Adobe Commerce. Ce point d’entrée fournit les mêmes fonctionnalités que la fonction d’importation Admin et prend en charge l’utilisation d’un fichier CSV pour créer, mettre à jour et supprimer des produits, la tarification des produits et les entités client. Voir [Importer des données](https://developer.adobe.com/commerce/webapi/rest/modules/import/). <!-- ACPT-6 -->

* **Amélioration des performances de traitement des commandes à haut débit grâce à l’équilibrage de charge**. Les clients Adobe Commerce 2.4.6 sur les infrastructures cloud qui ont un volume élevé de commandes simultanées (1 000 commandes par minute) peuvent désormais améliorer les performances de traitement des commandes en équilibrant la charge sur leur base de données sur différents nœuds. Les commerçants peuvent rééquilibrer cette charge en activant des connexions secondaires pour la base de données MySQL et les instances Redis. Voir [ Traitement des commandes à haut débit ](https://experienceleague.adobe.com/docs/commerce-operations/performance-best-practices/high-throughput-order-processing.html#load-balancing) <!-- ACPT-495 -->


### Métapaquet d’extension Adobe Commerce

Cette version introduit le métapaquet Extension Adobe Commerce v1.1.0, qui regroupe automatiquement certaines extensions Adobe Commerce avec cette version de base. Les versions de ces extensions incluses dans ce métapaquet sont installées lorsque `composer update` est exécuté, ce qui simplifie le processus de mise à niveau de ces extensions lors de la mise à niveau vers la dernière version de base. Ces extensions conserveront des plannings de publication indépendants.

Le métapaquet Extension d’Adobe Commerce pour Adobe Commerce 2.4.6 comprend les deux extensions suivantes :

* [Passage en caisse rapide Bolt](https://help.bolt.com/platforms/adobe/adobe-quick-checkout/)
* [Adobe I/O Events pour Adobe Commerce](https://developer.adobe.com/commerce/events/get-started/)

Les futures versions de ce métapaquet d’extension contiendront des extensions supplémentaires.

### Adobe I/O Events pour Adobe Commerce

Adobe I/O Events for Adobe Commerce capture les événements Commerce et transfère les données d’Adobe Commerce vers d’autres systèmes Adobe. Les développeurs peuvent créer des applications natives cloud dans Adobe Developer App Builder qui s’abonnent à des événements Commerce tels que des mises à jour d’inventaire, des changements de statut de commande et des mises à jour de prix. Les développeurs peuvent utiliser cette fonctionnalité pour échanger des données pour l’orchestration de l’ensemble du parcours des acheteurs sur leurs systèmes critiques.

### Mises à jour de l’accessibilité

L’objectif de cette version était de créer une expérience de storefront sur Venia (PWA) plus perceptible, plus exploitable, plus compréhensible et plus robuste. Ces améliorations comprennent :

<!-- AC-2479-->

* Le libellé de texte visuel du bouton **[!UICONTROL Sign in]** correspond désormais à son nom accessible. (Il est recommandé que le nom accessible d’un élément de l’interface utilisateur commence par le texte du libellé visible.)

<!-- AC-2481 2492-->

* Des noms accessibles descriptifs ont été ajoutés aux boutons dans tout le storefront.

<!-- AC-2488-->

* Des libellés descriptifs verbaux ont été ajoutés aux cases à cocher **[!UICONTROL Has Video]** dans les filtres de recherche.

<!-- AC-2787-->

* Les utilisateurs utilisant uniquement le clavier peuvent désormais accéder à toutes les fonctionnalités de page sur le storefront. Auparavant, les acheteurs ne pouvaient pas accéder aux liens de sous-navigation en utilisant uniquement les touches.


### Intégration d’Adobe Commerce avec Adobe IMS

Les modules Adobe IMS suivants ont été découplés du code principal d’Adobe Commerce 2.4.6 et sont désormais placés dans un métapaquet distinct :

* `adobe-ims`
* `adobe-ims-api`
* `admin-adobe-ims`

La nouvelle version v2.2.0 d’`adobe-ims-metapackage` est fournie avec Adobe Commerce 2.4.6. Aucune fonctionnalité n’a été modifiée dans cette version.<!-- CABPI-505-->


### B2B

La fonctionnalité Commandes fournisseur pour les entreprises est désormais entièrement exposée par l’API GraphQL. Cette version présente deux schémas GraphQL :

* Le schéma GraphQL de bon de commande couvre l’utilisateur de la société B2B qui achète des fonctionnalités Order Management telles que la création, la modification et la suppression de bons de commande. Voir [Commandes fournisseur (B2B)](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/purchase-order/).
* Le schéma GraphQL des règles de commande permet de créer, modifier et supprimer des règles d&#39;approbation et de valider manuellement des commandes. Voir [Règles d&#39;approbation des commandes (B2B)](https://developer.adobe.com/commerce/webapi/graphql/schema/b2b/purchase-order-rule/).

Cette version comprend plusieurs correctifs. Voir Notes De Mise À Jour [B2B](https://experienceleague.adobe.com/docs/commerce-admin/b2b/release-notes.html).


### Braintree

<!-- BUNDLE-3107-->

* Le bouton **[!UICONTROL Pay Later]** et les bannières (messages) pour l’Italie et l’Espagne ont été activés pour Braintree.

<!-- BUNDLE-3109-->

* La messagerie PayLater avec PayPal Vault a été activée.

<!-- BUNDLE-3140-->

* Ajout de la protection contre la fraude et des hooks web ACH. Le hook web de protection contre la fraude est déclenché lorsqu’une décision relative aux risques a été prise dans Braintree. Le hook web ACH est déclenché lorsque le statut d&#39;un paiement ACH est mis à jour à `settled` ou `settlement decline`.

<!-- BUNDLE-3141-->

* Ajout du hook web LPM (Local Payment Methods).

### GraphQL

Les améliorations apportées aux performances de GraphQL sont les suivantes :

**Amélioration du temps de réponse lors de l’interrogation de catégories avec les autorisations de catégorie activées**. Les temps de réponse se sont améliorés lors de l’interrogation de produits dans des catégories pour lesquelles les autorisations de catégorie sont activées et qui contiennent de nombreux groupes de clients ou catalogues partagés. Les modifications de code qui prennent en charge cette amélioration des performances incluent : <!-- B2B-2179 2404 2329-->

* Le fonctionnement du résolveur GraphQL a été optimisé.
* Le fournisseur de données ne réinitialise plus les données mises en cache à l’exécution pour chaque nouveau produit en cours de traitement, ce qui a amélioré les performances. <!-- B2B-2452-->
* Le traitement des autorisations de produit a été optimisé dans le résolveur GraphQL. Les autorisations de produit sont désormais appliquées aux collections de produits et non plus sur une base par produit.  <!-- B2B-2404-->
* Autorisations optimisées lues dans les catalogues partagés dans la mutation `addProductsToCart`. <!-- B2B-2424-->
* Les autorisations de produit ont été optimisées avec les fragments intégrés de produit. <!-- B2B-2459-->

**Performances optimisées du rendu de l’arborescence des catégories**. La requête `categoryList` a été optimisée pour prendre en charge les clients avec un grand nombre de catégories. Les commerçants qui utilisent cette requête pour rechercher plus de 1 500 catégories avec jusqu’à cinq niveaux de sous-catégories imbriquées remarqueront une amélioration des performances. Le chargement des enfants de catégorie par refactorisation du code a été amélioré en supprimant les appels de méthode inutiles, en améliorant la mise en cache de l’arborescence de catégorie et en chargeant les données de catégorie de manière récursive.  Les modifications de code qui prennent en charge cette amélioration des performances incluent : <!-- B2B-2484 2469 2472-->

* La récupération des métadonnées des attributs personnalisés pour les modèles de catégorie a été améliorée. <!-- B2B-2463-->
* La récupération de l’ID de catégorie a été améliorée et les appels `getChildren` ont été réduits. <!-- B2B-2464-->
* Le chargement des enfants de catégorie a été amélioré.<!-- B2B-2469-->

**Temps de réponse des requêtes d’opérations de panier en vrac réduits**. Les mutations d’ajout de produit ont été optimisées pour améliorer les performances des requêtes lors de l’ajout de jusqu’à 500 produits simples et configurables. Les produits groupés ne sont pas affectés. Les mutations optimisées comprennent `addProductsToCart`, `addConfigurableProductsToCart`, `addDownloadableProductsToCart`, `addSimpleProductsToCart`, `addVirtualProductsToCart`, `addWishlistItemsToCart` et `updateCartItems`. <!-- B2B-2331 2423-->

**la requête client prend désormais en charge le tri des commandes**. L’objet de sortie `orders` de la requête `customer` contient désormais un champ de tri. Vous pouvez désormais trier les commandes par numéro de commande ou date de création, et par ordre croissant ou décroissant. <!-- AC-6903-->

Nouvelles mutations :

`deleteCustomer` <!-- AC-2879-->


### Page Builder

Page Builder v.1.7.3 est compatible avec Adobe Commerce 2.4.6.


### PWA Studio

PWA Studio v.13.0.x est compatible avec Adobe Commerce 2.4.6. Il comprend plusieurs améliorations pour améliorer l’accessibilité. Pour plus d’informations sur les correctifs, voir [Versions de PWA Studio](https://github.com/magento/pwa-studio/releases). Consultez [Compatibilité des versions](https://developer.adobe.com/commerce/pwa-studio/integrations/adobe-commerce/version-compatibility/) pour obtenir la liste des versions de PWA Studio et de leurs versions principales d’Adobe Commerce compatibles.


### Problème connu

**Problème** : New Relic n&#39;est pas actuellement compatible avec PHP 8.2. Les déploiements exécutant New Relic peuvent exécuter Adobe Commerce 2.4.6 sur PHP 8.1, mais pas PHP 8.2. **Solution de contournement** : exécutez Adobe Commerce 2.4.6 sur PHP 8.1 jusqu’à ce qu’une nouvelle version de New Relic soit disponible et prenne en charge PHP 8.2. Cette version est prévue pour l’été 2023. <!-- AC-7769-->

## Problèmes résolus

Nous avons corrigé des centaines de problèmes dans le code principal d’Adobe Commerce 2.4.6. Un sous-ensemble des problèmes résolus inclus dans Adobe Commerce 2.4.6 est décrit ci-dessous.

### Installation, mise à niveau, déploiement

<!-- ACP2E-1168-->

* Le déploiement de contenu statique n’expire ni n’échoue lors de déploiements standard ou compacts avec plusieurs paramètres régionaux et sites web.

<!-- ACP2E-923-->

* La stratégie compacte ne provoque plus de référence non valide à un domaine externe lors de l’exécution du déploiement de contenu statique (`bin/magento set:static-content:deploy -f --strategy compact`).

<!-- AC-5994-->

* L’exécution de `bin/magento setup:di:compile -vvv` (ou avec les options `-v` ou `-vv`) renvoie désormais un message informatif en cas d’échec. [GitHub-35391](https://github.com/magento/magento2/issues/35391)

<!-- AC-5973-->

* Adobe Commerce ne renvoie plus l’exception suivante lorsque vous exécutez la commande `bin/magento setup:upgrade` dans un déploiement exécutant déjà l’outil de migration de données : `PHP Fatal error:  Declaration of Migration\Logger\Logger::addRecord(int $level, string $message, array $context = []): bool must be compatible with Monolog\Logger::addRecord(int $level, string $message, array $context = [], ?Monolog\DateTimeImmutable $datetime = null): bool in /var/www/html/vendor/magento/data-migration-tool/src/Migration/Logger/Logger.php on line 34`. [GitHub-35604](https://github.com/magento/magento2/issues/35604)

<!-- AC-5970-->

* La commande `bin/magento setup:db:status` n’échoue plus dans les environnements exécutant MySQL 8.0.29. Auparavant, la sortie de commande indiquait à tort que le schéma déclaratif était obsolète. [GitHub-35671](https://github.com/magento/magento2/issues/35671)

<!-- AC-1377-->

* La commande `composer install` ne remplace plus les fichiers `.gitignore`. [GitHub-32888](https://github.com/magento/magento2/issues/32888)

<!-- AC-6671-->

* L’exécution de `bin/magento sampledata:remove` pour supprimer les exemples de données après la mise à niveau sur Alpine Linux n’échoue plus avec cette erreur : `Undefined constant "MagentoHackathon\Composer\Magento\Deploystrategy\GLOB_BRACE`. [GitHub-36062](https://github.com/magento/magento2/issues/36062)


<!-- AC-6933-->

* `bin/magento setup:upgrade` s’exécute maintenant correctement après la première exécution de `composer install --no-dev`. [GitHub-36351](https://github.com/magento/magento2/issues/36351)

<!-- AC-6796-->

* Les exceptions et les entrées de trace de pile d’exceptions sont désormais incluses dans `var/log/exception.log`. [GitHub-36054](https://github.com/magento/magento2/issues/36054)

<!-- AC-2681-->

* Adobe Commerce renvoie désormais une erreur de validation de paramètre lorsque vous utilisez la ligne de commande pour définir une connexion Redis sans mot de passe.

### Accessibilité

<!-- AC-6678 6679 6677-->

* Les boutons **[!UICONTROL Proceed to Checkout]**, **[!UICONTROL Review Order]** et **[!UICONTROL Place Order]** du workflow de passage en caisse fonctionnent désormais comme prévu avec une entrée au clavier.

<!-- AC-2485-->

* L’indication visuelle du focus sur les boutons lors de l’utilisation de **[!UICONTROL TAB]** ou de **[!UICONTROL SHIFT + TAB]** pour parcourir les commandes de page fonctionne désormais comme prévu.

#### Lecteurs d’écran

<!-- AC-2498-->

* Le lecteur d’écran de la page d’historique des commandes lit désormais la description correcte de l’image.

Les lecteurs d’écran annoncent maintenant :

* Nombre total d’éléments trouvés dans les résultats de recherche comme prévu <!--- AC-3522-->
* Nom de l’utilisateur connecté lorsqu’un utilisateur se connecte avec succès à l’aide des commandes du clavier <!--- AC-6477-->
* L’en-tête de la page de résultats de recherche de produit lit désormais la valeur correcte pour l’élément `<title>` <!--- AC-2489-->
* Indique si les champs de saisie sont obligatoires <!--- AC-2494-->
* État actuel correct des éléments d’accordéon (réduits et développés) <!--- AC-2487-->
* Lorsque le contenu de la page a été actualisé après que l’utilisateur a cliqué sur le bouton **[!UICONTROL Create an account]** <!---AC-6676-->



### Lots de produits

<!-- ACP2E-906-->

* La mise à jour du produit groupé via l’API pour une vue de magasin spécifique ne remplace désormais pas les autres données de vues de magasin pour le même produit groupé. Auparavant, les titres des options de produit groupées étaient remplacés par le titre de la première option pour d’autres affichages de magasin.

<!-- AC-3769-->

* Les produits groupés peuvent désormais être filtrés avec succès à partir de Admin **[!UICONTROL Catalog]** > **[!UICONTROL Products]** lors de l’utilisation d’un paramètre régional néerlandais. Auparavant, Adobe Commerce affichait cette erreur lorsque vous tentiez d’effectuer un filtrage sur `Type: Bundle Product` : `Something went wrong with processing the default view and we have restored the filter to its original state`. [GitHub-35704](https://github.com/magento/magento2/issues/35704)

<!-- ACP2E-1038-->

* La grille de produits ne renvoie plus d’exception lorsque le prix spécial des produits groupés dépasse 1 000. Auparavant, lorsque vous recherchiez le produit par SKU ou accédiez à **[!UICONTROL Catalog]** > **[!UICONTROL Products]**, Adobe Commerce générait cette erreur : `Non Numeric value encountered`. [GitHub-36284](https://github.com/magento/magento2/issues/36284))

<!-- ACP2E-1220-->

* Les colonnes des fichiers PDF des avoirs et des factures pour les commandes contenant un mélange de produits groupés et simples sont désormais correctement rendues. Auparavant, les colonnes étaient déformées ou mal alignées.

<!-- ACP2E-1315-->

* Dans les requêtes GraphQL qui contiennent un fragment de `BundleProduct`, l’objet `items.options.product` contient les données attendues. Auparavant, l’objet pouvait être nul dans certains cas.

<!-- AC-6548-->

* Les quantités décimales des options de lot sont désormais correctement rendues lorsque **[!UICONTROL Quantity uses decimals]** est activé. Auparavant, seule la partie entière de la quantité était rendue, et non le composant fractionnaire. Par exemple, une quantité de 1,5 a été rendue sous la forme 1,0. [GitHub-35964](https://github.com/magento/magento2/issues/35964)

<!-- B2B-2453-->

* Les requêtes de produit GraphQL renvoient désormais uniquement les options de produit groupé dans la portée du magasin interrogé.

<!-- B2B-2455-->

* Les produits qui ne sont pas affectés à des catégories, mais qui sont des options de produit pour des produits groupés ou groupés sont désormais renvoyés dans les réponses lorsque le paramètre de configuration **[!UICONTROL Allow Category Browsing]** est activé pour le client qui envoie la requête.

### Cache

<!-- ACP2E-134-->

* Le cache de pleine page n’est plus vidé après l’exécution de la commande, sauf si le produit commandé est en rupture de stock. Auparavant, le cache était purgé pour la catégorie chaque fois qu’une expédition était créée.

<!-- ACP2E-1321-->

* Les données sont désormais mises en cache avec succès lorsque le cache L2 est configuré et que les données distantes sont partiellement évincées. Auparavant, après avoir vidé uniquement le cache de données sans hachages de ces données, le nouveau cache n’était pas enregistré tant que les hachages de données existaient.

<!-- B2B-2471-->

* Correction de défauts dans les `CatalogUrlResolverIdentity` et les `CmsUrlResolverIdentity` qui empêchaient la mise en cache. Cela affectait la mise en cache des requêtes d’itinéraire sur plusieurs requêtes.

### Panier et passer en caisse

<!-- ACP2E-965-->

* Les acheteurs peuvent désormais ajouter un article supplémentaire à leur panier lorsque celui-ci contient la quantité minimale du produit simple.

<!-- ACP2E-964-->

* Les appels d’API REST pour récupérer les données du panier renvoient désormais les mêmes valeurs de `grand_total` et de `base_grand_total` lorsque la devise du magasin et la devise de base sont identiques. [GitHub-34649](https://github.com/magento/magento2/issues/34649)

<!-- ACP2E-962-->

* La valeur exportée de **[!UICONTROL Maximum Qty Allowed in Shopping Cart]** correspond désormais à la valeur par défaut définie dans le paramètre de configuration Admin.

<!-- ACP2E-889-->

* Adobe Commerce calcule désormais correctement le total général pour les remboursements des commandes avec une remise pour l’expédition.

<!-- ACP2E-876-->

* Google reCAPTCHA fonctionne désormais comme prévu pour les commandes de storefront. Auparavant, Adobe Commerce affichait ces erreurs lorsque Google ReCAPTCHA n’était pas sélectionné avant qu’un acheteur ne tente de passer une commande : `ReCaptcha validation failed, please try again` et `No such cart with id = ID`.

<!-- AC-2338-->

* L’actualisation d’image CAPTCHA respecte désormais le paramètre de configuration Admin et n’est pas déclenchée lorsque le paramètre est désactivé. Auparavant, l’actualisation était déclenchée à chaque modification du mode de paiement, que le paramètre soit activé ou désactivé. [GitHub-34855](https://github.com/magento/magento2/issues/34855)

<!-- ACP2E-479-->

* Adobe Commerce affiche désormais une fenêtre contextuelle de confirmation comme prévu avant de rediriger un acheteur vers la page suivante lorsque l’acheteur modifie la quantité de produit sur la page du panier sans mettre à jour le panier, puis tente d’accéder à la page suivante.

<!-- AC-5987-->

* Les acheteurs peuvent désormais réduire la quantité d’un produit de leur panier après sa diminution dans l’administration. Auparavant, Adobe Commerce générait l’erreur suivante lorsqu’un acheteur tentait de réduire la quantité de produit : `The requested qty is not available`. [GitHub-35780](https://github.com/magento/magento2/issues/35780)

<!-- AC-6744-->

* Adobe Commerce ne renvoie plus d’erreur dans la console JavaScript lorsque la quantité de produits dépasse la valeur maximale configurée lors du passage en caisse avec expédition multiple. À la place, Adobe Commerce affiche désormais un message d’erreur informatif. [GitHub-36184](https://github.com/magento/magento2/issues/36184)

<!-- ACP2E-1276-->

* La quantité d’articles sur la page du panier n’est plus représentée sous la forme d’un nombre négatif lorsqu’un acheteur utilise la touche fléchée vers le bas de son clavier pour modifier la quantité de produits. [GitHub-36299](https://github.com/magento/magento2/issues/36299)

<!-- ACP2E-1232-->

* Les acheteurs ne peuvent plus ajouter au panier un produit d’une catégorie qui est désormais interdite après avoir modifié le groupe de clients auquel l’acheteur appartient. Adobe Commerce vérifie désormais l’accès aux autorisations des groupes de clients pour des catégories spécifiques lorsque les paramètres de configuration des autorisations ont été modifiés.

<!-- ACP2E-926-->

* Les paniers des clients ne sont plus vidés avant la création de la commande de l’administrateur et le contenu du panier est désormais restauré en cas d’annulation ou d’abandon de la commande. Les articles ne sont désormais supprimés du panier qu’après la création de la commande. Auparavant, chaque fois qu’un utilisateur administrateur tentait de créer une commande sur la page Admin Gérer le panier , le panier était vidé.

<!-- AC-6939-->

* Le mini panier affiche désormais les images correctes des produits après l’exécution de `bin/magento catalog:image:resize`. Auparavant, toutes les images étaient remplacées par l’image d’espace réservé de produit par défaut. [GitHub-35535](https://github.com/magento/magento2/issues/35535)

<!-- AC-2376-->

* Le passage en caisse peut maintenant se terminer avec succès lorsque l’adresse de livraison contient un attribut d’extension. Auparavant, Adobe Commerce générait cette erreur : `Object of class Magento\Quote\Api\Data\AddressExtension could not be converted to string`. [GitHub-34202](https://github.com/magento/magento2/issues/34202)

<!-- AC-2793-->

* La mutation `addBundleProductsToCart` n’ajoute plus de produits à un devis si une option de produit requise n’a pas de valeur. [GitHub-25676](https://github.com/magento/magento2/issues/25676)

<!-- B2B-2458-->

* Adobe Commerce renvoie désormais un message informatif lorsqu’une mutation `addProductsToCart` échoue lors de l’ajout d’un produit au panier avec des autorisations insuffisantes.

<!-- ACP2E-1242-->

* Adobe Commerce ne renvoie plus d’erreur sur la page du panier lorsque la commande rapide est utilisée pour ajouter un produit dont la quantité dépasse le stock disponible.

<!-- AC-6312-->

* La mutation `setGiftOptionsOnCart` nécessite désormais l’autorisation du client pour les opérations de panier client.

### Règle de prix du panier

<!-- AC-2242-->

* Les options d’expédition gratuite de la règle de prix du panier définies lors de la création de la règle sont désormais appliquées aux commandes comme prévu. Auparavant, les options de livraison gratuite appliquées lors de la création de la règle étaient ignorées lors du passage en caisse et la livraison gratuite n’était pas autorisée lorsque la règle était appliquée. [GitHub-35013](https://github.com/magento/magento2/issues/35013)

<!-- ACP2E-1074-->

* La colonne `discount_percent` de la table `sales_order_item` d&#39;un produit est maintenant renseignée comme prévu avec le pourcentage de remise lorsque la quantité de remise d&#39;article n&#39;est pas définie ou est supérieure ou égale à la quantité d&#39;article de commande. Auparavant, cette colonne n’était pas renseignée lorsqu’une règle de prix de panier était appliquée à ce produit.

### Catalogue

<!-- ACP2E-1181-->

* Le widget Liste de produits n’affiche plus les prix incorrects ou mis en cache pour un acheteur connecté. Le prix affiché dans le widget de la page d’accueil correspond désormais à l’adresse de l’acheteur et est mis à jour lorsque l’acheteur met à jour l’adresse. Auparavant, le cache du navigateur ne mettait pas à jour les prix des produits sur la page d’accueil en fonction des règles fiscales du groupe de clients.

<!-- ACP2E-1007-->

* La fonction Comparer les produits fonctionne désormais correctement dans un déploiement multi-site web et dépend du site web.

<!-- ACP2E-900-->

* Adobe Commerce n’affiche plus les données de la page précédente lorsque vous rechargez une page de détails d’un produit. Auparavant, lorsque la page des détails du produit était rechargée, les données du premier onglet étaient fusionnées avec les données nouvellement chargées pendant une fraction de seconde.

<!-- ACP2E-816-->

* Les catégories comportant des sous-catégories peuvent désormais être développées dans le menu principal sur les appareils mobiles comme prévu. Auparavant, les acheteurs ne pouvaient pas ouvrir ni développer des catégories avec des sous-catégories dans les déploiements mobiles. [GitHub-35329](https://github.com/magento/magento2/issues/35329)

<!-- ACP2E-789-->

* Les listes de catégories sont désormais mises à jour comme prévu lorsqu’un produit est affecté à un nouveau site web ou magasin. Auparavant, l’indexeur de prix de produit n’était pas marqué comme non valide et il a ensuite été redéclenché lors d’une exécution de `cron` comme prévu. Par conséquent, l&#39;entrée de prix du produit était manquante dans le tableau de l&#39;indice des prix et n&#39;était pas affichée dans le nouveau magasin ou site Web.

<!-- AC-6395-->

* Le nombre d’inventaires de storefront est désormais exact lorsque le paramètre de configuration **[!UICONTROL Display Out of Stock Products]** est activé. [GitHub-35899](https://github.com/magento/magento2/issues/35899)

<!-- AC-6384-->

* La page de catégorie n’est plus vide lorsque le paramètre **[!UICONTROL Allow All Products Per Page]** est activé. [GitHub-35900](https://github.com/magento/magento2/issues/35900)

<!-- AC-6330-->

* L’option de configuration **[!UICONTROL Display Out of Stock Products]** fonctionne désormais comme prévu une fois activée. Auparavant, tous les produits s’affichaient comme étant en rupture de stock sur le storefront lorsque cette option était activée sur l’administrateur. [GitHub-35898](https://github.com/magento/magento2/issues/35898)

<!-- AC-2631-->

* Les clients affectés à un groupe de vente en gros peuvent désormais ajouter un produit regroupé à leur panier lorsqu’ils sont autorisés par les autorisations de catégorie. Si cette autorisation n’est pas définie pour un groupe de clients, le paramètre de configuration est prioritaire.

<!-- ACP2E-1306-->

* Le tri des produits par attributs booléens fonctionne désormais comme prévu. [GitHub-36390](https://github.com/magento/magento2/issues/36390)

<!-- ACP2E-1206-->

* Les remises de règle de prix catalogue ne sont plus appliquées aux options de produit personnalisées à prix fixe, mais sont appliquées uniquement au prix d&#39;origine du produit.

<!-- ACP2E-1027-->

* Les produits associés sont désormais récupérés avec succès sur la page des détails du produit storefront lorsqu’ils sont générés par la règle de produit associé pour les attributs de produit alphanumériques. [GitHub-36285](https://github.com/magento/magento2/issues/36285)

<!-- AC-6810-->

* Les règles de prix de catalogue prennent désormais en compte la portée sélectionnée et sont appliquées aux produits uniquement pour les sites web pour lesquels l’attribut dispose d’une valeur d’option correspondant à la règle. Auparavant, la règle ne prenait pas en compte la portée sélectionnée dans les déploiements multisites. [GitHub-36049](https://github.com/magento/magento2/issues/36049)

<!-- ACP2E-891-->

* Les attributs de couleur et de taille des options d’échantillon sont désormais présélectionnés dans la page des détails du produit lorsqu’un acheteur modifie le produit configurable à partir de la page Mon panier. (La version jQuery 3.x prend désormais en charge le nom du widget `swatchRenderer`, qui est désormais en casse mixte.) Auparavant, l’option d’échantillon n’était pas présélectionnée.

<!-- ACP2E-1361-->

* Les clients sont désormais avertis des baisses de prix de produits lorsque le client est abonné à l’alerte de baisse de prix. Auparavant, les notifications de baisse de prix n’étaient pas toujours envoyées en raison de la mise en cache au niveau de l’application.

<!-- ACP2E-1348-->

* Les règles de catalogue basées sur des SKU avec la condition **[!UICONTROL is not one of]** fonctionnent désormais comme prévu.

<!-- AC-729-->

* Adobe Commerce ne suppose plus par erreur qu’une catégorie est la catégorie parente d’une autre en fonction du chemin d’accès à la catégorie. Auparavant, lorsque deux catégories étaient adjacentes et qu’un ID de catégorie commence par l’ID de catégorie d’une autre catégorie, Adobe Commerce supposait que les catégories avaient la même catégorie parente. [GitHub-32464](https://github.com/magento/magento2/issues/32464)


### Produits configurables

<!-- ACP2E-1083-->

* Adobe Commerce ne renvoie plus d’erreur lorsqu’un utilisateur administrateur ajoute manuellement des produits à un produit configurable auquel sont déjà affectés de nombreux produits simples. Auparavant, Adobe Commerce affichait cette erreur : `Something went wrong with processing the default view and we have restored the filter to its original state`.

<!-- AC-2877-->

* Les acheteurs ne peuvent plus ajouter de produits configurables avec une quantité vendable de 0 à leur panier dans les déploiements avec les commandes en souffrance désactivées. Adobe Commerce indique maintenant que le produit est en rupture de stock. [GitHub-35319](https://github.com/magento/magento2/issues/35319)

<!-- AC-2678-->

* La création d’un nouveau produit par l’importation d’un produit configurable avec de nombreuses options à partir d’une vue de magasin différente entraîne désormais une copie exacte du premier produit comme prévu. Auparavant, l’ordre de tri des options configurables du nouveau produit était incorrect, et les titres n’étaient pas traduits dans les paramètres régionaux de la nouvelle vue de magasin dans les déploiements avec plusieurs vues de magasin et paramètres régionaux. [GitHub-35200](https://github.com/magento/magento2/issues/35200)

<!-- AC-535-->

* Les produits configurables avec tous les produits enfants en rupture de stock sont désormais affichés comme en rupture de stock sur le storefront.

<!-- AC-6852-->

* Les SKU et noms de produits configurables s’affichent désormais avec précision. Auparavant, les noms et SKU s’affichaient comme non définis après le déplacement d’un groupe d’attributs au-dessus du groupe Détails du produit dans **[!UICONTROL Stores]** > **[!UICONTROL Attribute set]**. [GitHub-36309](https://github.com/magento/magento2/issues/36309)

### Coupons

<!-- ACP2E-1053-->

* Une logique de validation a été ajoutée au workflow Gérer les codes coupon pour appliquer les paramètres de code coupon lors de la génération des coupons. Auparavant, la génération du code de coupon ignorait le paramètre **[!UICONTROL Code Length]** lorsque la valeur **Qté du coupon** était supérieure à 2 500.

<!-- ACP2E-1029-->

* Les points de récompense sont désormais ajoutés au compte d&#39;un client comme prévu lorsqu&#39;un coupon de récompense est appliqué lors du passage en caisse avec la méthode de paiement PayPal Express.

<!-- ACP2E-1225-->

* Vous pouvez désormais appliquer un code de coupon lors de la création d’une commande administrateur lorsque la règle de prix du panier comporte le poids comme condition. Auparavant, les codes de coupon n’étaient pas définis si d’autres champs n’étaient pas sélectionnés pour le produit. [GitHub-36271](https://github.com/magento/magento2/issues/36271)

<!-- ACP2E-1223-->

* Vous pouvez désormais filtrer les rapports de coupon en fonction de plusieurs règles de prix de panier. [GitHub-36272](https://github.com/magento/magento2/issues/36272)

<!-- AC-2812-->

* Les options personnalisées sont désormais appliquées et enregistrées lorsqu’un utilisateur administrateur appuie sur **[!UICONTROL Enter]** lors de la configuration d’un produit avec des options personnalisées. Auparavant, vous pouviez sélectionner des options et ajouter le produit à une commande, mais les options n’étaient pas enregistrées et l’utilisateur administrateur était invité à sélectionner à nouveau les options du produit. [GitHub-35284](https://github.com/magento/magento2/issues/35284)

<!-- AC-6688-->

* Les codes promotionnels peuvent désormais être exportés au format XML Excel. Auparavant, le fichier généré ne contenait pas tous les codes coupon sélectionnés, mais uniquement le nombre d’éléments sélectionnés dans le sélecteur d’éléments par page.[GitHub-36073](https://github.com/magento/magento2/issues/36073)

### cron

<!-- ACP2E-1243-->

* La tâche cron `catalog_index_refresh_price` s’exécute maintenant correctement. Auparavant, Adobe Commerce consignait cette erreur pendant l’exécution cron : `report.ERROR: Cron Job catalog_index_refresh_price has an error: SQLSTATE[HY093]: Invalid parameter number: number of bound variables does not match number of tokens`.

### Devise monétaire

<!-- ACP2E-1012-->

* Un espace manquant entre les symboles de devise personnalisée et les prix a été ajouté aux prix des produits storefront et admin. La condition et l’expression régulière appropriées ont été ajoutées pour permettre un NBSP personnalisé dans les symboles de devise. Par exemple, IDRx 105.00 s’affichait auparavant sous la forme IDRx105.00.

### Segment client

<!-- ACP2E-1185-->

* Le filtre Oui/Non de la grille Segments de clients administrateurs lors de la création d’une nouvelle règle de prix de panier fonctionne désormais comme prévu.

### E-mail

<!-- ACP2E-1063-->

* Adobe Commerce n’envoie plus d’e-mails en double à un client après la création d’une commande à partir de l’administrateur.

<!-- ACP2E-1200-->

* Les e-mails de commande de l’administrateur ne sont plus envoyés lorsque le paramètre **[!UICONTROL Email order confirmation]** est désactivé. [GitHub-36256](https://github.com/magento/magento2/issues/36256)

<!-- ACP2E-1151-->

* Les options d’image ne s’affichent plus comme balises HTML dans l’avoir, la confirmation de commande et les e-mails des clients de facture (modèle par défaut) pour les produits avec des options personnalisées.

### Frameworks

<!-- AC-6385-->

* Les utilisateurs administrateurs peuvent désormais ouvrir la page Admin **[!UICONTROL Store]** > **[!UICONTROL Configuration]** lorsqu’aucun pays ne figure dans le paramètre **Pays de l’Union européenne** (**[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL General]** > **[!UICONTROL Country options]** > **[!UICONTROL European Union Countries]**). Auparavant, lorsqu’un utilisateur administrateur tentait d’ouvrir cette page, Adobe Commerce générait l’erreur suivante : `TypeError: explode(): Argument #2 ($string) must be of type string, null given in /var/www/php/folder/vendor/magento/module-config/ViewModel/CountryFilter.php:46`. [GitHub-35901](https://github.com/magento/magento2/issues/35901)

<!-- AC-6361-->

* Les dépendances `jquery.cookie` fonctionnent désormais comme prévu avec les dépendances JavaScript. Auparavant, vous ne pouviez pas utiliser d’alias pour les `jquery/jquery.cookie`. [GitHub-35913](https://github.com/magento/magento2/issues/35913)

<!-- AC-3226-->

* La commande `bin/magento i18n:collect-phrases` inclut désormais `<title>` texte dans le fichier CSV exporté. [GitHub-35462](https://github.com/magento/magento2/issues/35462)

<!-- AC-6841-->

* `Magento\Framework\Code\Reader\ArgumentsReader::getParentCall()` prend désormais en charge les arguments de constructeur nommés. Vous pouvez désormais appeler une fonction en définissant les paramètres par leur nom.

<!-- ACP2E-1287-->

* Les erreurs sont désormais consignées comme prévu dans le fichier `exception.log`. Auparavant, bien que les erreurs étaient consignées dans le fichier `system.log`, elles ne l’étaient pas `var/log/exception.log`.

<!-- AC-3758-->

* Les commerçants peuvent désormais spécifier un fournisseur SMTP externe personnalisé. [GitHub-26104](https://github.com/magento/magento2/issues/26104)

<!-- AC-3752-->

* Les intégrations OAuth peuvent désormais être réautorisées comme prévu sur les déploiements exécutant Adobe Commerce 2.4.3-p2. Auparavant, la réautorisation échouait avec cette erreur : `The attempt to post data to consumer failed due to an unexpected error. Please try again later`. Adobe Commerce a également tenté de déchiffrer des valeurs non chiffrées. [GitHub-35313](https://github.com/magento/magento2/issues/35313)

<!-- ACP2E-1201-->

* Le paramètre de `rowId` correct est désormais transmis lorsque le `urlKey` de catégorie est enregistré pour les catégories qui ont des catégories enfants. Auparavant, le mauvais `categoryId` était transmis lors de l’enregistrement du `URLKey` de catégorie.

<!-- ACP2E-981-->

* Le code d’attribut de produit `event` a été ajouté à la liste des codes d’attribut de produit réservés, ce qui élimine les erreurs associées à l’utilisation d’un attribut avec ce nom sur le storefront. Auparavant, l’application générait cette erreur sur les pages de détails du produit et de recherche/liste de produits lorsque `event` était utilisé : `report.CRITICAL: Error: Call to a member function getStatus() on string in /home/mer33515/public_html/ee24develop/magento2ee/app/code/Magento/CatalogEvent/Observer/ApplyIsSalableToProduct.php:23`.

<!-- AC-5985-->

* Les messages d’erreur de validation de Storefront qui se produisent lors du placement de la commande s’affichent désormais de manière cohérente. Auparavant, les messages s’affichaient, étaient réduits, puis réapparaissaient. [GitHub-35651](https://github.com/magento/magento2/issues/35651)

<!-- AC-2943-->

* Les consommateurs AMQP n’échouent plus en raison d’une fonction `trim()` obsolète sur les déploiements exécutant PHP 8.1. Auparavant, lorsque le client AMQP démarrait après l’installation, Adobe Commerce générait cette erreur : `Deprecated Functionality: trim(): Passing null to parameter #1 ($string) of type string is deprecated in .../vendor/magento/framework-amqp/Config.php on line 143`. [GitHub-35380](https://github.com/magento/magento2/issues/35380)

<!-- AC-2882-->

* La méthode `getFilteredTimerIds` fonctionne désormais comme prévu.  La classe `Magento\Framework\Profiler\Driver\Standard\Stat` est désormais compatible avec PHP 8.1. Auparavant, Adobe Commerce renvoyait une exception lorsque cette méthode était appelée. [GitHub-35307](https://github.com/magento/magento2/issues/35307)

<!-- AC-2784-->

* Suppression de la dépendance sur la bibliothèque `imagemin-svgo`.

<!-- AC-2058-->

* Le processus du modèle de minimisation traite désormais correctement les commentaires consécutifs lorsque le premier commentaire commence par `//`. [GitHub-34880](https://github.com/magento/magento2/issues/34880)

<!-- AC-2241-->

* Correction d&#39;une requête de base de données émise par le module `BundleGraphQl` qui renvoyait cette erreur : `"debugMessage": "Notice: Undefined offset: 16 in vendor/magento/module-bundle-graph-ql/Model/Resolver/Options/Collection.php on line 130"`.[GitHub-34991](https://github.com/magento/magento2/issues/34991)

### Correctifs généraux

<!-- ACP2E-1068-->

* Adobe Commerce affiche désormais une période précise lorsqu’un utilisateur administrateur sélectionne l’option **[!UICONTROL Last 24 Hours]** dans le tableau de bord des statistiques d’administration. Auparavant, Adobe Commerce affichait une période incorrecte. Cette erreur est due au fait que le fuseau horaire de la base de données est resté inchangé.

<!-- ACP2E-1066-->

* Des avoirs peuvent maintenant être générés pour les quantités entières et décimales. Auparavant, seules les quantités entières étaient prises en charge.

<!-- ACP2E-1001-->

* La règle de validation d’entrée du code postal client pour le type **numérique uniquement** fonctionne désormais comme prévu dans le champ **[!UICONTROL Edit Customer Address]** (**[!UICONTROL Store]** > **[!UICONTROL Attribute]** > **[!UICONTROL Customer Address]**). Auparavant, les informations d’adresse du client étaient enregistrées sans validation de code postal.

<!-- ACP2E-975-->

* Les utilisateurs administrateurs disposant d’un accès limité à un site web peuvent désormais se connecter à l’administrateur à l’aide de la fonctionnalité Connexion en tant que client .

<!-- ACP2E-873-->

* Les comptes clients partagés à l’échelle mondiale possèdent désormais des adresses qui sont validées par rapport à la liste des pays autorisés pour le site web actuel et enregistrées avec succès. Auparavant, ces comptes étaient incorrectement validés par rapport aux pays autorisés du site web dans lequel le client était enregistré.

<!-- AC-3167-->

* Les chemins de navigation de la hiérarchie de page CMS ne s’affichent plus lorsque **[!UICONTROL Enable Hierarchy Functionality]** est désactivé. Auparavant, les chemins de navigation s’affichaient et lorsque les acheteurs cliquaient dessus, une page 404 s’affichait. [GitHub-35513](https://github.com/magento/magento2/issues/35513)

<!-- AC-2567-->

* La suppression d’un produit de tous les sites web via l’administrateur ne provoque plus l’erreur suivante : `SQLSTATE[42000]: Syntax error or access violation`. [GitHub-35133](https://github.com/magento/magento2/issues/35133)

<!-- AC-2235-->

* Les clients qui dépassent le nombre maximal d’échecs de tentative de connexion peuvent désormais se connecter après la réinitialisation du mot de passe. [GitHub-34981](https://github.com/magento/magento2/issues/34981)

<!-- AC-2020-->

* Le composant de lignes dynamiques se comporte désormais comme prévu lorsqu’un utilisateur administrateur ajoute un nouvel élément. Auparavant, le composant de ligne ne se comportait pas correctement lorsqu’un nouveau produit simple était ajouté à un produit groupé. [GitHub-34850](https://github.com/magento/magento2/issues/34850)

<!-- magento/magento2/pull/35598-->

* Correction des fautes de frappe et de la grammaire incorrecte dans le fichier `app/code/Magento/Backend/etc/menu.xsd`.

<!-- magento/magento2/pull/35818-->

* Le fichier `app/code/Magento/Authorization/README.md` a été mis à jour pour décrire avec précision la création de la table.

<!-- magento/magento2/pull/35940-->

* La méthode `recordLogin` a été mise à jour afin de définir des valeurs de connexion sur le modèle utilisateur et de conserver les valeurs correctes dans les champs `logdate` et `lognum` de la table `admin_user`. Auparavant, les tentatives de connexion des utilisateurs administrateurs mis à jour n’étaient pas enregistrées.

<!-- magento/magento2/pull/35990-->

* Les modèles de problème GitHub ont été convertis en formulaires de problème pour les problèmes d’expérience des développeurs et les demandes de fonctionnalités.

<!-- ACP2E-961-->

* L’attribut du client `Is required` est désormais correctement implémenté par portée de site web pour le formulaire de modification du client Admin.

<!-- ACP2E-895-->

* Le champ **[!UICONTROL Grid Filter Condition Type]** des attributs de client et d’adresse du client n’est plus visible sur la page de modification des attributs lorsque le paramètre **[!UICONTROL Use in Filter Option]s** est désactivé.

<!-- AC-6020-->

* Adobe Commerce affiche désormais un message d’erreur informatif si un commerçant ne saisit pas de valeur d’attribut de SKU facultative lors de la création d’un produit. Auparavant, l’application générait cette exception lorsque l’attribut était facultatif : `Deprecated Functionality: trim(): Passing null to parameter #1 ($string) of type string is deprecated in /var/www/html/mg244/project-community-edition/vendor/magento/module-eav/Model/Entity/AbstractEntity.php on line 932`. [GitHub-35810](https://github.com/magento/magento2/issues/35810)

<!-- ACP2E-716-->

* Le filtre **[!UICONTROL Show my quotes]** sur la page **[!UICONTROL My Quotes]** fonctionne désormais comme prévu. Auparavant, les résultats du filtre incluaient des citations d’autres utilisateurs administrateurs.

### Cartes cadeaux

<!-- ACP2E-851-->

* Les montants des produits des cartes-cadeaux restent désormais identiques au montant spécifié dans un fichier CSV lors de l’importation. Des vérifications pour les options existantes ont été ajoutées et les anciennes valeurs sont désormais mises à jour en fonction d’une clé unique. Auparavant, les montants des cartes-cadeaux étaient doublés lorsque celles-ci étaient importées plusieurs fois.

### Emballage cadeau

<!-- AC-3061-->

* Le prix de l’emballage-cadeau s’affiche désormais comme prévu dans le bloc de résumé de la commande lorsque l’emballage-cadeau a été appliqué au niveau de la commande à une commande contenant des produits physiques et virtuels. Auparavant, Adobe Commerce n’affichait pas le prix de l’emballage du cadeau.

### GraphQL

<!-- AC-1730-->

* Les `Types` qui implémentent plusieurs interfaces dans le code GraphQL peuvent désormais être séparées par un signe `&` et `,` conformément à la spécification GraphQL `@doc`.

<!-- ACP2E-885-->

* La mutation `setShippingAddressesOnCart` prend désormais en charge la définition des codes de région numériques comme `region`. Auparavant, cette mutation ne fonctionnait pas correctement pour les valeurs numériques de code de région.

<!-- ACP2E-1237-->

* La requête `products` renvoie désormais uniquement les révisions associées à la portée spécifiée. Auparavant, les requêtes renvoyaient des avis de tous les magasins.

<!-- ACP2E-882-->

* Les autorisations de catégorie sont désormais respectées lors des demandes GraphQL.

<!-- AC-1805-->

* La requête `customer` filtre désormais correctement les commandes avec une plage de `from` et de `to` spécifiée. [GitHub-31537](https://github.com/magento/magento2/issues/31537)

<!-- AC-5984-->

* La requête `product` renvoie désormais des données de catégorie correctes dans l’agrégation. Auparavant, `attribute_code.category_uid` renvoyait la valeur de `category_id` au lieu de `category_uid`.

<!-- AC-6084-->

* La requête `customerOrders` ne renvoie plus d’erreur `\"model\" value should be specified`. [GitHub-35852](https://github.com/magento/magento2/issues/35852)

<!-- ACP2E-894-->

* La requête `customer` filtre désormais les commandes en fonction de la portée. Vous pouvez désormais spécifier si la requête doit filtrer les commandes par magasin, site web ou globalement.

<!-- ACP2E-1172-->

* La requête `categoryList` renvoie désormais un nombre précis de produits pour les catégories parentes ancrées et non ancrées. Le nouvel attribut `is_anchor` a été ajouté à la liste Colonnes sélectionnées de la collection de catégories. Auparavant, les requêtes renvoyaient un nombre de produits égal à 0. [GitHub-36300](https://github.com/magento/magento2/issues/36300)

<!-- AC-2500-->

* La mutation `generateCustomerTokenAsAdmin` fonctionne désormais comme prévu lors de la création d’un jeton pour la connexion à un magasin autre que le magasin par défaut dans un déploiement multi-magasin. [GitHub-35084](https://github.com/magento/magento2/issues/35084)

<!-- AC-1731-->

* La mutation `createEmptyCart` renvoie désormais une exception comme prévu lorsqu’un jeton expiré est utilisé. [GitHub-26112](https://github.com/magento/magento2/issues/26112)

<!-- AC-1965-->

* Les messages d’erreur de requête de panier ont été rendus plus informatifs. [GitHub-34546](https://github.com/magento/magento2/issues/34546)

<!-- AC-2798-->

* Les données d’agrégation dans la réponse d’une requête `products` incluent désormais des valeurs correctes pour l’attribut de type de prix `attribute_code` et `label`. [GitHub-28878](https://github.com/magento/magento2/issues/28878)

<!-- AC-6685-->

* La requête `products` renvoie les informations de catégorie attendues lorsque le préfixe de la base de données a une valeur non nulle. Auparavant, elle renvoyait une `Internal server error`. [GitHub-36117](https://github.com/magento/magento2/issues/36117)

<!-- AC-1003-->

* Correction du type de retour de la méthode `getCustomerIsGuest`. [GitHub-29529](https://github.com/magento/magento2/issues/29529)

<!-- B2B-2221-->

* Le plug-in `Magento\CatalogGraphQl\Plugin\DesignLoader` a été refactorisé.

<!-- B2B-2379-->

* Le rechargement du panier est désormais déclenché une seule fois comme prévu lorsque le panier est initialisé par des mutations de GraphQL. Auparavant, le chargement du panier déclenchait une revalidation inutile du panier par rapport à l’inventaire des stocks, ce qui consommait d’importantes ressources chaque fois que le panier était chargé.

<!-- AC-1726-->

* Ajout du type de `gift_message` au `OrderItemInterface`. [GitHub-29418](https://github.com/magento/magento2/issues/29418)

<!-- AC-2454-->

* Les options de produit renvoyées dans les réponses de GraphQL incluent désormais uniquement les produits qui se trouvent dans le catalogue auquel appartient l’utilisateur. Si l’utilisateur appartient à un catalogue partagé, seuls les produits des catalogues partagés sont renvoyés. Si l’utilisateur est un invité ou ne fait pas partie d’un catalogue partagé personnalisé, seuls les produits du catalogue public sont renvoyés.


### Google ReCAPTCHA

<!-- AC-3179-->

* Une erreur reCAPTCHA dans le fichier `var/log/exception.log` pour la connexion d’administrateur reCAPTCHA de Google V3 a été résolue, et aucun message d’erreur n’est consigné. Auparavant, l’erreur suivante était générée toutes les quelques secondes lorsqu’un utilisateur administrateur configurait ses paramètres **[!UICONTROL Configuration]** > **[!UICONTROL Security]** > **[!UICONTROL Google reCAPTCHA Admin Panel]** : `main.ERROR: Can not resolve reCAPTCHA parameter. {"exception":"[object] (Magento\Framework\Exception\InputException(code: 0): Can not resolve reCAPTCHA parameter. at /home/xxxxxxx/public_html/vendor/magento/module-re-captcha-ui/Model/CaptchaResponseResolver.php:25)"} []`. [GitHub-34975](https://github.com/magento/magento2/issues/34975)

### Image

<!-- ACP2E-905-->

* Mise à jour des recommandations sur la taille du logo pour le bordereau de facture PDF.

### Importer/exporter

<!-- ACP2E-957-->

* L’importation d’un produit avec la même clé URL numérique qu’un produit existant, mais sans son caractère alphabétique terminal, ne provoque plus d’erreur de validation lorsque la **[!UICONTROL Product URL Suffix]** est définie sur vide dans l’administrateur.

<!-- AC-6588-->

* La commande `bin/magento app:config:import` importe désormais avec succès le contenu d’un fichier `config.php` lorsqu’il contient certaines expressions `cron`. Auparavant, l’importation échouait avec cette erreur : `Import failed: Notice: Trying to access array offset on value of type null in [..]/vendor/magento/module-config/Model/Config/Backend/Currency/Cron.php on line 66`. [GitHub-31428](https://github.com/magento/magento2/issues/31428)

<!-- ACP2E-1289-->

* L’exportation complète fonctionne désormais correctement lorsqu’AWS S3 est utilisé comme stockage distant. Auparavant, l’exportation échouait en raison de la taille du fichier chargé.

<!-- ACP2E-982-->

* Le statut du produit est désormais correctement importé lorsque les colonnes de données d’inventaire du fichier CSV sont manquantes. Auparavant, après l’importation du produit, l’origine par défaut était automatiquement attribuée au produit, sa quantité était définie sur zéro et son statut était répertorié comme étant en rupture de stock lorsque les colonnes de données de stock du fichier CSV étaient manquantes.

<!-- ACP2E-841-->

* L&#39;importation de valeurs de prix d&#39;avance fournit désormais le nombre correct d&#39;enregistrements nouveaux et mis à jour lorsque l&#39;importation inclut plus de 100 enregistrements. Auparavant, le message de réussite de l’importation indiquait un nombre incorrect.

<!-- ACP2E-984-->

* Les fichiers CSV exportés contiennent désormais les chemins d’accès corrects aux noms de catégorie enregistrés dans plusieurs langues. Un ID de magasin a été ajouté pour la collecte de catégories. Auparavant, les fichiers exportés contenaient des chemins mixtes avec des langues différentes au lieu d’un chemin de catégorie dérivé de la vue de magasin par défaut.

<!-- ACP2E-1319-->

* La mise à jour des options personnalisées d’un produit dans une vue de magasin spécifique via l’importation s’effectue désormais correctement. Auparavant, une erreur de serveur interne était générée si des lignes liées à un produit étaient fractionnées en plusieurs lots.

<!-- AC-6926-->

* Le service d’importation de `Fixer.io` fonctionne désormais comme prévu. Les taux de change ont été correctement importés. [GitHub-36010](https://github.com/magento/partners-magento2ee/issues/36010)


### Index

<!-- AC-3152-->

* La `batch_size` de l’indexeur pour l’index `catalogpermissions_category` est maintenant remplacée par la valeur fournie dans le fichier `env.php` comme prévu. Auparavant, une faute de frappe dans le chemin d’accès pour le remplacement du `batch_size` de l’indexeur empêchait de modifier la taille du lot sur la valeur fournie dans `env.php`. [GitHub-652](https://github.com/magento/partners-magento2ee/issues/652)

<!-- ACP2E-1296-->

* La réindexation des prix s’exécute désormais correctement lorsque le catalogue contient des produits groupés qui ne sont affectés à aucun site web. Auparavant, l’erreur suivante se produisait lorsque l’indice des prix des produits s’exécutait : `Warning: Undefined array key <bundel product id > in vendor/magento/module-bundle/Model/ResourceModel/Indexer/Price/DisabledProductOptionPriceModifier.php on line 117`. [GitHub-35796](https://github.com/magento/magento2/issues/35796)

### Infrastructure

<!-- ACP2E-869-->

* Ajout d’un nettoyage des valeurs `DATE` et `DATETIME` dans les vidages de base de données pour la prise en charge d’Adobe Commerce. Auparavant, les champs de type datetime n’étaient pas assainis pour les tables client/devis/commande dans la table de sauvegarde de la base de données.

<!-- ACP2E-804-->

* La fonction `escaper.js` `escapeHtml` convertit désormais le caractère spécial esperluette (&amp;) en `"$amp;"` selon la règle `InnerHtml`. Cette solution générique résout les problèmes de conversion de caractères spéciaux et de références de caractères dans la zone de saisie du titre et enregistre la valeur exacte telle qu’insérée. Auparavant, les esperluettes (&amp;) étaient incorrectement codées dans les noms de nœud de la hiérarchie du contenu.

<!-- AC-5972-->

* Les problèmes liés au module `colinmollenhour/php-redis-session-abstract` tiers et à PHP 8.1 ont été résolus. [GitHub-35634](https://github.com/magento/magento2/issues/35634)

### Galerie de médias

<!-- AC-3034-->

* L’ancienne Galerie de médias est désormais désactivée par défaut. Auparavant, **[!UICONTROL Enable old Media gallery]** était défini sur **[!UICONTROL Yes]**.

<!-- ACP2E-1302 -->

* La Galerie de nouveaux médias a été optimisée pour améliorer le chargement de l’arborescence du répertoire dans la page de catégorie.

### Journalisation

<!-- ACP2E-1312-->

* Vous pouvez désormais générer des rapports système pour les fichiers journaux de 0 octet. Auparavant, Adobe Commerce générait une erreur lors de la génération d’un rapport pour une collection de fichiers journaux lorsqu’un ou plusieurs fichiers étaient vides.

### Ordre

<!-- ACP2E-1107-->

* La page Admin avoir commande client affiche désormais le total général correct pour les commandes créées avec le crédit de magasin et plusieurs factures. Auparavant, le calcul du total général était incorrect et l&#39;utilisateur ne pouvait pas générer d&#39;avoir.

<!-- ACP2E-998-->

* Le préfixe de commande transmis dans le script d’installation est désormais correctement ajouté à l’ID de commande.

<!-- ACP2E-790-->

* La page Détails de la commande se charge désormais correctement lorsque la commande contient un produit avec une longue valeur de texte personnalisée. Auparavant, la page Détails de la commande ne se chargeait pas et la valeur de la colonne `sales_order_item.product_options` n’était pas stockée correctement si un produit contenait une valeur longue pour une option texte personnalisé.

<!-- AC-3178-->

* Le statut de la commande Storefront est désormais correct pour les commandes partiellement remboursées. Auparavant, une commande restait à l’état de traitement après l’expédition lorsqu’un remboursement partiel était appliqué. [GitHub-35528](https://github.com/magento/magento2/issues/35528)

<!-- AC-3031-->

* Le groupe de clients est désormais représenté avec précision comme **Non connecté** pour une commande créée par un utilisateur invité. Auparavant, le groupe de clients était NUL dans les résumés des commandes des invités, ce qui affectait les e-mails de confirmation et l’exportation des commandes. [GitHub-35440](https://github.com/magento/magento2/issues/35440)

<!-- AC-2811-->

* Un statut de **[!UICONTROL Closed]** est désormais attribué aux commandes virtuelles comme prévu après l&#39;émission d&#39;un avoir et le remboursement du client. Auparavant, les produits virtuels s’affichaient sous la forme **[!UICONTROL Complete]** dans le menu déroulant Statut , mais **[!UICONTROL Closed]** dans le pied de page des commentaires de commande lorsque le commentaire était ajouté à partir de l’administration. [GitHub-35283](https://github.com/magento/magento2/issues/35283)

<!-- AC-6641-->

* Les clients peuvent désormais passer des commandes pour des produits dont la quantité est inférieure à un, et la quantité de produits est désormais strictement saisie en tant que `float`. Auparavant, comme la quantité de produit était strictement saisie en tant que `int`, les commandes pour une quantité de produit inférieure à un échouaient avec le message suivant : `Some of the products are disabled`. [GitHub-36060](https://github.com/magento/magento2/issues/36060)

<!-- ACP2E-1313-->

* Les remboursements d’expédition sont désormais correctement calculés lorsque l’option de configuration **[!UICONTROL Apply discount on prices]** est définie sur **[!UICONTROL including taxes]**.

<!-- ACP2E-1199-->

* Les grilles Facture, expédition et avoir sont désormais mises à jour de manière asynchrone une fois les commandes archivées.

<!-- ACP2E-1194-->

* Les commandes en double ne résultent plus de requêtes GraphQL identiques simultanées. Les guillemets sont maintenant verrouillés pendant 10 secondes au maximum pour empêcher la création de commandes en double. La deuxième demande échoue avec les erreurs suivantes : `The cart isn't active` ou `The order has already been placed and is currently processing`. Cette valeur de verrouillage peut être configurée via di pour le paramètre de `Magento\Quote\Model\PlaceOrderMutex` de classe `lockWaitTimeout`. [GitHub-36274](https://github.com/magento/magento2/issues/36274)

<!-- ACP2E-1170-->

* L’ajout d’un commentaire à une commande archivée ne la renvoie plus à la grille des commandes non archivées tout en conservant son statut archivé.

<!-- ACP2E-860-->

* Les valeurs d’attribut d’entreprise s’affichent désormais comme prévu dans les sections Adresse de facturation et d’expédition du workflow de passage en caisse. Auparavant, les attributs de société ne s’affichaient pas correctement sur la page des détails de la commande, car les magasins n’étaient pas correctement définis lors de la création de la commande. Les valeurs d’attribut n’étaient stockées correctement que lorsque la propriété **Afficher la société** était définie sur **[!UICONTROL optional]** pour **Site web principal** dans les déploiements multi-magasin.

<!-- ACP2E-1117-->

* La valeur `customer_address_id` est maintenant définie comme prévu pour une nouvelle adresse de facturation lorsque **[!UICONTROL My billing and shipping address are the same]** case est cochée. Une condition supplémentaire a été introduite pour identifier si l’adresse de facturation est identique à l’adresse d’expédition avant de définir l’ID d’adresse du client pour l’adresse d’expédition.

<!-- AC-6057-->

* Les problèmes de simultanéité avec le placement de commande ont été résolus. Auparavant, si deux commandes étaient passées à partir de navigateurs différents au même moment, ou presque au même moment, les deux commandes se voyaient attribuer le même ID de commande. [GitHub-35833](https://github.com/magento/magento2/issues/35833)

<!-- AC-6908-->

* Passer une commande facturée automatiquement pour un produit gratuit lorsque l’indexation asynchrone est activée fonctionne désormais comme prévu. Aucune entrée n&#39;est ajoutée à la table `sales_order_grid or sales_invoice_grid` pour ces commandes. Auparavant, Adobe Commerce générait une exception car l’application tentait d’indexer les grilles lors de l’enregistrement des commandes au lieu de s’appuyer sur `cron`. [GitHub-36334](https://github.com/magento/magento2/issues/36334)

### Page Builder

<!-- ACP2E-956-->

* Vous pouvez désormais utiliser la fonction de glisser-déposer de Page Builder pour importer en bloc des images dans la galerie.

<!-- AC-2074-->

* Les problèmes liés à la règle CSS du curseur du Générateur de page ont été résolus. [GitHub-34527](https://github.com/magento/magento2/issues/34527)

<!-- ACP2E-978-->

* Les attributs `Dropdown`, `Text area` et `Text field` sont désormais disponibles dans la liste des attributs de produit Page Builder. Auparavant, seuls les attributs `Dropdown` et `Text area` étaient disponibles.

### Paiement

<!-- ACP2E-862-->

* Le mode de paiement du contre-remboursement n&#39;est plus rendu sur le workflow de passage en caisse du storefront lorsque le contre-remboursement est exempté pour le pays spécifié dans les adresses d&#39;expédition et de facturation. Auparavant, les paramètres de configuration d’administration pour cette fonctionnalité n’étaient pas implémentés.

<!-- AC-1119-->

* Les informations de paiement Vault ne s’affichent plus dans la section Paiement du workflow de création de commande administrateur si l’acheteur n’a pas enregistré de jeton. [GitHub-33954](https://github.com/magento/magento2/issues/33954)

<!-- AC-2688-->

* Les prix personnalisés ne sont plus doublés après l’application d’une remise par règle de prix de panier. [GitHub-35154](https://github.com/magento/magento2/issues/35154)

<!-- ACP2E-1120-->

* Le nouveau statut de commande en attente est désormais honoré comme prévu lorsqu’une commande est passée à l’aide du mode de paiement Passage en caisse avec sous-total zéro.

<!-- ACP2E-1121-->

* Les paramètres d’e-mail des invités sont désormais respectés lors de la création de la commande pour un acheteur invité avec PayPal Express via GraphQL. Auparavant, l’adresse e-mail définie était remplacée par celle définie dans le compte PayPal.

#### Braintree

<!-- BUNDLE-3186-->

* Les ID de commande sont désormais ajoutés aux demandes de règlement pour les transactions de paiement.

<!-- AC-3030-->

* Adobe Commerce ne renvoie plus l’erreur suivante lorsqu’un commerçant clique sur **[!UICONTROL Reports]** > **[!UICONTROL Braintree Settlement]** : `Error: Undefined constant Braintree\PaymentInstrumentType::ANDROID_PAY_CARD in /var/www/html/vendor/paypal/module-braintree-core/Ui/Component/Report/Listing/Column/PaymentType.php:49`. [GitHub-35434](https://github.com/magento/magento2/issues/35434)

<!-- BUNDLE-3043-->

* La requête `customerPaymentTokens` ne renvoie plus de jetons Braintree lorsque le coffre est désactivé par l’administrateur.

<!-- BUNDLE-3107-->

* Le bouton **[!UICONTROL Pay Later]** et les bannières ont été activés pour l&#39;Italie et l&#39;Espagne.

<!-- BUNDLE-3137-->

* Les utilisateurs administrateurs peuvent désormais créer une commande ou la réorganiser lorsque le mode de paiement Braintree est activé. Auparavant, Adobe Commerce générait cette erreur : `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`.

<!-- BUNDLE-3139-->

* Le passage en caisse à l’aide du mode de paiement Braintree se termine désormais correctement lorsque Braintree PayPal est activé et **[!UICONTROL Enable Card Payments]** est désactivé. Auparavant, la barre de progression n’était jamais résolue et Adobe Commerce affichait cette erreur de console : `adapter.js:66 Uncaught TypeError: Cannot read properties of undefined (reading 'clientToken')at Object.getClientToken (adapter.js:66:66)`. [GitHub-35961](https://github.com/magento/magento2/issues/35961)

<!-- BUNDLE-3140 3141-->

* Protection contre la fraude, paiement par CCA et hooks Web de méthode de paiement local ont été mis en œuvre. Le hook web de protection contre les fraudes n’est déclenché que si une décision relative aux risques a été prise dans Braintree. Le hook web ACH n&#39;est déclenché qu&#39;après la mise à jour d&#39;un paiement ACH vers `settled` ou `settlement decline`.

<!-- BUNDLE-3143-->

* Les champs de configuration **[!UICONTROL Tagline]** et **[!UICONTROL Layout]** ont été supprimés de tous les boutons **[!UICONTROL PayPal]** de la section Style d’administration .

<!-- ACP2E-1229-->

* L’option Mode de paiement Braintree Vault reste sélectionnée dans le workflow de passage en caisse lorsqu’un acheteur met à jour son adresse de facturation. Auparavant, le mode de paiement était désélectionné lorsque l’acheteur désélectionnait le bouton **[!UICONTROL My billing and shipping address are the same]**.

<!-- BUNDLE-3184-->

* Les éléments de ligne sont désormais transmis pour les transactions PayPal lorsque le paramètre de configuration **[!UICONTROL Send Line Items]** est activé à partir de l’administrateur.

<!-- BUNDLE-3187-->

* La logique de validation du champ **[!UICONTROL Account Number]** du mode de paiement ACH prend désormais en charge le texte à 4 à 17 chiffres.

<!-- BUNDLE-3043-->

* La requête `customerPaymentTokens` ne renvoie plus de jetons Braintree lorsque le coffre est désactivé par l’administrateur.

<!-- BUNDLE-3137-->

* Les utilisateurs administrateurs peuvent désormais passer une commande ou une nouvelle commande pour les clients lorsque le mode de paiement Braintree est activé. Auparavant, Adobe Commerce générait cette erreur : `report.CRITICAL: Error: Call to a member function getMethodInstance() on null in /app/vendor/paypal/module-braintree-core/Block/Form.php:174`

<!-- BUNDLE-3139-->

* Les acheteurs peuvent désormais utiliser la méthode de paiement Braintree dans les vitrines où **[!UICONTROL Enable Card Payments]** a été désactivé. Auparavant, Adobe Commerce générait cette erreur JavaScript : `_adapter.js:66 Uncaught TypeError: Cannot read properties of undefined (reading 'clientToken')at Object.getClientToken (adapter.js:66:66).`

### Performances

<!-- ACP2E-1028-->

* L’indexeur de prix supprime désormais les données obsolètes comme prévu après le remplacement des enregistrements lors de la réindexation partielle des catalogues volumineux. Auparavant, le processus de réindexation supprimait les enregistrements obsolètes avant de les remplacer, ce qui entraînait parfois la disparition temporaire des produits du storefront. [GitHub-35616](https://github.com/magento/magento2/issues/35616)

<!-- ACP2E-963-->

* Les performances de la commande `bin/magento/setup:upgrade` ont été améliorées. Auparavant, cette commande recréait les déclencheurs de base de données, ce qui provoquait un temps d’arrêt important lors de l’exécution de la commande. En outre, les indexeurs n’ont pas retrouvé le mode planifié et sont restés en mode d’enregistrement. [GitHub-33386](https://github.com/magento/magento2/issues/33386)

<!-- ACP2E-1016-->

* La mise à jour des prix de niveau par API s’exécute désormais plus rapidement. Auparavant, la mise à jour des prix de niveau générait des requêtes de `SELECT` inutiles, ce qui retardait l’exécution lorsque de nombreux groupes de clients étaient affectés à un produit.

<!-- ACP2E-1307-->

* Le chargement des pages qui incluent la liste de produits du widget de catalogue a été optimisé. Auparavant, les attributs non globaux étaient chargés directement à partir de la base de données.

### Rapports

<!-- ACP2E-852-->

* Le rapport Journal d’administration affiche désormais une valeur de **[!UICONTROL Value before change]** précise lorsqu’une règle de catégorie est mise à jour.

<!-- ACP2E-1104-->

* Les dates du rapport Total des commandes **de** et **à** s’affichent désormais correctement après avoir été sélectionnées à partir du sélecteur de date.

<!-- BUNDLE-3147-->

* La constante `ANDROID_PAY_CARD` dans `Braintree/Ui/Component/Report/Listing/Column/PaymentType.php` a remplacé `GOOGLE_PAY_CARD`. Cela résout les problèmes liés au rapport Braintree.

### Autorisations de retour de marchandises (RMA)

<!-- ACP2E-1285-->

* Le champ de commentaire RMA (**[!UICONTROL Orders]** > **[!UICONTROL Return]**) ne contient plus d’espace redondant. (Les balises `<textarea>` et `<?php` se trouvent désormais sur une seule ligne.

<!-- ACP2E-1279-->

* La case à cocher **[!UICONTROL Use Config Settings]** du champ **[!UICONTROL Enable RMA]** enregistre désormais sa valeur comme prévu lorsqu’un produit est enregistré.

### Examens

<!-- ACP2E-1214-->

* Les utilisateurs administrateurs disposant d’un accès limité à une portée spécifique peuvent désormais supprimer les révisions de produit comme prévu.

### Rôles

<!-- ACP2E-1277-->

* Ajout d’une liste de contrôle d’accès manquante pour **[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL Services]** > **[!UICONTROL OAuth]**. Auparavant, vous ne pouviez pas définir l’accès à ce paramètre de configuration OAuth lors de la configuration des autorisations de rôle.

### Rechercher {#search-heading}

<!-- ACP2E-989-->

* Les recherches de chaînes entre guillemets fonctionnent désormais comme prévu lorsque le paramètre de configuration **[!UICONTROL Minimum Terms to Match]** est activé. Auparavant, Adobe Commerce générait cette erreur : `{"error":{"root_cause":[{"type":"parsing_exception","reason":"[match_phrase] query does not support [minimum_should_match]' ...`.

<!-- ACP2E-877-->

* Le filtre de recherche **Point d&#39;inscription** pour les enregistrements client dans les grilles client de la commande client fonctionne désormais comme prévu lors de la création de la commande.

<!-- ACP2E-783-->

* La qualité des suggestions de recherche a été améliorée pour les requêtes à plusieurs mots.

<!-- AC-6768-->

* Les résultats de recherche incluent désormais des sorties d’option en rupture de stock pour tous les produits disponibles lorsque **[!UICONTROL Display Out Of Stock Products]** est activé [GitHub-36055](https://github.com/magento/magento2/issues/36055)

### Expédition

<!-- ACP2E-670-->

* Les taux d&#39;expédition pour FedEx, USPS et UPS sont calculés correctement lorsque la règle Panier d&#39;expédition gratuit est définie pour correspondre uniquement à un sous-ensemble d&#39;articles du panier.

<!-- AC-937-->

* La page d’expédition Admin n’affiche plus l’option d’expédition gratuite lorsque le total de la commande est inférieur au montant minimum de commande spécifié éligible à l’expédition gratuite. [GitHub-33697](https://github.com/magento/magento2/issues/33697)

<!-- AC-838-->

* Adobe Commerce respecte désormais le paramètre de configuration du **[!UICONTROL Show Company]** client d’administration lors de l’affichage de l’adresse d’expédition ou du client. Lorsque ce paramètre est désactivé, la société de livraison n’est plus incluse dans l’enregistrement de commande d’expédition, d’adresse du client ou de base de données. Auparavant, les informations s’affichaient même si vous aviez défini la désactivation. [GitHub-33729](https://github.com/magento/magento2/issues/33729)

<!-- magento/magento2/pull/35631-->

* Suppression d&#39;une opération d&#39;enregistrement superflue sur les devis lors de l&#39;estimation des frais d&#39;expédition.

<!-- magento/magento2/pull/35817-->

* `storeId` portée est désormais appliquée directement à partir de `$request->getStoreId()` pour vous assurer que la portée n’est pas perdue lorsqu’un devis est créé par un utilisateur administrateur. Auparavant, des problèmes survenaient parfois avec les méthodes d’expédition lorsqu’un devis était créé à partir de l’administration à l’aide de modules tiers.

<!-- ACP2E-1304-->

* Des URL compatibles avec les moteurs de recherche sont désormais générées pour les produits dont le paramètre `url_key` est remplacé au niveau de la vue du magasin. Auparavant, les URL de produits de catégorie n’étaient pas redirigées vers des URL compatibles avec l’optimisation du moteur de recherche.

<!-- ACP2E-1196-->

* Adobe Commerce ne renvoie plus d’erreur de montant minimum de commande lorsqu’une remise est appliquée aux frais d’expédition.

<!-- ACP2E-1190-->

* Les remboursements d&#39;expédition sont désormais correctement calculés lorsque la taxe est appliquée après qu&#39;une remise a été appliquée à l&#39;expédition.

<!-- ACP2E-910 AC-3182-->

* Toutes les promotions applicables pour un panier demandé via la requête de `cart` GraphQL sont renvoyées ensemble. Les promotions incluent des remises sur les lignes, des règles/remises sur le panier, des coupons, des cartes-cadeaux et des crédits en magasin. [GitHub-35545](https://github.com/magento/magento2/issues/35545)

<!-- AC-2363-->

* Ajout des types `price_excl_tax` et `price_excl_tax` à la sortie de la mutation `setShippingMethodsOnCart`. [GitHub-31206](https://github.com/magento/magento2/issues/31206)

<!-- AC-1096-->

* Des identifiants d’expédition uniques sont désormais transmis dans les réponses GraphQL comme prévu avec les détails d’expédition pour les commandes envoyées à plusieurs adresses pour les requêtes GraphQL.

### Évaluation

<!-- ACP2E-879-->

* La replanification de la date de fin d&#39;une mise à jour d&#39;évaluation n&#39;entraîne plus d&#39;erreur une fois la mise à jour terminée. Auparavant, les administrateurs ne pouvaient pas ouvrir les pages de produits et les grilles de produits, et Adobe Commerce a généré cette erreur : `report.CRITICAL: Exception: Item (Magento\Catalog\Model\Product\Interceptor) with the same ID "1" already exists`.

<!-- ACP2E-776-->

* Le tableau de bord de staging affiche désormais le nombre total correct d’enregistrements. La pagination du tableau de bord fonctionne désormais comme prévu. Précédemment. le tableau de bord affichait un maximum de 20 enregistrements.

<!-- ACP2E-1213-->

* Les aperçus d’évaluation de contenu se chargent désormais plus rapidement dans les déploiements avec de nombreux magasins. La prévisualisation de la réindexation réindexe désormais uniquement les magasins sélectionnés.

<!-- ACP2E-919-->

* Vous pouvez désormais ajouter des produits au panier en mode de prévisualisation de la planification. La mise à jour des liens de chemin de navigation en mode d’aperçu de planification avec ces paramètres a corrigé ce problème : `version`, `timestamp` et `signature`.

### Taxe

<!-- AC-3201-->

* Le paramètre de configuration **[!UICONTROL Display Zero Tax Subtotal]** s’applique désormais comme prévu aux commandes dans les déploiements offrant plusieurs méthodes d’expédition. Auparavant, le champ TVA nulle était visible sur la page du panier lors du passage en caisse avant qu’une méthode d’expédition ne soit sélectionnée même lorsque ce paramètre était désactivé. [GitHub-35561](https://github.com/magento/magento2/issues/35561)

<!-- AC-3157-->

* Adobe Commerce peut désormais afficher les produits groupés avec taxe sur la page de catégorie storefront dans les déploiements exécutant PHP 8.1. Auparavant, Adobe Commerce n’affichait pas de liste de produits et a généré l’exception suivante : `main.CRITICAL: Exception: Deprecated Functionality: ucfirst(): Passing null to parameter #1 ($string) of type string is deprecated in /var/www/m24/vendor/magento/module-tax/Pricing/Render/Adjustment.php on line 188 in /var/www/m24/vendor/magento/framework/App/ErrorHandler.php:61`. [GitHub-35500](https://github.com/magento/magento2/issues/35500)

<!-- ACP2E-1258-->

* Les commerçants ne peuvent plus déplacer une mise à jour planifiée vers une autre mise à jour contenant le même ID de règle. Auparavant, les mises à jour de planification des règles de prix de panier créaient des planifications en double lorsqu’une mise à jour était déplacée vers une autre mise à jour contenant le même ID de règle.

<!-- ACP2E-1295-->

* L&#39;affectation automatique des groupes de clients fonctionne désormais lorsqu&#39;aucun numéro de TVA n&#39;est associé à l&#39;adresse du client. Si l&#39;adresse ne contient pas d&#39;ID TVA, elle est traitée comme appartenant à un client non enregistré TVA et Adobe Commerce transforme le groupe de clients en un groupe non TVA. Auparavant, lorsque **[!UICONTROL Enable Automatic Assignment to Customer Group]** était activé, le compte client n&#39;était pas automatiquement affecté au `customerGroup` lorsque le numéro de TVA était supprimé du compte client.

<!-- ACP2E-493-->

* Les blocs dynamiques corrects s’affichent désormais pour les règles de catalogue intermédiaires en mode d’aperçu intermédiaire. Auparavant, des blocs dynamiques non liés étaient affichés.

<!-- ACP2E-1080-->

* Plusieurs taxes sont désormais correctement rendues dans la section Synthèse des taxes des factures et des avoirs lorsque la livraison multiple est appliquée lors du passage en caisse.

<!-- ACP2E-1076-->

* Les remises ne sont plus appliquées lorsqu&#39;un sous-total de commande incluant la taxe ainsi que le montant de taxe de produit fixe dépasse la condition de règle du panier sur la page du panier. Auparavant, les remises étaient appliquées même lorsque le total dépassait la condition de règle du panier.

<!-- ACP2E-913-->

* Vous pouvez désormais spécifier une `vat_id` lors de l’utilisation de GraphQL pour ajouter ou mettre à jour l’adresse d’un client invité.

### Test

<!-- ACP2E-1171-->

* Correction des erreurs de tests unitaires pour différentes versions des bibliothèques `ICU` et `libxml`.

<!-- ACP2E-1134-->

* L’équipe de développement peut désormais demander au système d’exécuter une structure de données dans une vue de magasin spécifique. Le nouveau paramètre facultatif `scope` accepte un `string` qui correspond à l’alias de l’ablocage du magasin.

<!-- ACP2E-1133-->

* Ajout de la possibilité de générer plusieurs instances d’une structure de données à l’aide du paramètre facultatif `count`.

<!-- AC-6860-->

* Suppression de la fonction `array_first` non native des dépendances de développement dans le framework MFTF.

### Traductions et paramètres régionaux

<!-- ACP2E-912-->

* La traduction en ligne fonctionne désormais correctement avec les caractères spéciaux, y compris les caractères Unicode étendus dans les expressions situées dans les balises SCRIPT. Auparavant, les caractères japonais étaient incorrectement rendus dans le script modifié lors de l’utilisation de la traduction en ligne.

<!-- ACP2E-844-->

* Le caractère `ñ` d’un nom de produit est désormais converti en `n` lors de la génération de la clé de l’URL.

<!-- AC-3499-->

* La sortie du `bin/magento i18n:collect-phrases` en cours d’exécution inclut désormais les traductions de modèles de courrier dans les constructions `depend` comme prévu. [GitHub-35449](https://github.com/magento/magento2/issues/35449)

<!-- ACP2E-1135-->

* Les caractères japonais peuvent désormais être saisis directement dans le jeu d’attributs de la page de produits (zone de liste). Auparavant, la saisie directe de caractères japonais dans cette zone de liste modifiait ou supprimait des caractères lors de l’exécution du navigateur Firefox sur MacOS. L’attribut `textInput` HTML, qui peut mieux gérer la conversion des caractères japonais dans tous les navigateurs, a remplacé les attributs `Value` et `valueUpdate`.

<!-- ACP2E-1238-->

* La méthode `getOptions` récupère désormais correctement les valeurs de libellé d’attribut `price` en fonction de la vue du magasin. Auparavant, l’attribut `price` était traduit lors des opérations GraphQL pour la vue de magasin incorrecte.

### Interface utilisateur

<!-- ACP2E-1018-->

* La devise spécifique au site Web est désormais utilisée comme prévu pour les colonnes Prix spécial, Coût et MSRP dans la grille de produits d’administration. Auparavant, le symbole de devise correct ne s’affichait pas dans la grille de produits du catalogue d’administration lors du filtrage par vue de magasin pour un prix spécial.

<!-- ACP2E-980-->

* La fonctionnalité de glisser-déposer des options personnalisées de produit fonctionne désormais comme prévu. Vous pouvez désormais déplacer une option personnalisable d’une page à une autre lorsqu’il y a plusieurs pages disponibles dans la grille d’options personnalisables.

<!-- ACP2E-866-->

* Les graphiques des tableaux de bord d’administration affichent désormais les intervalles de temps cumulés sur l’exercice entre le début de l’année civile en cours et la date actuelle comme prévu. Auparavant, les périodes étaient incluses sur 12 mois.

<!-- AC-3088-->

* Une favicon manquante a été ajoutée à la page d’accueil du storefront. [GitHub-35493](https://github.com/magento/magento2/issues/35493)

<!-- ACP2E-1025-->

* L’administrateur affiche désormais avec succès la dernière date de connexion de chaque utilisateur administrateur. Auparavant, lorsqu’un utilisateur administrateur se connectait pour la première fois à l’administrateur, une valeur de date de connexion vide s’affichait sur la grille d’utilisateurs administrateur.


<!-- AC-3762-->

* La fonctionnalité de prévisualisation du modèle d’e-mail (**[!UICONTROL Marketing]** > **[!UICONTROL Communications]** > **[!UICONTROL Email Templates]**) affiche désormais correctement les modèles. Auparavant, l’image d’aperçu était tronquée. [GitHub-35697](https://github.com/magento/magento2/issues/35697)

<!-- magento/magento2/pull/35656-->

* Ajout de la classe `new-shipping-address-modal` pour prendre en charge la mise en forme du modal nouvelle adresse de livraison.

<!-- magento/magento2/pull/35738-->

* Ajout d’un texte informatif sous le champ d’entrée `Search Weight` de l’attribut `Storefront Properties` dans Admin **[!UICONTROL Stores]**  > [!UICONTROL Attributes] > **[!UICONTROL Product]**.

<!-- ACP2E-1323-->

* Les aperçus d’e-mail s’ouvrent désormais dans un onglet distinct au lieu d’une fenêtre contextuelle, qui offre une vue plus large du contenu de l’e-mail. Auparavant, le contenu des e-mails était tronqué.

<!-- ACP2E-1299-->

* La fonction de filtrage de la grille des rôles utilisateur (Admin **[!UICONTROL System]** > **[!UICONTROL Permissions]** > **[!UICONTROL User roles]** > **[!UICONTROL Administrators]**) fonctionne désormais comme prévu. La valeur du tableau est désormais gérée séparément. Auparavant, lorsque vous tentiez de saisir une requête dans cette grille, Adobe Commerce générait cette erreur de console, et la page ne se chargeait pas : `Uncaught TypeError: Cannot read properties of null`. [GitHub-35993](https://github.com/magento/magento2/issues/35993)

<!-- ACP2E-328-->

* La validation des valeurs d’attribut a été ajoutée lors de la création d’un client via l’API REST. Le processus de création échoue désormais lorsque des valeurs d’attributs non valides sont fournies. Auparavant, il n’y avait aucune validation pour le genre, qui n’est pas un champ obligatoire. Lors de la création du client, la valeur qui a été transmise pour le genre a été enregistrée dans le tableau `customer_entity`.

<!-- ACP2E-1105-->

* Les adresses ajoutées pendant le passage en caisse conservent désormais le format attendu. Auparavant, les lignes vides étaient ignorées.

<!-- ACP2E-897-->

* La modification de la vue Grille des colonnes de la grille de produit et la sélection de nouvelles colonnes pour une vue personnalisée ne déclenchent plus d’action Sélectionner toutes les colonnes de la grille . Auparavant, la zone de colonne disparaissait et les produits de la grille étaient sélectionnés ou désélectionnés. [GitHub-36302](https://github.com/magento/magento2/issues/36302)

<!-- ACP2E-1245 1405-->

* Les utilisateurs administrateurs peuvent désormais effacer le journal des tâches terminées par l’administrateur avec succès. Auparavant, l’administrateur affichait cette erreur : `Something went wrong`. [GitHub-36255](https://github.com/magento/magento2/issues/36255)

<!-- AC-7525-->

* Le paramètre d’en-tête du thème `Welcome Text` peut désormais contenir un guillemet simple. Auparavant, Adobe Commerce générait cette erreur JavaScript : `Uncaught SyntaxError: Unable to process binding "ifnot: function(){return customer().fullname }"`.

### Réécritures d’URL

<!-- ACP2E-808-->

* Le fait de définir la visibilité du produit sur **[!UICONTROL Not Visible Individually]** dans la portée globale Toutes les vues de boutique supprime désormais les réécritures d’URL uniquement pour les vues de boutique qui n’ont pas remplacé l’attribut de visibilité. Cette modification de la visibilité du produit génère également des réécritures d’URL pour toutes les vues de magasin, y compris celles qui ont remplacé l’attribut de clé d’URL (mais pas le paramètre de visibilité). Auparavant, les règles de réécriture d’URL n’étaient pas appliquées lorsque les paramètres de visibilité étaient modifiés.

### Marchandiseur visuel

<!-- ACP2E-1084-->

* Vous ne pouvez plus modifier manuellement la position des produits dans les listes des catégories de marchandiseur visuel lorsque des produits sont associés par règle.

<!-- ACP2E-985-->

* Les utilisateurs administrateurs disposant d’un accès limité à un seul magasin ne peuvent plus faire glisser et déposer des produits d’une catégorie dans Visual Merchandiser. Il peut désormais utiliser la colonne **[!UICONTROL Position]** pour réorganiser la position du produit. Auparavant, ces utilisateurs pouvaient uniquement modifier la position du produit dans une catégorie par glisser-déposer.

<!-- ACP2E-953-->

* La section Produits dans la catégorie de la page de modification de catégorie affiche désormais la quantité correcte de produits configurables. La colonne correcte du tableau est désormais utilisée pour récupérer la quantité configurable de produits.

### Framework d’API web

<!-- ACP2E-1207-->

* Le `DELETE /rest/V1/products/:sku/media/:entryId` de l’API REST renvoie désormais un message d’erreur si l’image n’est pas supprimée du produit, car elle est affectée à un rôle dans d’autres vues du magasin. Auparavant, l’API renvoyait une réponse réussie même si la suppression de l’image n’avait pas réussi.

<!-- ACP2E-1155-->

* Les commerçants peuvent désormais utiliser l’API REST pour créer un avoir pour une commande dont le total général est nul. Auparavant, Adobe Commerce affichait cette erreur : `The order does not allow a credit memo to be created. The credit memo's total must be positive. We can't create a credit memo for the invoice/order`.

<!-- ACP2E-1136-->

* La page de modification du produit Admin reflète désormais précisément les affectations d’un produit une fois que l’affectation du site web du produit a été modifiée à l’aide de l’API REST. [GitHub-36281](https://github.com/magento/magento2/issues/36281)

<!-- ACP2E-863-->

* Les identifiants d’option en double ne peuvent plus être inclus pour les attributs à sélection multiple lors des requêtes d’API REST en bloc pour mettre à jour les produits. Auparavant, vous pouviez définir des identifiants d’option en double pour les attributs à sélection multiple lors de l’envoi d’une requête d’API en bloc pour mettre à jour un produit. Lorsque cet attribut à sélection multiple a été configuré pour être inclus dans la navigation superposée, l’indexation EAV a échoué avec une erreur `Duplicate entry`.

<!-- ACP2E-778-->

* Les noms de produit dans les paniers utilisent désormais les valeurs de la vue de magasin spécifiée comme prévu. Auparavant, les noms de produit dans le panier renvoyaient toujours la valeur d’affichage de magasin par défaut dans les réponses au panier de l’API REST.

<!-- AC-5986-->

* Les valeurs des options personnalisées des éléments du panier peuvent désormais être mises à jour à l’aide de l’API REST. [GitHub-35768](https://github.com/magento/magento2/issues/35768)

<!-- AC-1330-->

* Les requêtes d’API en bloc de plus de 20 `sourceItems` sont désormais terminées avec succès dans les déploiements où l’Inventaire est activé.

<!-- ACP2E-1044-->

* Le service de devise du correcteur fonctionne désormais comme prévu avec les clés générées via ApiLayer et les taux de devise sont exportés correctement. Auparavant, Adobe Commerce générait une erreur lorsqu’un commerçant tentait d’importer des taux de change par l’intermédiaire de l’administrateur.

<!-- ACP2E-726-->

* Vous pouvez désormais utiliser la requête de `/rest/V1/bulk?searchCriteria[filter_groups]` de l’API REST pour interroger des opérations en bloc par critère de recherche. Auparavant, l’erreur suivante était renvoyée : `report.CRITICAL: Report ID: webapi-624bbb1db96c4; Message: Item (Magento\AsynchronousOperations\Model\Operation) with the same ID "0" already exists.`

<!-- magento/magento2/pull/36147-->

* Les prix des produits sont désormais correctement mis à jour sur les pages de recherche de catalogues Admin et Storefront à l’aide de l’API Gérer le prix de base. [GitHub-33767](https://github.com/magento/magento2/issues/33767)


### Liste de souhaits

<!-- ACP2E-1013-->

* Les acheteurs peuvent désormais ajouter des produits à leur liste de souhaits après s’être connectés. Auparavant, en raison de problèmes de validation de la clé de formulaire après la connexion, la clé de formulaire envoyée avec la demande d’ajout à la liste de souhaits était invalidée.

<!-- ACP2E-341-->

* Les produits sont désormais ajoutés comme prévu à la liste de souhaits de la liste de produits et affichent les pages après qu’un client invité a confirmé son compte par e-mail de confirmation. Auparavant, les produits n’étaient pas ajoutés à la liste de souhaits après la confirmation du compte.

<!-- ACP2E-1175-->

* La requête `addProductsToWishlist` renvoie désormais un message d’erreur informatif lorsqu’un acheteur tente d’ajouter un article à une liste de souhaits avec une valeur non valide pour l’option produit `select` personnalisée. Auparavant, la validation du serveur pour la valeur de l’option personnalisée de liste déroulante était manquante, ce qui entraînait une valeur non valide dans la base de données. Par conséquent, le point d’entrée a renvoyé cette erreur de serveur interne : `GraphQL endpoint returns Internal server error with "Call`.

## Problème connu

**Problème** : les libellés des règles de vente intermédiaires peuvent ne pas correspondre après une mise à niveau vers Adobe Commerce 2.4.6 ou une version ultérieure à partir des versions de produit antérieures à la version 2.4.5. **Solution** : appliquez ACSD-50625_2.4.5-P1.patch pendant la mise à niveau avant l’étape de mise à jour des métadonnées. Consultez l’article de la base de connaissances [salesRules labels issues with upgrade from versions &lt; 2.4.5](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/salesrule-label-issues-when-upgrade-from-versions-under-2.4.5.html).

Étapes générales de la résolution de ce problème :

1. Téléchargez le correctif requis. Consultez l’article de la base de connaissances [salesRules labels issues with upgrade from versions &lt; 2.4.5](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/salesrule-label-issues-when-upgrade-from-versions-under-2.4.5.html).
2. Suivez les étapes de mise à niveau décrites dans la phase Gestion des packages du processus de mise à niveau [Effectuez une mise à niveau](https://experienceleague.adobe.com/docs/commerce-operations/upgrade-guide/implementation/perform-upgrade.html).
3. Appliquez ce correctif pendant la mise à niveau après la phase de gestion des packages et avant la phase de mise à jour des métadonnées. Consultez [Comment appliquer un correctif de compositeur fourni par Adobe ](https://experienceleague.adobe.com/docs/commerce-knowledge-base/kb/how-to/how-to-apply-a-composer-patch-provided-by-magento.html) .
4. Terminez le processus de mise à niveau.

**Problème** : Vous ne pouvez pas créer d&#39;avoir lorsque la livraison gratuite est activée (**[!UICONTROL Stores]** > **[!UICONTROL Configuration]** > **[!UICONTROL Sales]** > **[!UICONTROL Delivery Methods]**) et que le prix de livraison affiché inclut la taxe. Lorsque vous tentez de créer un avoir, Adobe Commerce renvoie l&#39;exception suivante : `"Division by zero".vendor/magento/module-sales/Model/Order/Creditmemo/Total/Tax.phpLine 139`. [GitHub-36800](https://github.com/magento/magento2/issues/36800)

**Solution** : un correctif pour ce problème est désormais disponible. Accédez à [Outil de correctifs de qualité : recherchez des correctifs](https://experienceleague.adobe.com/tools/commerce-quality-patches/index.html) et recherchez le correctif ACSD-50814.

### Contributions des partenaires

Le tableau suivant présente les contributions des partenaires. Ce tableau répertorie le partenaire qui a contribué à la demande d’extraction, le numéro de la demande d’extraction externe et le numéro de problème GitHub qui lui est associé (le cas échéant).

{{$include /help/_includes/release-notes/engcomm-2-4-6-partner.md}}

### Contributions des contributeurs individuels

Le tableau suivant identifie les contributions des membres de notre communauté. Ce tableau répertorie le membre de la communauté qui a contribué à la demande d’extraction, le numéro de demande d’extraction externe et le numéro de problème GitHub qui lui est associé (le cas échéant).

{{$include /help/_includes/release-notes/engcomm-2-4-6-issues.md}}

## Configuration requise

Notre pile technologique est construite sur PHP et MySQL. Pour plus d&#39;informations, voir [Configuration requise](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/system-requirements.html).

## Instructions d’installation et de mise à niveau

Vous pouvez installer Adobe Commerce 2.4.6 à l’aide du [compositeur](https://experienceleague.adobe.com/docs/commerce-operations/installation-guide/composer.html).
