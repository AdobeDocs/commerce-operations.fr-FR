---
title: Notes de mise à jour d’Adobe Commerce 2.4.8
description: Découvrez les nouvelles fonctionnalités, les améliorations, les correctifs et les problèmes connus de la version 2.4.8 d’Adobe Commerce.
exl-id: 54b8cc02-5d38-4acd-97e7-e9205e69a1af
source-git-commit: 21da8a0133c3c70c2c37851aca79e2d5d8f82905
workflow-type: tm+mt
source-wordcount: '3103'
ht-degree: 0%

---


# Notes de mise à jour d’Adobe Commerce 2.4.8

{{bics}}

## Faits saillants

Adobe Commerce 2.4.8 offre une sécurité renforcée, une compatibilité avec PHP 8.4 et MariaDB 11.4, des améliorations importantes de l’API GraphQL pour accélérer la migration vers un nouveau [Storefront Adobe Commerce](https://experienceleague.adobe.com/developer/commerce/storefront/?lang=fr) optimisé par Edge Delivery, ainsi que plus de 500 correctifs et améliorations de qualité pour améliorer les fonctionnalités existantes. La mise à niveau vers la version 2.4.8 assure la sécurité de votre plateforme, s’aligne sur les dernières avancées technologiques et est prise en charge jusqu’en avril 2028.

>[!BEGINSHADEBOX]

**Recommandations d’adoption**

Lors de la planification de votre mise à niveau vers Adobe Commerce 2.4.8, tenez compte des priorités de votre entreprise, de la version actuelle et des plans d’adoption de la nouvelle [as a Cloud Service Adobe Commerce](https://experienceleague.adobe.com/fr/docs/commerce/cloud-service/overview).

* **Si vous prévoyez d’adopter Adobe Commerce as a Cloud Service au cours des 12 à 16 prochains mois** : appliquez dès maintenant le dernier correctif de sécurité et planifiez votre mise à niveau dans le cadre de votre migration vers Cloud Service.

* **Si vous ne prévoyez pas d’adopter Adobe Commerce as a Cloud Service au cours des 12 à 16 prochains mois, OU si vous prévoyez d’adopter Adobe Commerce Optimizer au cours de cette période** : le calendrier de votre mise à niveau dépend de votre version actuelle.

   * **Versions 2.4.4, 2.4.5 ou 2.4.6** : appliquez dès maintenant le dernier correctif de sécurité et commencez bientôt votre mise à niveau vers Adobe Commerce 2.4.8, car la prise en charge de la version 2.4.4 se termine en avril 2026, tandis que la prise en charge de la version 2.4.5 et 2.4.6 se termine en août 2026.

   * **Version 2.4.7** : appliquez dès maintenant le dernier correctif de sécurité. Bien que nous vous encouragions à effectuer la mise à niveau dès que possible pour tirer parti des dernières améliorations, vous avez la possibilité de choisir une heure qui correspond aux priorités de l’entreprise. Votre version restera prise en charge jusqu’en avril 2027.

>[!ENDSHADEBOX]

### Sécurité

Les améliorations de sécurité suivantes apportées à cette version améliorent la conformité aux dernières bonnes pratiques de sécurité :

>[!NOTE]
>
>Pour obtenir les dernières informations sur les correctifs de sécurité, consultez le [Bulletin de sécurité Adobe APSB25-26](https://helpx.adobe.com/fr/security/products/magento/apsb25-26.html).

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Paramètres</strong></td>
            <td>Les améliorations suivantes ont été apportées aux paramètres de sécurité dans cette version :
              <ul>
                <li><strong>Duo Security 2FA</strong> : cette modification met à jour l’implémentation de l’authentification à deux facteurs <a href="https://experienceleague.adobe.com/fr/docs/commerce-admin/systems/security/2fa/security-two-factor-authentication-use#duo-security">Duo Security</a> (2FA) dans Adobe Commerce pour utiliser la dernière version de SDK (Web SDK v4). Cette mise à niveau permet aux commerçants d’effectuer une transition transparente vers l’utilisation de Duo Universal Prompt. Les commerçants doivent mettre à jour leur configuration dans les paramètres d’administration pour inclure un identifiant client et un secret.<!-- AC-10982 --></li>
                <li><strong>Clés de chiffrement</strong> : <!-- AC-12679 -->repensée de la gestion des clés de chiffrement pour améliorer la convivialité et éliminer les limites et bogues précédents. De nouvelles commandes d’interface de ligne de commande sont désormais disponibles pour <a href="https://experienceleague.adobe.com/fr/docs/commerce-admin/systems/security/encryption-key">modifier</a> les clés et <a href="https://developer.adobe.com/commerce/php/development/security/data-encryption/">rechiffrer</a> certaines données de configuration du système, de paiement et de champ personnalisé. La modification des clés dans l’interface utilisateur d’administration n’est plus prise en charge dans cette version. Vous devez utiliser les commandes de l’interface de ligne de commande. Pour plus d’informations, consultez l’article <a href="https://experienceleague.adobe.com/fr/docs/commerce-knowledge-base/kb/troubleshooting/known-issues-patches-attached/troubleshooting-encryption-key-rotation-cve-2024-34102">Dépannage de la rotation de la clé de chiffrement : CVE-2024-34102</a> de la base de connaissances .</li>
                <li><strong>Paramètres de mot de passe à usage unique (OTP)</strong> : cette mise à jour est nécessaire pour résoudre une erreur introduite par une <a href="https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/#new-system-configuration-validation-for-two-factor-authentication-otp_window-value">modification rétrocompatible</a> dans la version 2.4.7. La description du champ <strong>[!UICONTROL OTP Window]</strong> fournit désormais une explication précise du paramètre et la valeur par défaut a été modifiée de <code>1</code> en <code>29</code>.<!-- AC-11762 --></li>
              </ul>
            </td>
        <tr>
            <td><strong>Intégrité des sous-ressources (SRI)</strong></td>
            <td>Le <a href="https://developer.adobe.com/commerce/php/development/security/subresource-integrity/">mécanisme ISR</a> introduit dans la version 2.4.7 a été restructuré pour améliorer la fiabilité et les performances. Au lieu de stocker les hachages dans un cache personnalisé qui pourrait être effacé lors des opérations de vidage du cache, les hachages SRI sont désormais stockés directement dans le répertoire <code>pub/static</code> et organisés par zone (<code>adminhtml</code>, <code>base</code>, <code>frontend</code>). Cette modification élimine la nécessité de redéployer du contenu statique après les vidages du cache.</td>
        </tr>
        <tr>
            <td><strong>[!UICONTROL Data Collector]</strong>
            <td>L’outil de prise en charge [!UICONTROL System] &gt; [!UICONTROL Support] &gt; [!UICONTROL Data Collector] a été supprimé pour empêcher tout accès non autorisé et améliorer la sécurité de la plateforme.</td>
        </tr>
    </tbody>
</table>

### Plateforme

Les mises à niveau de plateforme suivantes pour cette version garantissent qu’Adobe Commerce reste une plateforme robuste et fiable, prête à répondre aux exigences des environnements commerciaux modernes :

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Cache</strong></td>
            <td>Cette version comprend la prise en charge de Valkey 8.x.<!-- AC-12027 --></td>
        </tr>
        <tr>
            <td><strong>Base de données</strong></td>
            <td>Conformément à notre <a href="/help/release/lifecycle-policy.md">politique de cycle de vie de la prise en charge</a>, Adobe Commerce est désormais compatible avec les versions de prise en charge à long terme (LTS) suivantes des technologies de base de données :
              <ul>
                <li><strong>MariaDB 11.4 LTS</strong> <em>_(pris en charge jusqu’en 2029)_</em> : la version précédente (MariaDB 10.6) arrivera en fin de vie en 2026, ce qui rend cette mise à niveau essentielle pour maintenir l’intégrité et les performances du système. MariaDB 10.6 est toujours pris en charge, mais Adobe recommande d’effectuer une mise à niveau vers MariaDB 11.4 lors de la mise à niveau vers Adobe Commerce 2.4.8.</li>
                <li><strong>MySQL 8.4 LTS</strong> <em>_(pris en charge jusqu’en 2032)_</em> : la version précédente (MySQL 8.0) arrive en fin de vie en 2026, ce qui rend cette mise à niveau essentielle pour maintenir l’intégrité et les performances du système. MySQL 8.0 est toujours pris en charge, mais Adobe recommande d’effectuer une mise à niveau vers MySQL 8.4 lors de la mise à niveau vers Adobe Commerce 2.4.8</li>
              </ul>
            Cette version comprend les améliorations de base de données suivantes :
              <ul>
                <li><strong>Classement MySQL</strong> : le système utilise désormais par défaut le classement <code>utf8mb4</code> pour MySQL, assurant ainsi la compatibilité avec MySQL 8 et la pérennisation contre l’obsolescence de <code>utf8mb3</code>. Auparavant, le système utilisait par défaut le classement <code>utf8mb3</code>, qui est obsolète dans MySQL 8.<!-- AC-8828 --></li>
                <li><strong>Restrictions de clé étrangère MySQL </strong> : MySQL 8.4 introduit par défaut une validation de clé étrangère plus stricte. Le paramètre <code>restrict_fk_on_non_standard_key</code> est désormais activé par défaut, ce qui limite l’utilisation de clés non uniques ou partielles comme clés étrangères. Les commerçants effectuant une mise à niveau de MySQL 8.0 vers MySQL 8.4 doivent définir explicitement ce paramètre sur OFF ou utiliser l’option de serveur <code>--skip-restrict-fk-on-non-standard-key</code> pour maintenir la compatibilité avec les structures de base de données existantes. Voir le <a href="/help/upgrade/prepare/prerequisites.md#mysql"><em> Guide de mise à niveau </em></a> pour plus d’informations.<!-- AC-14257 --></li>
              </ul>
            </td>
        </tr>
        <tr>
            <td><strong>File d’attente des messages</strong></td>
            <td>Cette version prend désormais en charge RabbitMQ 4.x. Avant la mise à niveau vers RabbitMQ 4, les clients Adobe Commerce Cloud et On-premise doivent <a href="https://www.rabbitmq.com/docs/3.13/migrate-mcq-to-qq">migrer de [!DNL classic mirrored queues] vers [!DNL quorum queues]</a>. Cette migration est nécessaire pour les raisons suivantes :
              <ul>
                <li>[!DNL Classic mirrored queues] ne sont pas pris en charge dans RabbitMQ 4 ;</li>
                <li>[!DNL Quorum queues] maintenez une haute disponibilité en répliquant le contenu de la file d’attente sur plusieurs nœuds</li>
              </ul>
            </td>
        </tr>
        <tr>
            <td><strong>PHP</strong></td>
            <td>Cette version comprend les améliorations PHP suivantes :
            <ul>
              <li><strong>PHP 8.4</strong> : cette version ajoute la compatibilité PHP 8.4 pour Adobe Commerce, les extensions groupées et les extensions, services et outils appartenant à Adobe. PHP 8.3 est toujours pris en charge. PHP 8.2 est toujours compatible, mais uniquement à des fins de mise à niveau. Compatibilité avec PHP 8.4 requise <a href="https://developer.adobe.com/commerce/php/development/backward-incompatible-changes/">modifications avec rupture</a>.<!-- AC-12133,AC-13078,AC-13726,AC-13077 --></li>
              <li><strong>PHP 8.1</strong> : cette version supprime PHP 8.1 de toutes les bibliothèques de projets Adobe Commerce, les dépendances, les extensions groupées et les extensions, services et outils appartenant à Adobe.<!-- AC-13038 --></li>
              <li><strong>PHP 8.1</strong> : cette version supprime la compatibilité PHP 8.1 avec Adobe Commerce 2.4.8. Vous devez effectuer la mise à niveau vers PHP 8.3 avant de passer à Adobe Commerce 2.4.8.</li>
              <li><strong>PHP 8.2</strong> : l'un des changements significatifs de PHP 8.2 implique l'obsolescence de la transmission de null aux paramètres de fonctions internes non nulles. Cette version résout les fonctionnalités obsolètes de PHP 8.1 dans les composants principaux de la plateforme et assure la compatibilité avec PHP 8.2.</li>
              <li><strong>PHPUnit 10</strong> : cette version résout plusieurs problèmes critiques, améliore la compatibilité et s’assure que le cadre de test Adobe Commerce est conforme aux dernières normes du secteur. Adobe recommande à tous les fournisseurs et clients Commerce Marketplace dotés de personnalisations de vérifier que leurs tests unitaires et d’intégration s’exécutent sur PHPUnit 10 au lieu de 9.</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Composants</strong></td>
            <td>Les <a href="/help/release/packages/adobe-commerce.md">composants et dépendances</a> tiers suivants ont été mis à jour vers les dernières versions stables afin d’améliorer la stabilité et les performances de la plateforme :
              <ul>
                <li>Compositeur 2.8.x<!-- AC-12028 --></li>
                <li>glob 11.0.0<!-- AC-13076 --></li>
                <li>grunt-contrib-connect 5.0.0<!-- AC-13076 --></li>
                <li>grunt-eslint 25.0.0<!-- AC-13076 --></li>
                <li>imagemin-svgo 11.0.1<!-- AC-13076 --></li>
                <li>jquery/bootstrap 5.3.3<!-- AC-13076 --></li>
                <li>jquery/jstree 3.3.17<!-- AC-13076 --></li>
                <li>jquery.tabs.js 5.3.2<!-- AC-13076 --></li>
                <li>jquery/validate 1.20.x</li>
                <li>js-cookie/js-cookie 3.0.5<!-- AC-13076 --></li>
                <li>moment.js 2.30.1</li>
                <li>monolog/monolog 3.x</li>
                <li>monolog/Require.js 2.3.7</li>
                <li>nginx 1,26<!-- AC-12012 --></li>
                <li>phpunit/phpunit 10.x<!-- AC-12970 --></li>
                <li>serve-static 1.16.2<!-- AC-13076 --></li>
                <li>TinyMCE 6.8.5<!-- AC-13256 --></li>
                <li>trait de soulignement 1.13.7<!-- AC-13076 --></li>
                <li>Uppy 4.4.0<!-- AC-13076 --></li>
                <li>Vernis 7.6.x<!-- AC-12029 --></li>
                <li>wikimedia/less.php 5.x</li>
              </ul>
              Les composants suivants ont été supprimés :
                <ul>
                  <li>TinyMCE 5<!-- AC-12944 --></li>
                </ul>
              Toutes les dépendances Laminas ont été mises à niveau vers la dernière version, à l'exception de ce qui suit, qui ont été remplacés par des packages alternatifs ou des fonctionnalités PHP natives :
                <ul>
                  <li>laminas/laminas-file</li>
                  <li>laminas-mail</li>
                  <li>laminas/laminas-mime</li>
                  <li>laminas/laminas-oauth</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Rechercher</strong></td>
            <td>Adobe Commerce est désormais optimisé pour OpenSearch 2.19 et n’est plus compatible avec Elasticsearch. Tous les modules et classes Elasticsearch 7 et 8 sont désormais obsolètes dans le codebase. Adobe recommande vivement de passer à OpenSearch pour les déploiements d’infrastructures On-Premise et Cloud afin d’assurer une prise en charge et une compatibilité continues. Voir <a href="/help/upgrade/prepare/opensearch-migration.md">Migration vers OpenSearch</a>.
              <ul>
                <li>Les options Elasticsearch 7 et Elasticsearch 8 sont désormais étiquetées comme « (Obsolète) » dans la configuration d’administration.</li>
                <li>Lorsque l’utilisateur sélectionne Elasticsearch comme moteur de recherche dans la configuration Administration , Commerce affiche une notification indiquant <em> Cette option de moteur de recherche n’est plus prise en charge par Adobe. Nous vous recommandons plutôt d’utiliser OpenSearch comme moteur de recherche. »</em></li>
              </ul>
            </td>
        </tr>
    </tbody>
</table>

### Performances

Les améliorations de performances suivantes ont été apportées à cette version :

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Indexeurs</strong></td>
            <td>Le <a href="/help/implementation-playbook/best-practices/maintenance/indexer-configuration.md#set-indexers-to-update-on-schedule">mode indexeur</a> par défaut de tous les indexeurs est désormais [!UICONTROL Update by Schedule] lors de l’installation d’une nouvelle version d’Adobe Commerce ou de la mise à niveau d’une version précédente. La nouvelle valeur par défaut garantit que les indexeurs se trouvent dans la configuration recommandée, ce qui améliore les performances du système et réduit les problèmes potentiels.</td>
        </tr>
        <tr>
            <td><strong>Prix des produits</strong></td>
            <td><!-- AC-13448 -->Le système permet désormais des mises à jour en bloc plus efficaces des prix de niveau sans causer de problèmes de performances ou d’absence de réponse du site lors de l’utilisation du point d’entrée de l’API REST <a kref="https://adobe-commerce.redoc.ly/2.4.7-admin/tag/productstier-prices/"><code>/V1/products/tier-prices</code></a>. Auparavant, la mise à jour d’un grand nombre de prix à l’aide de ce point d’entrée pouvait entraîner des problèmes de performances et une absence de réactivité du site.</td>
        </tr>
    </tbody>
</table>

### Qualité

Cette version comprend les améliorations de qualité suivantes :

<table style="table-layout:auto">
    <tbody>
        <tr>
           <td><strong>Inventaire</strong></td>
           <td>Le système fonctionne désormais sans la dépendance auparavant masquée du catalogue introduite par InventoryIndexer, ce qui garantit que la création du produit, le changement de mode d’affichage, le changement de statut du stock et d’autres fonctionnalités associées fonctionnent comme prévu. Auparavant, cette dépendance masquée provoquait des incohérences car différentes entités étaient synchronisées et l’indexeur utilisait différentes entités.</td>
        </tr>
        <tr>
            <td><strong>Commandes</strong></td>
            <td>Pour éviter toute confusion, le libellé du bouton [!UICONTROL Submit Comment] a été remplacé par [!UICONTROL Update] dans la page <a href="https://experienceleague.adobe.com/fr/docs/commerce-admin/stores-sales/order-management/orders/order-processing#notes-for-this-order">détails de commande</a>.</td>
        </tr>
    </tbody>
</table>

### GraphQL

Cette version comprend les améliorations GraphQL suivantes :

<table style="table-layout:auto">
    <tbody>
        <td><strong>Panier et passer en caisse</strong></td>
        <td>
            <ul>
                <li><!--LYNX-387-->Ajout des nouveaux champs suivants au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemPrices"><code>CartItemPrices</code></a> pour prendre en charge l’affichage précis des prix et les calculs de remise :
                <ul>
                  <li><code>original_item_price</code></li>
                  <li><code>original_row_total</code></li>
                  <li><code>row_total_including_catalog_discounts_only</code></li>
                </ul>
              </li>
              <li><!--LYNX-781-->Mise à jour du processus de passage en caisse pour que GraphQL affiche uniquement le mode de paiement « Gratuit » lorsque le total de la commande est égal à zéro. Cette amélioration réduit la confusion des acheteurs et garantit une expérience d’achat plus fluide.</li>
              <li><!--LYNX-753-->Ajout de la prise en charge de la récupération des paramètres de configuration des termes et conditions via la requête GraphQL <code>StoreConfig</code>. Nouvelles configurations disponibles : [!UICONTROL Stores] &gt; [!UICONTROL Settings] &gt; [!UICONTROL Configuration] &gt; [!UICONTROL Checkout] &gt; [!UICONTROL Checkout Options] &gt; [!UICONTROL Enable Terms and Conditions]. Ces paramètres permettent aux applications frontales d’activer et de configurer dynamiquement les conditions générales en fonction de la vue de magasin dans la page de passage en caisse.</li>
              <li><!--LYNX-542-->Mise à jour de la mutation <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-updateCartItems"><code>updateCartItems</code></a> pour renvoyer des réponses de succès avec des détails d’erreur au lieu d’exceptions. Amélioration du mappage d’erreurs pour améliorer la clarté des notifications utilisateur.</li>
              <li><!--LYNX-541-->Ajout d’un nouveau type de <code>InsufficientStockError</code> pour gérer les cas où les niveaux de stock sont insuffisants. Modification du schéma pour prendre en charge de nouveaux types d’erreurs, améliorant les fonctionnalités de rapport d’erreur.</li>
              <li><!--LYNX-547-->Messagerie affinée pour les notifications de quantité insuffisante et indisponible.</li>
              <li><!--LYNX-451-->Ajout du champ <code>grand_total_excluding_tax</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartPrices"><code>CartPrices</code></a>, fournissant une tarification taxe incluse claire.</li>
              <li><!--LYNX-377-->Ajout de la <code>not_available_message</code> à la <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemInterface"><code>CartItemInterface</code></a> .</li>
            </ul>
        </td>
       </tr>
        <tr>
           <td><strong>Clients et groupes de clients</strong></td>
           <td>Cette version comprend les améliorations suivantes de la gestion des clients :
             <ul>
               <li><!--LYNX-391-->Amélioration de la gestion des erreurs dans la mutation <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-generateCustomerToken"><code>generateCustomerToken</code></a> pour fournir des messages spécifiques pour les e-mails non confirmés. Prend en charge de meilleurs conseils aux utilisateurs et une meilleure résolution des erreurs.</li>
               <li><!--LYNX-390-->Ajout d’une nouvelle mutation <code>resendConfirmationEmail</code> pour le renvoi des confirmations d’e-mail.</li>
               <li><!--LYNX-566-->Ajout du champ <code>customer.addressesV2</code> dans la requête <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/customer/"><code>customer</code></a>, ajoutant la pagination pour les adresses des clients.</li>
             </ul>
           </td>
        </tr>
        <tr>
           <td><strong>Commandes</strong></td>
           <td>Cette version comprend les améliorations suivantes apportées à la gestion des commandes des utilisateurs :
             <ul>
              <li><!--LYNX-476-->Amélioration des messages d’erreur pour inclure les montants de stock disponibles. Fournit aux utilisateurs des informations plus claires sur les niveaux de stock lors des mises à jour des commandes.</li>
              <li><!--LYNX-470-->Ajout d’un nouveau champ <code>date_of_first_order</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrders"><code>CustomerOrders</code></a>.</li>
              <li><!--LYNX-468-->Extension du type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderAddress"><code>OrderAddress</code></a> pour inclure des attributs personnalisés, ce qui améliore la visibilité des détails des commandes. Prend en charge l’affichage d’informations supplémentaires sur les pages de confirmation de commande.</li>
              <li><!--LYNX-450-->Ajout du champ <code>is_virtual</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>, prenant en charge l’identification de produit virtuel. Améliore le traitement des commandes en distinguant les produits virtuels des produits physiques.</li>
              <li><!--LYNX-449-->Ajout d’un type de <code>OrderItemPrices</code> similaire à <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartItemPrices"><code>CartItemPrices</code></a> à <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderItemInterface"><code>OrderItemInterface</code></a> avec plusieurs nouveaux champs pour le prix.</li>
              <li><!--LYNX-448-->Amélioration de la fonctionnalité d’API pour fusionner les commandes des invités avec les comptes clients en fonction de la correspondance des e-mails. Rationalise la gestion des commandes pour les clients récurrents.</li>
              <li><!-- LYNX-523: -->Extension du type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a> pour inclure un champ <code>available_actions</code> pour une meilleure gestion des commandes. Le champ « available_actions » est mappé à une énumération qui répertorie les actions possibles qui peuvent être effectuées sur la commande.</li>
              <li><!-- LYNX-524 -->Ajout du champ <code>customer_info</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>. Ce champ nécessite le type de <code>OrderCustomerInfo</code> , qui contient des détails sur le nom du client.</li>
              <li><!--LYNX-519-->Ajout de codes d’erreur détaillés au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CancelOrderOutput"><code>CancelOrderOutput</code></a>. Amélioration de la gestion des erreurs et des commentaires des utilisateurs pour les processus d’annulation de commande.</li>
              <li><!--LYNX-505-->Ajout d’une nouvelle mutation <code>confirmCancelOrder</code> pour faciliter l’annulation des commandes pour les acheteurs invités.</li>
              <li><!--LYNX-644-->Mise à jour du résolveur <code>OrderStatusChangeDate</code> pour renvoyer la date de changement du statut de la commande au format par défaut sans reformatage supplémentaire, ce qui garantit la cohérence entre les réponses.</li>
              <li><!--LYNX-642-->Mise à jour du champ <code>order.availableActions</code> pour s’assurer que l’action <code>REORDER</code> n’est pas renvoyée si un commerçant <a href="https://experienceleague.adobe.com/fr/docs/commerce-admin/stores-sales/shopper-tools/reorders-allow#configure-to-allow-customer-reorders">désactive</a> la fonctionnalité de réorganisation dans l’Administration.</li>
              <li><!--LYNX-598-->Mise à jour des requêtes <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/"><code>guestOrder</code></a> et <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/"><code>guestOrderByToken</code></a> pour utiliser <code>lastname</code> au lieu de <code>postcode</code>, car certains pays considèrent le code postal comme facultatif. Par conséquent, certains utilisateurs invités ont rencontré des problèmes lors de la récupération de jetons lors du placement des commandes ou de la récupération des commandes passées à l’aide d’un jeton.</li>
              <li><!--LYNX-568-->Mise à jour de la mutation <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/mutations/cancel-order/"><code>cancelOrder</code></a> pour qu’elle soit accessible uniquement aux clients enregistrés. Ajout d’une nouvelle mutation <code>requestGuestOrderCancel</code>, qui nécessite un jeton d’ordre (similaire à l’entrée <code>guestOrderByToken</code>).</li>
              <li><!--LYNX-551-->Ajout d’un champ <code>order_status_change_date</code> pour suivre la date des modifications du statut de la commande.</li>
              <li><!--LYNX-524-->Ajout de <code>OrderCustomerInfo</code> au type de <code>CustomerOrder</code>.</li>
              <li><!--LYNX-523-->Ajout du champ <code>CustomerOrder.available_actions</code> pour afficher les actions disponibles pour une commande.</li>
              <li><!--LYNX-519-->Codes d’erreur mappés avec les messages d’erreur correspondants pour l’annulation de la commande.</li>
              <li><!--LYNX-470-->Ajout d’un filtre d’historique des commandes basé sur le champ <code>created_at</code> et <code>date_of_first_order</code> exposées avec le type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrders"><code>CustomerOrders</code></a> .</li>
              <li><!--LYNX-450-->Ajout du champ <code>is_virtual</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a>, similaire au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-Cart"><code>Cart</code></a>. Cela permet au client de masquer de manière conditionnelle les informations d’expédition pour les commandes contenant uniquement des produits virtuels.</li>
              <li><!--LYNX-449-->Mise à jour des réponses aux requêtes <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order/"><code>guestOrder</code></a> et <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/orders/queries/guest-order-by-token/"><code>guestOrderByToken</code></a> afin d’inclure les champs manquants liés au résumé du panier pour la confirmation de commande. Ajout du type de <code>OrderItemPrices</code> et des champs <code>original_price</code> et <code>original_price_including_tax</code> aux types de <code>OrderItemPrices</code> et de <code>CartItemPrices</code>. Le champ des prix comprend désormais des informations détaillées sur les prix, ce qui permet à la page de confirmation de commande d'afficher un résumé plus complet du panier, y compris la quantité totale, les détails de l'article et les prix de pré-remise.</li>
              <li><!--LYNX-448-->Mise à jour de l’API pour prendre en charge la fusion des commandes de clients avec les comptes clients lorsque les adresses e-mail correspondent. Les commandes passées par des invités sont désormais automatiquement associées au compte client correspondant lors de l’enregistrement ou si un compte existant associé au même e-mail est trouvé.</li>
              <li><!--LYNX-701-->Mise à jour du type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CustomerOrder"><code>CustomerOrder</code></a> pour inclure les points de crédit et de récompense de magasin appliqués aux totaux des commandes. Désormais, la payload de commande renvoie le libellé et la valeur pour les points de crédit et de récompense de magasin, garantissant ainsi des détails complets sur la synthèse des coûts.</li>
            </ul>
           </td>
        </tr>
        <tr>
        <td><strong>Produits et catalogue</strong></td>
        <td>
            <ul>
              <li><!--LYNX-540-->Ajout d’un champ de <code>quantity</code> dans le <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-ProductInterface"><code>ProductInterface</code></a> pour fournir des détails sur le niveau de stock. Il affiche le stock disponible ou la valeur null en fonction des paramètres d’administration.</li>
              <li><!--LYNX-460-->Correction de l’affichage des prix pour les produits groupés, garantissant ainsi des informations précises sur les prix et les devises.</li>
              <li><!--LYNX-401-->Ajout des champs <code>grouped_product_image</code> et <code>configurable_product_image</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-StoreConfig"><code>StoreConfig</code></a>.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Options cadeaux et cartes cadeaux</strong></td>
        <td>
            <ul>
              <li><!--LYNX-713-->Mise à jour des types <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-GiftOptionsPrices"><code>GiftOptionsPrices</code></a> et <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderTotal"><code>OrderTotal</code></a> pour inclure les champs <code>price_excluding_tax</code> et <code>price_including_tax</code> pour l’emballage-cadeau (par article et commande) et les cartes imprimées. Cette amélioration garantit un affichage précis des taxes en fonction des paramètres de configuration du magasin pour les requêtes de panier et de commande.</li>
              <li><!--LYNX-695-->Mise à jour de la requête <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/store/queries/store-config/"><code>storeConfig</code></a> afin d’inclure la <code>printed_card_priceV2</code> de renvoyer un objet price au lieu d’une chaîne.</li>
              <li><!--LYNX-694-->Ajout des champs <code>gift_wrapping_available</code> et <code>gift_wrapping_price</code> à la requête <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/products/queries/products/"><code>products</code></a>. Le champ <code>gift_wrapping_price</code> est désormais renvoyé en tant qu’objet de prix.</li>
              <li><!--LYNX-693-->Ajout de champs <code>gift_message</code> et <code>gift_wrapping</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-GiftCardItem"><code>GiftCardCartItem</code></a>. Mise à jour de la logique pour ignorer l’emballage cadeau pour les produits virtuels.</li>
              <li><!--LYNX-692-->Mise à jour de la requête <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/orders/"><code>customerOrders</code></a> pour traiter correctement le champ <code>gift_message</code>.</li>
              <li><!--LYNX-691-->Mise à jour de la requête <a href="https://developer.adobe.com/commerce/webapi/graphql/schema/customer/queries/orders/"><code>customerOrders</code></a> afin d’inclure le champ <code>applied_gift_cards</code>, ce qui permet de récupérer les données de carte cadeau appliquées similaires à <code>applied_coupons</code>.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Renvoie</strong></td>
        <td>
            <ul>
                <li><!--LYNX-632-->Mise à jour de la mutation <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-requestReturn"><code>requestReturn</code></a> pour l'entrée d'éléments RMA pour résoudre les incohérences entre la requête liée à l'attribut de retour et la mutation.</li>
                <li><!--LYNX-515-->Mise à jour de la mutation <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#mutation-requestReturn"><code>requestReturn</code></a> pour prendre en charge les retours de commande des invités.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Taxe et tarification</strong></td>
        <td>
            <ul>
                <li><!--LYNX-633-->Mise à jour du type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-StoreConfig"><code>StoreConfig</code></a> avec des champs pour correspondre aux paramètres d’affichage des taxes dans la configuration Admin.</li>
                <li><!--LYNX-697-->Ajout des champs <code>subtotal_excl_tax</code> et <code>subtotal_incl_tax</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-OrderTotal"><code>OrderTotal</code></a>. Le champ <code>subtotal</code> a été marqué comme obsolète.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Expédition et facturation</strong></td>
        <td>
            <ul>
                <li><!--LYNX-618-->Ajout d’un identifiant pour le carnet d’adresses dans l’adresse du panier d’expédition ou de facturation dans le type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-CartAddressInterface"><code>CartAddressInterface</code></a>.</li>
                <li><!--LYNX-617-->Ajout du champ <code>same_as_billing</code> au type de <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#definition-ShippingCartAddress"><code>ShippingCartAddress</code></a> , qui indique si les adresses d’expédition et de facturation sont identiques.</li>
                <li><!--LYNX-458-->Mise à jour des requêtes <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-guestOrder"><code>guestOrder</code></a> et <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-guestOrderByToken"><code>guestOrderByToken</code></a> afin d’inclure des attributs d’adresse personnalisés, garantissant ainsi des informations d’adresse complètes pour les nouveaux comptes.</li>
            </ul>
        </td>
    </tr>
    <tr>
        <td><strong>Sécurité</strong></td>
        <td>
            <ul>
                <li><!--LYNX-522-->Ajout d’un champ <code>theme</code> à la requête <a href="https://developer.adobe.com/commerce/webapi/graphql-api/index.html#query-recaptchaV3Config"><code>recaptchaV3Config</code></a>. Ce champ vous permet de spécifier le nom du thème à utiliser pour effectuer le rendu du reCaptcha en veillant à ce que les informations de prix et de devise soient exactes.</li>
                <li><!--LYNX-319-->Amélioration de la sécurité en veillant à ce que les requêtes avec des jetons client expirés renvoient désormais une réponse <code>401 Unauthorized</code>.</li>
            </ul>
        </td>
    </tr>
    </tbody>
</table>

### Braintree

Cette version comprend les améliorations suivantes des extensions groupées Braintree :

<table style="table-layout:auto">
    <tbody>
        <tr>
            <td><strong>Améliorations générales</strong></td>
            <td>Cette version comprend les améliorations générales suivantes de l’extension Braintree :
            <ul>
              <li><!-- BUNDLE-3373 -->Pour offrir une véritable expérience de paiement express, l’extension Braintree inclut désormais les méthodes d’expédition dans la fenêtre modale PayPal, ce qui permet au client de passer en caisse avec moins de clics. Les options de livraison sont répertoriées et calculées en fonction de l'adresse de livraison enregistrée dans le compte PayPal du client. Auparavant, les clients accédaient à une page de révision et choisissaient un mode d’expédition pour effectuer le paiement. La page de révision est désormais facultative, ce qui permet aux commerçants d'activer/désactiver ce parcours utilisateur. Les boutons PayPal Express se trouvent sur le PDP, le mini-panier, le panier et en haut de la caisse.</li>
              <li><!-- BUNDLE-3407 -->Il existe désormais une nouvelle version du SDK Braintree. La version PHP SDK est 6.21.0. La version du SDK JavaScript est la version 3.112.0. La dernière version comporte certaines modifications requises pour une compatibilité future avec les nouvelles fonctionnalités.</li>
              <li><!-- BUNDLE-3406 -->Optimisation générale du code dans l’extension Braintree.</li>
              <li><!-- BUNDLE-3405 -->Pour déterminer la page sur laquelle un client lance l’expérience de passage en caisse PayPal (PDP, panier ou passage en caisse), l’extension Braintree transmet désormais un attribut <code>data-page-type</code> au SDK JavaScript. Cet attribut est utilisé pour effectuer le rendu du bouton sur la page.</li>
              <li><!-- BUNDLE-3404 -->Conformément aux nouvelles directives de la marque PayPal, l’extension Braintree positionne désormais les messages PayLater sur le PDP, le mini-panier et le panier. Le message se trouve maintenant plus près/à côté du prix/total. L’extension affiche désormais également le message PayLater dans le cadre du bouton de passage en caisse, plutôt que séparément.</li>
              <li><!-- BUNDLE-3403 -->Pour améliorer l’expérience de paiement express, l’extension Braintree intègre les méthodes d’expédition directement dans la fenêtre modale Google Pay, ce qui permet aux clients de passer en caisse en moins de clics. Les options d’expédition sont automatiquement affichées et calculées en fonction de l’adresse enregistrée dans le compte Google Pay du client. Auparavant, les clients étaient redirigés vers une page de révision pour sélectionner un mode d’expédition avant d’avoir effectué leur paiement. Désormais, la page de révision est facultative, ce qui donne au commerçant la possibilité d’activer/désactiver cette étape dans le processus de passage en caisse. Les boutons Google Pay Express se trouvent sur le mini-panier, le panier et en haut du passage en caisse.</li>
              <li><!-- BUNDLE-3402 -->Mise à jour de la marque Apple Pay actuelle vers la dernière version.</li>
              <li><!-- BUNDLE-3401 -->Mise à jour de la marque Google Pay actuelle vers la dernière version.</li>
              <li><!-- BUNDLE-3400 -->Suppression des modes de paiement Sofort et Giropay, car ils ne sont plus pris en charge.</li>
            </ul>
            </td>
        </tr>
        <tr>
            <td><strong>Tracking des packages</strong></td>
            <td><!-- BUNDLE-3420 -->Lorsqu’une commande PayPal est envoyée, l’extension Braintree envoie désormais le transporteur et le numéro de suivi aux comptes PayPal du commerçant et du client. Fournir des informations de tracking et des détails au niveau de l’article améliore considérablement l’expérience client tout en réduisant les coûts opérationnels pour les commerçants. Les clients peuvent facilement se connecter à leur compte PayPal, consulter la commande et accéder au lien de suivi. Les commerçants bénéficient d'une résolution automatique des litiges PayPal « objet non reçu », d'un accès plus rapide aux fonds de paiement et de gel des litiges, de mises à jour en direct du suivi, de litiges au niveau de l'article (plutôt que de litiges pour l'ensemble de la commande) et de profils de risque améliorés.</td>
        </tr>
        <tr>
            <td><strong>Éléments de ligne</strong></td>
            <td>Les améliorations suivantes ont été apportées aux lignes de cette version :
            <ul>
              <li><strong>Appliquer la paie</strong><!-- BUNDLE-3409 --> : lorsque les clients passent en caisse à l’aide d’Apple Pay Express, l’extension Braintree affiche désormais les articles de la ligne de panier dans la boîte de dialogue modale Apple Pay. En cliquant sur l’info-bulle (?) en regard du prix, les clients peuvent afficher des articles de panier individuels, des remises, des informations d’expédition et de taxe, ce qui élimine la nécessité de quitter la fenêtre modale pour confirmer leurs articles.</li>
              <li><strong>Google Pay</strong><!-- BUNDLE-3408 --> : lorsque les clients passent en caisse à l’aide de Google Pay Express, l’extension Braintree affiche désormais les articles de la ligne de panier directement dans la boîte de dialogue modale Google Pay. En cliquant sur l’info-bulle (?) en regard du prix, le client peut afficher des articles de panier individuels, des remises, des détails d’expédition et de taxe, éliminant la nécessité de quitter la fenêtre modale pour vérifier ses articles.</li>
            </ul>
            </td>
        </tr>
    </tbody>
</table>

<!-- Fixed issues -->

{{$include /help/_includes/templated/release/fixed-issues/commerce-v2.4.8.md}}
